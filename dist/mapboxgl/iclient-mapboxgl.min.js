/*!
 * 
 *          iclient-mapboxgl.(http://iclient.supermap.io)
 *          Copyright© 2000 - 2019 SuperMap Software Co.Ltd
 *          license: Apache-2.0
 *          version: v10.0.0
 *         
 */
!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t){e.exports=mapboxgl},function(e,t){e.exports=function(){try{return THREE}catch(e){return{}}}()},function(e,t){e.exports=function(){try{return mapv}catch(e){return{}}}()},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r},function(e,t,n){var r,o,i;!function(n,a){o=[t,e],r=a,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}(0,function(e,t){"use strict";function n(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function r(e){try{delete window[e]}catch(t){window[e]=void 0}}function o(e){var t=document.getElementById(e);document.getElementsByTagName("head")[0].removeChild(t)}function i(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=e,s=t.timeout||a.timeout,l=t.jsonpCallback||a.jsonpCallback,u=void 0;return new Promise(function(a,c){var f=t.jsonpCallbackFunction||n(),p=l+"_"+f;window[f]=function(e){a({ok:!0,json:function(){return Promise.resolve(e)}}),u&&clearTimeout(u),o(p),r(f)},i+=-1===i.indexOf("?")?"?":"&";var h=document.createElement("script");h.setAttribute("src",""+i+l+"="+f),h.id=p,document.getElementsByTagName("head")[0].appendChild(h),u=setTimeout(function(){c(new Error("JSONP request to "+e+" timed out")),r(f),o(p)},s)})}var a={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};t.exports=i})},function(e,t){e.exports=function(){try{return XLSX}catch(e){return{}}}()},function(e,t){e.exports=function(){try{return convert}catch(e){return{}}}()},function(e,t,n){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(r){function o(){}function i(e,t){return function(){e.apply(t,arguments)}}function a(e){if("object"!==n(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function s(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,a._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?l:u)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}l(t.promise,r)})}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===n(t)||"function"==typeof t)){var r=t.then;if(t instanceof a)return e._state=3,e._value=t,void c(e);if("function"==typeof r)return void p(i(r,t),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e(function(e){n||(n=!0,l(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}var h=setTimeout;a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(o);return s(this,new f(e,t,n)),n},a.all=function(e){var t=Array.prototype.slice.call(e);return new a(function(e,r){function o(a,s){try{if(s&&("object"===n(s)||"function"==typeof s)){var l=s.then;if("function"==typeof l)return void l.call(s,function(e){o(a,e)},r)}t[a]=s,0==--i&&e(t)}catch(e){r(e)}}if(0===t.length)return e([]);for(var i=t.length,a=0;a<t.length;a++)o(a,t[a])})},a.resolve=function(e){return e&&"object"===n(e)&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},a._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){h(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},a._setImmediateFn=function(e){a._immediateFn=e},a._setUnhandledRejectionFn=function(e){a._unhandledRejectionFn=e},e.exports?e.exports=a:r.Promise||(r.Promise=a)}(this)}).call(this,n(13).setImmediate)},function(e,t){e.exports=function(){try{return elasticsearch}catch(e){return{}}}()},function(e,t,n){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function o(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function i(e,t){return r(t,function(t){return[t,e[t]]})}function a(e,t){return null==e?void 0:e[t]}function s(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function l(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function u(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function c(e,t){var n=ae(e)||g(e)?o(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!z.call(e,a)||i&&("length"==a||d(a,r))||n.push(a);return n}function f(e){return V.call(e)}function p(e){return!(!P(e)||v(e))&&(O(e)||s(e)?W:N).test(b(e))}function h(e){if(!m(e))return Y(e);var t=[];for(var n in Object(e))z.call(e,n)&&"constructor"!=n&&t.push(n);return t}function y(e,t){var n=a(e,t);return p(n)?n:void 0}function d(e,t){return!!(t=null==t?E:t)&&("number"==typeof e||M.test(e))&&e>-1&&e%1==0&&e<t}function v(e){return!!H&&H in e}function m(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||B)}function b(e){if(null!=e){try{return J.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function g(e){return w(e)&&z.call(e,"callee")&&(!q.call(e,"callee")||V.call(e)==k)}function S(e){return null!=e&&_(e.length)&&!O(e)}function w(e){return C(e)&&S(e)}function O(e){var t=P(e)?V.call(e):"";return t==x||t==j}function _(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=E}function P(e){var t=n(e);return!!e&&("object"==t||"function"==t)}function C(e){return!!e&&"object"==n(e)}function T(e){return S(e)?c(e):h(e)}var E=9007199254740991,k="[object Arguments]",x="[object Function]",j="[object GeneratorFunction]",A="[object Map]",R="[object Set]",L=/[\\^$.*+?()[\]{}|]/g,N=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,I="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t,F="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,D=I||F||Function("return this")(),G=Function.prototype,B=Object.prototype,U=D["__core-js_shared__"],H=function(){var e=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),J=G.toString,z=B.hasOwnProperty,V=B.toString,W=RegExp("^"+J.call(z).replace(L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=B.propertyIsEnumerable,Y=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Q=y(D,"DataView"),X=y(D,"Map"),K=y(D,"Promise"),Z=y(D,"Set"),$=y(D,"WeakMap"),ee=b(Q),te=b(X),ne=b(K),re=b(Z),oe=b($),ie=f;(Q&&"[object DataView]"!=ie(new Q(new ArrayBuffer(1)))||X&&ie(new X)!=A||K&&"[object Promise]"!=ie(K.resolve())||Z&&ie(new Z)!=R||$&&"[object WeakMap]"!=ie(new $))&&(ie=function(e){var t=V.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?b(n):void 0;if(r)switch(r){case ee:return"[object DataView]";case te:return A;case ne:return"[object Promise]";case re:return R;case oe:return"[object WeakMap]"}return t});var ae=Array.isArray,se=function(e){return function(t){var n=ie(t);return n==A?l(t):n==R?u(t):i(t,e(t))}}(T);e.exports=se}).call(this,n(3))},function(e,t){e.exports=function(){try{return echarts}catch(e){return{}}}()},function(e,t){e.exports=function(){try{return canvg}catch(e){return{}}}()},function(e,t,n){n(18),e.exports=n(17)},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var o=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,o,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,o,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(o,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(14),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(3))},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[l]=r,s(l),l++}function o(e){delete u[e]}function i(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(c)setTimeout(a,0,e);else{var t=u[e];if(t){c=!0;try{i(t)}finally{o(e),c=!1}}}}if(!e.setImmediate){var s,l=1,u={},c=!1,f=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),p.setImmediate=r,p.clearImmediate=o}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(3),n(15))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){d&&h&&(d=!1,h.length?y=h.concat(y):v=-1,y.length&&s())}function s(){if(!d){var e=o(a);d=!0;for(var t=y.length;t;){for(h=y,y=[];++v<t;)h&&h[v].run();v=-1,t=y.length}h=null,d=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,f,p=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,y=[],d=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];y.push(new l(e,t)),1!==y.length||d||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){!function(t){"use strict";function n(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader;return t.readAsArrayBuffer(e),a(t)}function l(e,t){var n=new FileReader,r=t.headers.map["content-type"]?t.headers.map["content-type"].toString():"",o=/charset\=[0-9a-zA-Z\-\_]*;?/,i=e.type.match(o)||r.match(o),s=[e];return i&&s.push(i[0].replace(/^charset\=/,"").replace(/;$/,"")),n.readAsText.apply(n,s),a(n)}function u(){return this.bodyUsed=!1,this._initBody=function(e,t){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(d.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e,this._options=t;else if(d.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!d.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText=""},d.blob?(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob,this._options);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=i(this);return e||Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var n=t.body;if(f.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n,t)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function h(e){var t=new o;return e.getAllResponseHeaders().trim().split("\n").forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),o=n.join(":").trim();t.append(r,o)}),t}function y(e,t){t||(t={}),this._initBody(e,t),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof o?t.headers:new o(t.headers),this.url=t.url||""}if(t.__disableNativeFetch||!t.fetch){o.prototype.append=function(e,t){e=n(e),t=r(t);var o=this.map[e];o||(o=[],this.map[e]=o),o.push(t)},o.prototype.delete=function(e){delete this.map[n(e)]},o.prototype.get=function(e){var t=this.map[n(e)];return t?t[0]:null},o.prototype.getAll=function(e){return this.map[n(e)]||[]},o.prototype.has=function(e){return this.map.hasOwnProperty(n(e))},o.prototype.set=function(e,t){this.map[n(e)]=[r(t)]},o.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)};var d={blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t},v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},u.call(f.prototype),u.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var m=[301,302,303,307,308];y.redirect=function(e,t){if(-1===m.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},t.Headers=o,t.Request=f,t.Response=y,t.fetch=function(e,t){return new Promise(function(n,r){function o(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}function i(){if(4===s.readyState){var e=1223===s.status?204:s.status;if(e<100||e>599){if(l)return;return l=!0,void r(new TypeError("Network request failed"))}var t={status:e,statusText:s.statusText,headers:h(s),url:o()},i="response"in s?s.response:s.responseText;l||(l=!0,n(new y(i,t)))}}var a;a=f.prototype.isPrototypeOf(e)&&!t?e:new f(e,t);var s=new XMLHttpRequest,l=!1;s.onreadystatechange=i,s.onload=i,s.onerror=function(){l||(l=!0,r(new TypeError("Network request failed")))},s.open(a.method,a.url,!0);try{"include"===a.credentials&&("withCredentials"in s?s.withCredentials=!0:console&&console.warn&&console.warn("withCredentials is not supported, you can ignore this warning"))}catch(e){console&&console.warn&&console.warn("set withCredentials error:"+e)}"responseType"in s&&d.blob&&(s.responseType="blob"),a.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send(void 0===a._bodyInit?null:a._bodyInit)})},t.fetch.polyfill=!0,e.exports&&(e.exports=t.fetch)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";n.r(t);n(19),n(25)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function P(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=E(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e}function M(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?J(e):t}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),e}function K(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t,n){return($="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ee(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ee(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=te(e)););return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t,n){return t&&ae(e.prototype,t),n&&ae(e,n),e}function le(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?ue(e):t}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t,n){return(ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=fe(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function fe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pe(e)););return e}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),e}function ge(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?Se(e):t}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e,t,n){return(we="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Oe(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Oe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_e(e)););return e}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t,n){return t&&ke(e.prototype,t),n&&ke(e,n),e}function je(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?Ae(e):t}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e,t,n){return(Re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Le(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Le(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ne(e)););return e}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?Be(e):t}function Be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}
function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?qe(e):t}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t,n){return t&&$e(e.prototype,t),n&&$e(e,n),e}function tt(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?nt(e):t}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t,n){return t&&lt(e.prototype,t),n&&lt(e,n),e}function ct(e,t){return!t||"object"!==at(t)&&"function"!=typeof t?ft(e):t}function ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e,t,n){return t&&vt(e.prototype,t),n&&vt(e,n),e}function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t,n){return t&&St(e.prototype,t),n&&St(e,n),e}function Ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pt(e,t,n){return t&&_t(e.prototype,t),n&&_t(e,n),e}function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t,n){return t&&Et(e.prototype,t),n&&Et(e,n),e}function xt(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?jt(e):t}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(e,t,n){return(At="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Rt(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Rt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lt(e)););return e}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function It(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t,n){return t&&Ft(e.prototype,t),n&&Ft(e,n),e}function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e,t,n){return t&&Ut(e.prototype,t),n&&Ut(e,n),e}function Jt(e,t){return!t||"object"!==Gt(t)&&"function"!=typeof t?zt(e):t}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t,n){return t&&Qt(e.prototype,t),n&&Qt(e,n),e}function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t,n){return t&&Zt(e.prototype,t),n&&Zt(e,n),e}function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rn(e,t,n){return t&&nn(e.prototype,t),n&&nn(e,n),e}function on(e,t){return!t||"object"!==en(t)&&"function"!=typeof t?sn(e):t}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t,n){return t&&pn(e.prototype,t),n&&pn(e,n),e}function yn(e,t){return!t||"object"!==cn(t)&&"function"!=typeof t?vn(e):t}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t,n){return t&&Sn(e.prototype,t),n&&Sn(e,n),e}function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cn(e,t,n){return t&&Pn(e.prototype,t),n&&Pn(e,n),e}function Tn(e,t){return!t||"object"!==On(t)&&"function"!=typeof t?En(e):t}function En(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kn(e,t,n){return(kn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=xn(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function xn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jn(e)););return e}function jn(e){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t,n){return t&&Mn(e.prototype,t),n&&Mn(e,n),e}function Fn(e,t){return!t||"object"!==Ln(t)&&"function"!=typeof t?Dn(e):t}function Dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t,n){return t&&Jn(e.prototype,t),n&&Jn(e,n),e}function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t,n){return t&&qn(e.prototype,t),n&&qn(e,n),e}function Qn(e,t){return!t||"object"!==Vn(t)&&"function"!=typeof t?Xn(e):t}function Xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(e,t,n){return(Kn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Zn(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Zn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$n(e)););return e}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e,t,n){return t&&or(e.prototype,t),n&&or(e,n),e}function ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t,n){return t&&sr(e.prototype,t),n&&sr(e,n),e}function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(e,t,n){return t&&pr(e.prototype,t),n&&pr(e,n),e}function yr(e,t){return!t||"object"!==cr(t)&&"function"!=typeof t?dr(e):t}function dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(e){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function gr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e,t,n){return t&&Pr(e.prototype,t),n&&Pr(e,n),e}function Tr(e){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e,t,n){return t&&kr(e.prototype,t),n&&kr(e,n),e}function jr(e,t){return!t||"object"!==Tr(t)&&"function"!=typeof t?Rr(e):t}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dr(e,t,n){return t&&Fr(e.prototype,t),n&&Fr(e,n),e}function Gr(e,t){return!t||"object"!==Mr(t)&&"function"!=typeof t?Ur(e):t}function Br(e){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e,t,n){return t&&Wr(e.prototype,t),n&&Wr(e,n),e}function Yr(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?Xr(e):t}function Qr(e){return(Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zr(e,t)}function Zr(e,t){return(Zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t,n){return t&&to(e.prototype,t),n&&to(e,n),e}function ro(e,t){return!t||"object"!==$r(t)&&"function"!=typeof t?io(e):t}function oo(e){return(oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ao(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&so(e,t)}function so(e,t){return(so=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lo(e){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fo(e,t,n){return t&&co(e.prototype,t),n&&co(e,n),e}function po(e,t){return!t||"object"!==lo(t)&&"function"!=typeof t?yo(e):t}function ho(e){return(ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function So(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wo(e){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Po(e,t,n){return t&&_o(e.prototype,t),n&&_o(e,n),e}function Co(e,t){return!t||"object"!==wo(t)&&"function"!=typeof t?Eo(e):t}function To(e){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ko(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xo(e,t)}function xo(e,t){return(xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jo(e){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ao(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t,n){return t&&Ro(e.prototype,t),n&&Ro(e,n),e}function No(e,t){return!t||"object"!==jo(t)&&"function"!=typeof t?Mo(e):t}function Mo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Io(e){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Do(e,t)}function Do(e,t){return(Do=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function Go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uo(e,t,n){return t&&Bo(e.prototype,t),n&&Bo(e,n),e}function Ho(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zo(e,t,n){return t&&Jo(e.prototype,t),n&&Jo(e,n),e}function Vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qo(e,t,n){return t&&Wo(e.prototype,t),n&&Wo(e,n),e}function Yo(e){return(Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ko(e,t,n){return t&&Xo(e.prototype,t),n&&Xo(e,n),e}function Zo(e,t){return!t||"object"!==Yo(t)&&"function"!=typeof t?$o(e):t}function $o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ei(e,t,n){return(ei="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ti(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ti(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ni(e)););return e}function ni(e){return(ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ri(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oi(e,t)}function oi(e,t){return(oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function si(e,t,n){return t&&ai(e.prototype,t),n&&ai(e,n),e}function li(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ci(e,t,n){return t&&ui(e.prototype,t),n&&ui(e,n),e}function fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hi(e,t,n){return t&&pi(e.prototype,t),n&&pi(e,n),e}function yi(e){return(yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mi(e,t,n){return t&&vi(e.prototype,t),n&&vi(e,n),e}function bi(e,t){return!t||"object"!==yi(t)&&"function"!=typeof t?gi(e):t}function gi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Si(e,t,n){return(Si="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=wi(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function wi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oi(e)););return e}function Oi(e){return(Oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pi(e,t)}function Pi(e,t){return(Pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ci(e){return(Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ti(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ki(e,t,n){return t&&Ei(e.prototype,t),n&&Ei(e,n),e}function xi(e,t){return!t||"object"!==Ci(t)&&"function"!=typeof t?ji(e):t}function ji(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ai(e,t,n){return(Ai="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ri(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ri(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Li(e)););return e}function Li(e){return(Li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ni(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mi(e,t)}function Mi(e,t){return(Mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Di(e,t,n){return t&&Fi(e.prototype,t),n&&Fi(e,n),e}function Gi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ui(e,t,n){return t&&Bi(e.prototype,t),n&&Bi(e,n),e}function Hi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zi(e,t,n){return t&&Ji(e.prototype,t),n&&Ji(e,n),e}function Vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qi(e,t,n){return t&&Wi(e.prototype,t),n&&Wi(e,n),e}function Yi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xi(e,t,n){return t&&Qi(e.prototype,t),n&&Qi(e,n),e}function Ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $i(e,t,n){return t&&Zi(e.prototype,t),n&&Zi(e,n),e}function ea(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function na(e,t,n){return t&&ta(e.prototype,t),n&&ta(e,n),e}function ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ia(e,t,n){return t&&oa(e.prototype,t),n&&oa(e,n),e}function aa(e){return(aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function la(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e,t,n){return t&&la(e.prototype,t),n&&la(e,n),e}function ca(e,t){return!t||"object"!==aa(t)&&"function"!=typeof t?fa(e):t}function fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pa(e,t,n){return(pa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ha(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ha(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ya(e)););return e}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function da(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&va(e,t)}function va(e,t){return(va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ma(e){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sa(e,t,n){return t&&ga(e.prototype,t),n&&ga(e,n),e}function wa(e,t){return!t||"object"!==ma(t)&&"function"!=typeof t?Oa(e):t}function Oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _a(e,t,n){return(_a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Pa(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Pa(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ca(e)););return e}function Ca(e){return(Ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ta(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ea(e,t)}function Ea(e,t){return(Ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ka(e){return(ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Aa(e,t,n){return t&&ja(e.prototype,t),n&&ja(e,n),e}function Ra(e,t){return!t||"object"!==ka(t)&&"function"!=typeof t?La(e):t}function La(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Na(e,t,n){return(Na="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ma(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ma(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ia(e)););return e}function Ia(e){return(Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Da(e,t)}function Da(e,t){return(Da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ga(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ua(e,t,n){return t&&Ba(e.prototype,t),n&&Ba(e,n),e}function Ha(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function za(e,t,n){return t&&Ja(e.prototype,t),n&&Ja(e,n),e}function Va(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qa(e,t,n){return t&&Wa(e.prototype,t),n&&Wa(e,n),e}function Ya(e){return(Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ka(e,t,n){return t&&Xa(e.prototype,t),n&&Xa(e,n),e}function Za(e,t){return!t||"object"!==Ya(t)&&"function"!=typeof t?$a(e):t}function $a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function es(e,t,n){return(es="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ts(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ts(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ns(e)););return e}function ns(e){return(ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&os(e,t)}function os(e,t){return(os=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function is(e){return(is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function as(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ls(e,t,n){return t&&ss(e.prototype,t),n&&ss(e,n),e}function us(e,t){return!t||"object"!==is(t)&&"function"!=typeof t?cs(e):t}function cs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fs(e,t,n){return(fs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ps(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ps(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hs(e)););return e}function hs(e){return(hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ys(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ds(e,t)}function ds(e,t){return(ds=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ms(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bs(e,t,n){return t&&ms(e.prototype,t),n&&ms(e,n),e}function gs(e){return(gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ss(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ws(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Os(e,t,n){return t&&ws(e.prototype,t),n&&ws(e,n),e}function _s(e,t){return!t||"object"!==gs(t)&&"function"!=typeof t?Ps(e):t}function Ps(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cs(e,t,n){return(Cs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ts(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ts(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Es(e)););return e}function Es(e){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ks(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xs(e,t)}function xs(e,t){return(xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function js(e){return(js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function As(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ls(e,t,n){return t&&Rs(e.prototype,t),n&&Rs(e,n),e}function Ns(e,t){return!t||"object"!==js(t)&&"function"!=typeof t?Ms(e):t}function Ms(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Is(e,t,n){return(Is="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Fs(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Fs(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ds(e)););return e}function Ds(e){return(Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bs(e,t)}function Bs(e,t){return(Bs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Us(e){return(Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zs(e,t,n){return t&&Js(e.prototype,t),n&&Js(e,n),e}function Vs(e,t){return!t||"object"!==Us(t)&&"function"!=typeof t?Ws(e):t}function Ws(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qs(e,t,n){return(qs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ys(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ys(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qs(e)););return e}function Qs(e){return(Qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ks(e,t)}function Ks(e,t){return(Ks=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function el(e,t,n){return t&&$s(e.prototype,t),n&&$s(e,n),e}function tl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rl(e,t,n){return t&&nl(e.prototype,t),n&&nl(e,n),e}function ol(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function il(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function al(e,t,n){return t&&il(e.prototype,t),n&&il(e,n),e}function sl(e){return(sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ll(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ul(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cl(e,t,n){return t&&ul(e.prototype,t),n&&ul(e,n),e}function fl(e,t){return!t||"object"!==sl(t)&&"function"!=typeof t?hl(e):t}function pl(e){return(pl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dl(e,t)}function dl(e,t){return(dl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ml(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bl(e,t,n){return t&&ml(e.prototype,t),n&&ml(e,n),e}function gl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wl(e,t,n){return t&&Sl(e.prototype,t),n&&Sl(e,n),e}function Ol(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pl(e,t,n){return t&&_l(e.prototype,t),n&&_l(e,n),e}function Cl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function El(e,t,n){return t&&Tl(e.prototype,t),n&&Tl(e,n),e}function kl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jl(e,t,n){return t&&xl(e.prototype,t),n&&xl(e,n),e}function Al(e){return(Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ll(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nl(e,t,n){return t&&Ll(e.prototype,t),n&&Ll(e,n),e}function Ml(e,t){return!t||"object"!==Al(t)&&"function"!=typeof t?Il(e):t}function Il(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fl(e,t,n){return(Fl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Dl(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Dl(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gl(e)););return e}function Gl(e){return(Gl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ul(e,t)}function Ul(e,t){return(Ul=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hl(e){return(Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vl(e,t,n){return t&&zl(e.prototype,t),n&&zl(e,n),e}function Wl(e,t){return!t||"object"!==Hl(t)&&"function"!=typeof t?Yl(e):t}function ql(e){return(ql=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ql(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xl(e,t)}function Xl(e,t){return(Xl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $l(e,t,n){return t&&Zl(e.prototype,t),n&&Zl(e,n),e}function eu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nu(e,t,n){return t&&tu(e.prototype,t),n&&tu(e,n),e}function ru(e){return(ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ou(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function au(e,t,n){return t&&iu(e.prototype,t),n&&iu(e,n),e}function su(e,t){return!t||"object"!==ru(t)&&"function"!=typeof t?lu(e):t}function lu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uu(e,t,n){return(uu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=cu(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function cu(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fu(e)););return e}function fu(e){return(fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hu(e,t)}function hu(e,t){return(hu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function du(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vu(e,t,n){return t&&du(e.prototype,t),n&&du(e,n),e}function mu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gu(e,t,n){return t&&bu(e.prototype,t),n&&bu(e,n),e}function Su(e){return(Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wu(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _u(e,t,n){return t&&Ou(e.prototype,t),n&&Ou(e,n),e}function Pu(e,t){return!t||"object"!==Su(t)&&"function"!=typeof t?Cu(e):t}function Cu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tu(e,t,n){return(Tu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Eu(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Eu(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ku(e)););return e}function ku(e){return(ku=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ju(e,t)}function ju(e,t){return(ju=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Au(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ru(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lu(e,t,n){return t&&Ru(e.prototype,t),n&&Ru(e,n),e}function Nu(e){return(Nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fu(e,t,n){return t&&Iu(e.prototype,t),n&&Iu(e,n),e}function Du(e,t){return!t||"object"!==Nu(t)&&"function"!=typeof t?Gu(e):t}function Gu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bu(e,t,n){return(Bu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Uu(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Uu(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hu(e)););return e}function Hu(e){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ju(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zu(e,t)}function zu(e,t){return(zu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qu(e,t,n){return t&&Wu(e.prototype,t),n&&Wu(e,n),e}function Yu(e){return(Yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ku(e,t,n){return t&&Xu(e.prototype,t),n&&Xu(e,n),e}function Zu(e,t){return!t||"object"!==Yu(t)&&"function"!=typeof t?$u(e):t}function $u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ec(e,t,n){return(ec="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=tc(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function tc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nc(e)););return e}function nc(e){return(nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oc(e,t)}function oc(e,t){return(oc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ic(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sc(e,t,n){return t&&ac(e.prototype,t),n&&ac(e,n),e}function lc(e){return(lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fc(e,t,n){return t&&cc(e.prototype,t),n&&cc(e,n),e}function pc(e,t){return!t||"object"!==lc(t)&&"function"!=typeof t?hc(e):t}function hc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yc(e,t,n){return(yc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=dc(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function dc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vc(e)););return e}function vc(e){return(vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bc(e,t)}function bc(e,t){return(bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wc(e,t,n){return t&&Sc(e.prototype,t),n&&Sc(e,n),e}function Oc(e){return(Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cc(e,t,n){return t&&Pc(e.prototype,t),n&&Pc(e,n),e}function Tc(e,t){return!t||"object"!==Oc(t)&&"function"!=typeof t?Ec(e):t}function Ec(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kc(e,t,n){return(kc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=xc(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function xc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jc(e)););return e}function jc(e){return(jc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ac(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rc(e,t)}function Rc(e,t){return(Rc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lc(e){return(Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ic(e,t,n){return t&&Mc(e.prototype,t),n&&Mc(e,n),e}function Fc(e,t){return!t||"object"!==Lc(t)&&"function"!=typeof t?Dc(e):t}function Dc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gc(e){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uc(e,t)}function Uc(e,t){return(Uc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hc(e){return(Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vc(e,t,n){return t&&zc(e.prototype,t),n&&zc(e,n),e}function Wc(e,t){return!t||"object"!==Hc(t)&&"function"!=typeof t?qc(e):t}function qc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yc(e,t,n){return(Yc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Qc(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Qc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xc(e)););return e}function Xc(e){return(Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zc(e,t)}function Zc(e,t){return(Zc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $c(e){return($c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ef(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nf(e,t,n){return t&&tf(e.prototype,t),n&&tf(e,n),e}function rf(e,t){return!t||"object"!==$c(t)&&"function"!=typeof t?of(e):t}function of(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function af(e,t,n){return(af="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=sf(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function sf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lf(e)););return e}function lf(e){return(lf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cf(e,t)}function cf(e,t){return(cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ff(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hf(e,t,n){return t&&pf(e.prototype,t),n&&pf(e,n),e}function yf(e){return(yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function df(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mf(e,t,n){return t&&vf(e.prototype,t),n&&vf(e,n),e}function bf(e,t){return!t||"object"!==yf(t)&&"function"!=typeof t?gf(e):t}function gf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sf(e,t,n){return(Sf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=wf(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function wf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Of(e)););return e}function Of(e){return(Of=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pf(e,t)}function Pf(e,t){return(Pf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cf(e){return(Cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ef(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kf(e,t,n){return t&&Ef(e.prototype,t),n&&Ef(e,n),e}function xf(e,t){return!t||"object"!==Cf(t)&&"function"!=typeof t?jf(e):t}function jf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Af(e,t,n){return(Af="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Rf(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Rf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lf(e)););return e}function Lf(e){return(Lf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mf(e,t)}function Mf(e,t){return(Mf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function If(e){return(If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ff(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Df(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gf(e,t,n){return t&&Df(e.prototype,t),n&&Df(e,n),e}function Bf(e,t){return!t||"object"!==If(t)&&"function"!=typeof t?Uf(e):t}function Uf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hf(e,t,n){return(Hf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Jf(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Jf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zf(e)););return e}function zf(e){return(zf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wf(e,t)}function Wf(e,t){return(Wf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qf(e){return(qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xf(e,t,n){return t&&Qf(e.prototype,t),n&&Qf(e,n),e}function Kf(e,t){return!t||"object"!==qf(t)&&"function"!=typeof t?Zf(e):t}function Zf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $f(e,t,n){return($f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ep(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ep(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tp(e)););return e}function tp(e){return(tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function np(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rp(e,t)}function rp(e,t){return(rp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function op(e){return(op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ip(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ap(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sp(e,t,n){return t&&ap(e.prototype,t),n&&ap(e,n),e}function lp(e,t){return!t||"object"!==op(t)&&"function"!=typeof t?up(e):t}function up(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cp(e,t,n){return(cp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=fp(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function fp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pp(e)););return e}function pp(e){return(pp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yp(e,t)}function yp(e,t){return(yp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dp(e){return(dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bp(e,t,n){return t&&mp(e.prototype,t),n&&mp(e,n),e}function gp(e,t){return!t||"object"!==dp(t)&&"function"!=typeof t?Sp(e):t}function Sp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wp(e,t,n){return(wp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Op(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Op(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_p(e)););return e}function _p(e){return(_p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cp(e,t)}function Cp(e,t){return(Cp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tp(e){return(Tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ep(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xp(e,t,n){return t&&kp(e.prototype,t),n&&kp(e,n),e}function jp(e,t){return!t||"object"!==Tp(t)&&"function"!=typeof t?Ap(e):t}function Ap(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rp(e,t,n){return(Rp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Lp(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Lp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Np(e)););return e}function Np(e){return(Np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ip(e,t)}function Ip(e,t){return(Ip=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fp(e){return(Fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bp(e,t,n){return t&&Gp(e.prototype,t),n&&Gp(e,n),e}function Up(e,t){return!t||"object"!==Fp(t)&&"function"!=typeof t?Hp(e):t}function Hp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jp(e,t,n){return(Jp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=zp(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function zp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vp(e)););return e}function Vp(e){return(Vp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qp(e,t)}function qp(e,t){return(qp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xp(e,t,n){return t&&Qp(e.prototype,t),n&&Qp(e,n),e}function Kp(e){return(Kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eh(e,t,n){return t&&$p(e.prototype,t),n&&$p(e,n),e}function th(e,t){return!t||"object"!==Kp(t)&&"function"!=typeof t?rh(e):t}function nh(e){return(nh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ih(e,t)}function ih(e,t){return(ih=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ah(e){return(ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uh(e,t,n){return t&&lh(e.prototype,t),n&&lh(e,n),e}function ch(e,t){return!t||"object"!==ah(t)&&"function"!=typeof t?fh(e):t}function fh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ph(e,t,n){return(ph="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=hh(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function hh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yh(e)););return e}function yh(e){return(yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vh(e,t)}function vh(e,t){return(vh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gh(e,t,n){return t&&bh(e.prototype,t),n&&bh(e,n),e}function Sh(e){return(Sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _h(e,t,n){return t&&Oh(e.prototype,t),n&&Oh(e,n),e}function Ph(e,t){return!t||"object"!==Sh(t)&&"function"!=typeof t?Ch(e):t}function Ch(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Th(e,t,n){return(Th="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Eh(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Eh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kh(e)););return e}function kh(e){return(kh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jh(e,t)}function jh(e,t){return(jh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ah(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lh(e,t,n){return t&&Rh(e.prototype,t),n&&Rh(e,n),e}function Nh(e){return(Nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ih(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fh(e,t,n){return t&&Ih(e.prototype,t),n&&Ih(e,n),e}function Dh(e,t){return!t||"object"!==Nh(t)&&"function"!=typeof t?Gh(e):t}function Gh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bh(e,t,n){return(Bh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Uh(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Uh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hh(e)););return e}function Hh(e){return(Hh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zh(e,t)}function zh(e,t){return(zh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function Wh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qh(e,t,n){return t&&Wh(e.prototype,t),n&&Wh(e,n),e}function Yh(e){return(Yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kh(e,t,n){return t&&Xh(e.prototype,t),n&&Xh(e,n),e}function Zh(e,t){return!t||"object"!==Yh(t)&&"function"!=typeof t?$h(e):t}function $h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ey(e,t,n){return(ey="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ty(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ty(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ny(e)););return e}function ny(e){return(ny=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ry(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oy(e,t)}function oy(e,t){return(oy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ay(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sy(e,t,n){return t&&ay(e.prototype,t),n&&ay(e,n),e}function ly(e){return(ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fy(e,t,n){return t&&cy(e.prototype,t),n&&cy(e,n),e}function py(e,t){return!t||"object"!==ly(t)&&"function"!=typeof t?hy(e):t}function hy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yy(e,t,n){return(yy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=dy(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function dy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vy(e)););return e}function vy(e){return(vy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function my(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&by(e,t)}function by(e,t){return(by=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wy(e,t,n){return t&&Sy(e.prototype,t),n&&Sy(e,n),e}function Oy(e){return(Oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Py(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cy(e,t,n){return t&&Py(e.prototype,t),n&&Py(e,n),e}function Ty(e,t){return!t||"object"!==Oy(t)&&"function"!=typeof t?Ey(e):t}function Ey(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ky(e,t,n){return(ky="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=xy(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function xy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jy(e)););return e}function jy(e){return(jy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ay(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ry(e,t)}function Ry(e,t){return(Ry=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ly(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ny(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function My(e,t,n){return t&&Ny(e.prototype,t),n&&Ny(e,n),e}function Iy(e){return(Iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gy(e,t,n){return t&&Dy(e.prototype,t),n&&Dy(e,n),e}function By(e,t){return!t||"object"!==Iy(t)&&"function"!=typeof t?Uy(e):t}function Uy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hy(e,t,n){return(Hy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Jy(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Jy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zy(e)););return e}function zy(e){return(zy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wy(e,t)}function Wy(e,t){return(Wy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qy(e,t,n){return t&&Yy(e.prototype,t),n&&Yy(e,n),e}function Xy(e){return(Xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ky(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $y(e,t,n){return t&&Zy(e.prototype,t),n&&Zy(e,n),e}function ed(e,t){return!t||"object"!==Xy(t)&&"function"!=typeof t?td(e):t}function td(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nd(e,t,n){return(nd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=rd(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function rd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=od(e)););return e}function od(e){return(od=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function id(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ad(e,t)}function ad(e,t){return(ad=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sd(e){return(sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ld(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ud(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cd(e,t,n){return t&&ud(e.prototype,t),n&&ud(e,n),e}function fd(e,t){return!t||"object"!==sd(t)&&"function"!=typeof t?pd(e):t}function pd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hd(e,t,n){return(hd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=yd(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function yd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dd(e)););return e}function dd(e){return(dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&md(e,t)}function md(e,t){return(md=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bd(e){return(bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wd(e,t,n){return t&&Sd(e.prototype,t),n&&Sd(e,n),e}function Od(e,t){return!t||"object"!==bd(t)&&"function"!=typeof t?_d(e):t}function _d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pd(e,t,n){return(Pd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Cd(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Cd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Td(e)););return e}function Td(e){return(Td=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ed(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kd(e,t)}function kd(e,t){return(kd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xd(e){return(xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ad(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rd(e,t,n){return t&&Ad(e.prototype,t),n&&Ad(e,n),e}function Ld(e,t){return!t||"object"!==xd(t)&&"function"!=typeof t?Nd(e):t}function Nd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Md(e,t,n){return(Md="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Id(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Id(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fd(e)););return e}function Fd(e){return(Fd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gd(e,t)}function Gd(e,t){return(Gd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bd(e){return(Bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ud(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jd(e,t,n){return t&&Hd(e.prototype,t),n&&Hd(e,n),e}function zd(e,t){return!t||"object"!==Bd(t)&&"function"!=typeof t?Vd(e):t}function Vd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wd(e,t,n){return(Wd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=qd(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function qd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yd(e)););return e}function Yd(e){return(Yd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xd(e,t)}function Xd(e,t){return(Xd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kd(e){return(Kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ev(e,t,n){return t&&$d(e.prototype,t),n&&$d(e,n),e}function tv(e,t){return!t||"object"!==Kd(t)&&"function"!=typeof t?nv(e):t}function nv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rv(e,t,n){return(rv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ov(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ov(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=iv(e)););return e}function iv(e){return(iv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function av(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sv(e,t)}function sv(e,t){return(sv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cv(e,t,n){return t&&uv(e.prototype,t),n&&uv(e,n),e}function fv(e){return(fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yv(e,t,n){return t&&hv(e.prototype,t),n&&hv(e,n),e}function dv(e,t){return!t||"object"!==fv(t)&&"function"!=typeof t?vv(e):t}function vv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mv(e,t,n){return(mv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=bv(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function bv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gv(e)););return e}function gv(e){return(gv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wv(e,t)}function wv(e,t){return(wv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ov(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pv(e,t,n){return t&&_v(e.prototype,t),n&&_v(e,n),e}function Cv(e){return(Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ev(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kv(e,t,n){return t&&Ev(e.prototype,t),n&&Ev(e,n),e}function xv(e,t){return!t||"object"!==Cv(t)&&"function"!=typeof t?jv(e):t}function jv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Av(e,t,n){return(Av="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Rv(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Rv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lv(e)););return e}function Lv(e){return(Lv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mv(e,t)}function Mv(e,t){return(Mv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Iv(e){return(Iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gv(e,t,n){return t&&Dv(e.prototype,t),n&&Dv(e,n),e}function Bv(e,t){return!t||"object"!==Iv(t)&&"function"!=typeof t?Uv(e):t}function Uv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hv(e,t,n){return(Hv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Jv(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Jv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zv(e)););return e}function zv(e){return(zv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wv(e,t)}function Wv(e,t){return(Wv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qv(e){return(qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xv(e,t,n){return t&&Qv(e.prototype,t),n&&Qv(e,n),e}function Kv(e,t){return!t||"object"!==qv(t)&&"function"!=typeof t?Zv(e):t}function Zv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $v(e,t,n){return($v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=em(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function em(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tm(e)););return e}function tm(e){return(tm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rm(e,t)}function rm(e,t){return(rm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function om(e){return(om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function im(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function am(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sm(e,t,n){return t&&am(e.prototype,t),n&&am(e,n),e}function lm(e,t){return!t||"object"!==om(t)&&"function"!=typeof t?um(e):t}function um(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cm(e,t,n){return(cm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=fm(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function fm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pm(e)););return e}function pm(e){return(pm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ym(e,t)}function ym(e,t){return(ym=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dm(e){return(dm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bm(e,t,n){return t&&mm(e.prototype,t),n&&mm(e,n),e}function gm(e,t){return!t||"object"!==dm(t)&&"function"!=typeof t?Sm(e):t}function Sm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wm(e,t,n){return(wm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Om(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Om(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_m(e)););return e}function _m(e){return(_m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cm(e,t)}function Cm(e,t){return(Cm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tm(e){return(Tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Em(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xm(e,t,n){return t&&km(e.prototype,t),n&&km(e,n),e}function jm(e,t){return!t||"object"!==Tm(t)&&"function"!=typeof t?Am(e):t}function Am(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rm(e,t,n){return(Rm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Lm(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Lm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Nm(e)););return e}function Nm(e){return(Nm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Im(e,t)}function Im(e,t){return(Im=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fm(e){return(Fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bm(e,t,n){return t&&Gm(e.prototype,t),n&&Gm(e,n),e}function Um(e,t){return!t||"object"!==Fm(t)&&"function"!=typeof t?Hm(e):t}function Hm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jm(e,t,n){return(Jm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=zm(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function zm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vm(e)););return e}function Vm(e){return(Vm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qm(e,t)}function qm(e,t){return(qm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ym(e){return(Ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Km(e,t,n){return t&&Xm(e.prototype,t),n&&Xm(e,n),e}function Zm(e,t){return!t||"object"!==Ym(t)&&"function"!=typeof t?$m(e):t}function $m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eb(e,t,n){return(eb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=tb(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function tb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nb(e)););return e}function nb(e){return(nb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ob(e,t)}function ob(e,t){return(ob=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ib(e){return(ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lb(e,t,n){return t&&sb(e.prototype,t),n&&sb(e,n),e}function ub(e,t){return!t||"object"!==ib(t)&&"function"!=typeof t?cb(e):t}function cb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fb(e,t,n){return(fb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=pb(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function pb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hb(e)););return e}function hb(e){return(hb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)})(e)}function yb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&db(e,t)}function db(e,t){return(db=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vb(e){return(vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gb(e,t,n){return t&&bb(e.prototype,t),n&&bb(e,n),e}function Sb(e,t){return!t||"object"!==vb(t)&&"function"!=typeof t?wb(e):t}function wb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ob(e,t,n){return(Ob="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_b(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _b(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pb(e)););return e}function Pb(e){return(Pb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tb(e,t)}function Tb(e,t){return(Tb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Eb(e){return(Eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jb(e,t,n){return t&&xb(e.prototype,t),n&&xb(e,n),e}function Ab(e,t){return!t||"object"!==Eb(t)&&"function"!=typeof t?Rb(e):t}function Rb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lb(e,t,n){return(Lb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Nb(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Nb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mb(e)););return e}function Mb(e){return(Mb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ib(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fb(e,t)}function Fb(e,t){return(Fb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Db(e){return(Db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ub(e,t,n){return t&&Bb(e.prototype,t),n&&Bb(e,n),e}function Hb(e,t){return!t||"object"!==Db(t)&&"function"!=typeof t?Jb(e):t}function Jb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zb(e,t,n){return(zb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Vb(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Vb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wb(e)););return e}function Wb(e){return(Wb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yb(e,t)}function Yb(e,t){return(Yb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kb(e,t,n){return t&&Xb(e.prototype,t),n&&Xb(e,n),e}function Zb(e){return(Zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tg(e,t,n){return t&&eg(e.prototype,t),n&&eg(e,n),e}function ng(e,t){return!t||"object"!==Zb(t)&&"function"!=typeof t?rg(e):t}function rg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function og(e,t,n){return(og="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ig(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ig(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ag(e)););return e}function ag(e){return(ag=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lg(e,t)}function lg(e,t){return(lg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ug(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fg(e,t,n){return t&&cg(e.prototype,t),n&&cg(e,n),e}function pg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yg(e,t,n){return t&&hg(e.prototype,t),n&&hg(e,n),e}function dg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mg(e,t,n){return t&&vg(e.prototype,t),n&&vg(e,n),e}function bg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sg(e,t,n){return t&&gg(e.prototype,t),n&&gg(e,n),e}function wg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Og(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _g(e,t,n){return t&&Og(e.prototype,t),n&&Og(e,n),e}function Pg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tg(e,t,n){return t&&Cg(e.prototype,t),n&&Cg(e,n),e}function Eg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xg(e,t,n){return t&&kg(e.prototype,t),n&&kg(e,n),e}function jg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ag(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rg(e,t,n){return t&&Ag(e.prototype,t),n&&Ag(e,n),e}function Lg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ng(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mg(e,t,n){return t&&Ng(e.prototype,t),n&&Ng(e,n),e}function Ig(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dg(e,t,n){return t&&Fg(e.prototype,t),n&&Fg(e,n),e}function Gg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ug(e,t,n){return t&&Bg(e.prototype,t),n&&Bg(e,n),e}function Hg(e){return(Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vg(e,t,n){return t&&zg(e.prototype,t),n&&zg(e,n),e}function Wg(e,t){return!t||"object"!==Hg(t)&&"function"!=typeof t?qg(e):t}function qg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yg(e,t,n){return(Yg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Qg(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Qg(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xg(e)););return e}function Xg(e){return(Xg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zg(e,t)}function Zg(e,t){return(Zg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $g(e){return($g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nS(e,t,n){return t&&tS(e.prototype,t),n&&tS(e,n),e}function rS(e,t){return!t||"object"!==$g(t)&&"function"!=typeof t?oS(e):t}function oS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iS(e,t,n){return(iS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=aS(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function aS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=sS(e)););return e}function sS(e){return(sS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uS(e,t)}function uS(e,t){return(uS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pS(e,t,n){return t&&fS(e.prototype,t),n&&fS(e,n),e}function hS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dS(e,t,n){return t&&yS(e.prototype,t),n&&yS(e,n),e}function vS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bS(e,t,n){return t&&mS(e.prototype,t),n&&mS(e,n),e}function gS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wS(e,t,n){return t&&SS(e.prototype,t),n&&SS(e,n),e}function OS(e){return(OS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CS(e,t,n){return t&&PS(e.prototype,t),n&&PS(e,n),e}function TS(e,t){return!t||"object"!==OS(t)&&"function"!=typeof t?ES(e):t}function ES(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kS(e,t,n){return(kS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=xS(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function xS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jS(e)););return e}function jS(e){return(jS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RS(e,t)}function RS(e,t){return(RS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function LS(e){return(LS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IS(e,t,n){return t&&MS(e.prototype,t),n&&MS(e,n),e}function FS(e,t){return!t||"object"!==LS(t)&&"function"!=typeof t?GS(e):t}function DS(e){return(DS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&US(e,t)}function US(e,t){return(US=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function HS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zS(e,t,n){return t&&JS(e.prototype,t),n&&JS(e,n),e}function VS(e){return(VS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YS(e,t,n){return t&&qS(e.prototype,t),n&&qS(e,n),e}function QS(e,t){return!t||"object"!==VS(t)&&"function"!=typeof t?XS(e):t}function XS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KS(e,t,n){return(KS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ZS(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ZS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$S(e)););return e}function $S(e){return($S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ew(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tw(e,t)}function tw(e,t){return(tw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ow(e,t,n){return t&&rw(e.prototype,t),n&&rw(e,n),e}function iw(e){return(iw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lw(e,t,n){return t&&sw(e.prototype,t),n&&sw(e,n),e}function uw(e,t){return!t||"object"!==iw(t)&&"function"!=typeof t?cw(e):t}function cw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fw(e,t,n){return(fw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=pw(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function pw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hw(e)););return e}function hw(e){return(hw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dw(e,t)}function dw(e,t){return(dw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bw(e,t,n){return t&&mw(e.prototype,t),n&&mw(e,n),e}function gw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ww(e,t,n){return t&&Sw(e.prototype,t),n&&Sw(e,n),e}function Ow(e){return(Ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cw(e,t,n){return t&&Pw(e.prototype,t),n&&Pw(e,n),e}function Tw(e,t){return!t||"object"!==Ow(t)&&"function"!=typeof t?Ew(e):t}function Ew(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kw(e,t,n){return(kw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=xw(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function xw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jw(e)););return e}function jw(e){return(jw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Aw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rw(e,t)}function Rw(e,t){return(Rw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lw(e){return(Lw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iw(e,t,n){return t&&Mw(e.prototype,t),n&&Mw(e,n),e}function Fw(e,t){return!t||"object"!==Lw(t)&&"function"!=typeof t?Dw(e):t}function Dw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gw(e,t,n){return(Gw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Bw(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Bw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Uw(e)););return e}function Uw(e){return(Uw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jw(e,t)}function Jw(e,t){return(Jw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zw(e){return(zw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ww(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qw(e,t,n){return t&&Ww(e.prototype,t),n&&Ww(e,n),e}function Yw(e,t){return!t||"object"!==zw(t)&&"function"!=typeof t?Qw(e):t}function Qw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xw(e,t,n){return(Xw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Kw(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Kw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zw(e)););return e}function Zw(e){return(Zw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eO(e,t)}function eO(e,t){return(eO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tO(e){return(tO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oO(e,t,n){return t&&rO(e.prototype,t),n&&rO(e,n),e}function iO(e,t){return!t||"object"!==tO(t)&&"function"!=typeof t?aO(e):t}function aO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sO(e,t,n){return(sO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=lO(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function lO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=uO(e)););return e}function uO(e){return(uO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fO(e,t)}function fO(e,t){return(fO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pO(e){return(pO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dO(e,t,n){return t&&yO(e.prototype,t),n&&yO(e,n),e}function vO(e,t){return!t||"object"!==pO(t)&&"function"!=typeof t?mO(e):t}function mO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bO(e,t,n){return(bO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=gO(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function gO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=SO(e)););return e}function SO(e){return(SO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OO(e,t)}function OO(e,t){return(OO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _O(e){return(_O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TO(e,t,n){return t&&CO(e.prototype,t),n&&CO(e,n),e}function EO(e,t){return!t||"object"!==_O(t)&&"function"!=typeof t?kO(e):t}function kO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xO(e,t,n){return(xO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=jO(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function jO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=AO(e)););return e}function AO(e){return(AO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LO(e,t)}function LO(e,t){return(LO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function NO(e){return(NO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FO(e,t,n){return t&&IO(e.prototype,t),n&&IO(e,n),e}function DO(e,t){return!t||"object"!==NO(t)&&"function"!=typeof t?GO(e):t}function GO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BO(e,t,n){return(BO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=UO(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function UO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=HO(e)););return e}function HO(e){return(HO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zO(e,t)}function zO(e,t){return(zO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function VO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qO(e,t,n){return t&&WO(e.prototype,t),n&&WO(e,n),e}function YO(e){return(YO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KO(e,t,n){return t&&XO(e.prototype,t),n&&XO(e,n),e}function ZO(e,t){return!t||"object"!==YO(t)&&"function"!=typeof t?$O(e):t}function $O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e_(e,t,n){return(e_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=t_(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function t_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n_(e)););return e}function n_(e){return(n_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o_(e,t)}function o_(e,t){return(o_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i_(e){return(i_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l_(e,t,n){return t&&s_(e.prototype,t),n&&s_(e,n),e}function u_(e,t){return!t||"object"!==i_(t)&&"function"!=typeof t?c_(e):t}function c_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f_(e,t,n){return(f_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=p_(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function p_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h_(e)););return e}function h_(e){return(h_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d_(e,t)}function d_(e,t){return(d_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v_(e){return(v_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g_(e,t,n){return t&&b_(e.prototype,t),n&&b_(e,n),e}function S_(e,t){return!t||"object"!==v_(t)&&"function"!=typeof t?w_(e):t}function w_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O_(e,t,n){return(O_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=__(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function __(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P_(e)););return e}function P_(e){return(P_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T_(e,t)}function T_(e,t){return(T_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E_(e){return(E_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j_(e,t,n){return t&&x_(e.prototype,t),n&&x_(e,n),e}function A_(e,t){return!t||"object"!==E_(t)&&"function"!=typeof t?R_(e):t}function R_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L_(e,t,n){return(L_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=N_(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function N_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M_(e)););return e}function M_(e){return(M_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F_(e,t)}function F_(e,t){return(F_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D_(e){return(D_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U_(e,t,n){return t&&B_(e.prototype,t),n&&B_(e,n),e}function H_(e,t){return!t||"object"!==D_(t)&&"function"!=typeof t?J_(e):t}function J_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z_(e,t,n){return(z_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=V_(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function V_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W_(e)););return e}function W_(e){return(W_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y_(e,t)}function Y_(e,t){return(Y_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K_(e,t,n){return t&&X_(e.prototype,t),n&&X_(e,n),e}function Z_(e){return(Z_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tP(e,t,n){return t&&eP(e.prototype,t),n&&eP(e,n),e}function nP(e,t){return!t||"object"!==Z_(t)&&"function"!=typeof t?rP(e):t}function rP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oP(e,t,n){return(oP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=iP(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function iP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=aP(e)););return e}function aP(e){return(aP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lP(e,t)}function lP(e,t){return(lP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cP(e){return(cP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hP(e,t,n){return t&&pP(e.prototype,t),n&&pP(e,n),e}function yP(e,t){return!t||"object"!==cP(t)&&"function"!=typeof t?vP(e):t}function dP(e){return(dP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bP(e,t)}function bP(e,t){return(bP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gP(e){return(gP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OP(e,t,n){return t&&wP(e.prototype,t),n&&wP(e,n),e}function _P(e,t){return!t||"object"!==gP(t)&&"function"!=typeof t?CP(e):t}function PP(e){return(PP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EP(e,t)}function EP(e,t){return(EP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kP(e){return(kP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AP(e,t,n){return t&&jP(e.prototype,t),n&&jP(e,n),e}function RP(e,t){return!t||"object"!==kP(t)&&"function"!=typeof t?NP(e):t}function LP(e){return(LP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IP(e,t)}function IP(e,t){return(IP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function FP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GP(e,t,n){return t&&DP(e.prototype,t),n&&DP(e,n),e}function BP(e){return(BP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JP(e,t,n){return t&&HP(e.prototype,t),n&&HP(e,n),e}function zP(e,t){return!t||"object"!==BP(t)&&"function"!=typeof t?VP(e):t}function VP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WP(e,t,n){return(WP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=qP(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function qP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=YP(e)););return e}function YP(e){return(YP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XP(e,t)}function XP(e,t){return(XP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $P(e,t,n){return t&&ZP(e.prototype,t),n&&ZP(e,n),e}function eC(e){return(eC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rC(e,t,n){return t&&nC(e.prototype,t),n&&nC(e,n),e}function oC(e,t){return!t||"object"!==eC(t)&&"function"!=typeof t?iC(e):t}function iC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aC(e,t,n){return(aC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=sC(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function sC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lC(e)););return e}function lC(e){return(lC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cC(e,t)}function cC(e,t){return(cC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hC(e,t,n){return t&&pC(e.prototype,t),n&&pC(e,n),e}function yC(e){return(yC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mC(e,t,n){return t&&vC(e.prototype,t),n&&vC(e,n),e}function bC(e,t){return!t||"object"!==yC(t)&&"function"!=typeof t?gC(e):t}function gC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SC(e,t,n){return(SC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=wC(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function wC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=OC(e)););return e}function OC(e){return(OC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PC(e,t)}function PC(e,t){return(PC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function CC(e){return(CC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kC(e,t,n){return t&&EC(e.prototype,t),n&&EC(e,n),e}function xC(e,t){return!t||"object"!==CC(t)&&"function"!=typeof t?jC(e):t}function jC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AC(e,t,n){return(AC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=RC(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function RC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=LC(e)););return e}function LC(e){return(LC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MC(e,t)}function MC(e,t){return(MC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DC(e,t,n){return t&&FC(e.prototype,t),n&&FC(e,n),e}function GC(e){return(GC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HC(e,t,n){return t&&UC(e.prototype,t),n&&UC(e,n),e}function JC(e,t){return!t||"object"!==GC(t)&&"function"!=typeof t?zC(e):t}function zC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VC(e,t,n){return(VC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=WC(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function WC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qC(e)););return e}function qC(e){return(qC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QC(e,t)}function QC(e,t){return(QC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XC(e){return(XC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $C(e,t,n){return t&&ZC(e.prototype,t),n&&ZC(e,n),e}function eT(e,t){return!t||"object"!==XC(t)&&"function"!=typeof t?tT(e):t}function tT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nT(e,t,n){return(nT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=rT(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function rT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oT(e)););return e}function oT(e){return(oT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aT(e,t)}function aT(e,t){return(aT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sT(e){return(sT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cT(e,t,n){return t&&uT(e.prototype,t),n&&uT(e,n),e}function fT(e,t){return!t||"object"!==sT(t)&&"function"!=typeof t?pT(e):t}function pT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hT(e,t,n){return(hT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=yT(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function yT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dT(e)););return e}function dT(e){return(dT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mT(e,t)}function mT(e,t){return(mT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bT(e){return(bT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ST(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wT(e,t,n){return t&&ST(e.prototype,t),n&&ST(e,n),e}function OT(e,t){return!t||"object"!==bT(t)&&"function"!=typeof t?_T(e):t}function _T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PT(e,t,n){return(PT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=CT(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function CT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TT(e)););return e}function TT(e){return(TT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ET(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kT(e,t)}function kT(e,t){return(kT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xT(e){return(xT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RT(e,t,n){return t&&AT(e.prototype,t),n&&AT(e,n),e}function LT(e,t){return!t||"object"!==xT(t)&&"function"!=typeof t?NT(e):t}function NT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MT(e,t,n){return(MT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=IT(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function IT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=FT(e)););return e}function FT(e){return(FT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GT(e,t)}function GT(e,t){return(GT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function BT(e){return(BT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JT(e,t,n){return t&&HT(e.prototype,t),n&&HT(e,n),e}function zT(e,t){return!t||"object"!==BT(t)&&"function"!=typeof t?VT(e):t}function VT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WT(e,t,n){return(WT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=qT(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function qT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=YT(e)););return e}function YT(e){return(YT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XT(e,t)}function XT(e,t){return(XT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KT(e){return(KT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eE(e,t,n){return t&&$T(e.prototype,t),n&&$T(e,n),e}function tE(e,t){return!t||"object"!==KT(t)&&"function"!=typeof t?nE(e):t}function nE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rE(e,t,n){return(rE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=oE(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function oE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=iE(e)););return e}function iE(e){return(iE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sE(e,t)}function sE(e,t){return(sE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lE(e){return(lE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}
function fE(e,t,n){return t&&cE(e.prototype,t),n&&cE(e,n),e}function pE(e,t){return!t||"object"!==lE(t)&&"function"!=typeof t?hE(e):t}function hE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yE(e,t,n){return(yE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=dE(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function dE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vE(e)););return e}function vE(e){return(vE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bE(e,t)}function bE(e,t){return(bE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gE(e){return(gE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OE(e,t,n){return t&&wE(e.prototype,t),n&&wE(e,n),e}function _E(e,t){return!t||"object"!==gE(t)&&"function"!=typeof t?PE(e):t}function PE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CE(e,t,n){return(CE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=TE(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function TE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=EE(e)););return e}function EE(e){return(EE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xE(e,t)}function xE(e,t){return(xE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jE(e){return(jE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LE(e,t,n){return t&&RE(e.prototype,t),n&&RE(e,n),e}function NE(e,t){return!t||"object"!==jE(t)&&"function"!=typeof t?ME(e):t}function ME(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IE(e,t,n){return(IE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=FE(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function FE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DE(e)););return e}function DE(e){return(DE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BE(e,t)}function BE(e,t){return(BE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function UE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JE(e,t,n){return t&&HE(e.prototype,t),n&&HE(e,n),e}function zE(e){return(zE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qE(e,t,n){return t&&WE(e.prototype,t),n&&WE(e,n),e}function YE(e,t){return!t||"object"!==zE(t)&&"function"!=typeof t?QE(e):t}function QE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XE(e,t,n){return(XE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=KE(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function KE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ZE(e)););return e}function ZE(e){return(ZE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ek(e,t)}function ek(e,t){return(ek=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rk(e,t,n){return t&&nk(e.prototype,t),n&&nk(e,n),e}function ok(e){return(ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ik(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ak(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sk(e,t,n){return t&&ak(e.prototype,t),n&&ak(e,n),e}function lk(e,t){return!t||"object"!==ok(t)&&"function"!=typeof t?uk(e):t}function uk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ck(e,t,n){return(ck="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=fk(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function fk(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pk(e)););return e}function pk(e){return(pk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yk(e,t)}function yk(e,t){return(yk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mk(e,t,n){return t&&vk(e.prototype,t),n&&vk(e,n),e}function bk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sk(e,t,n){return t&&gk(e.prototype,t),n&&gk(e,n),e}function wk(e){return(wk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ok(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pk(e,t,n){return t&&_k(e.prototype,t),n&&_k(e,n),e}function Ck(e,t){return!t||"object"!==wk(t)&&"function"!=typeof t?Tk(e):t}function Tk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ek(e,t,n){return(Ek="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=kk(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function kk(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xk(e)););return e}function xk(e){return(xk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ak(e,t)}function Ak(e,t){return(Ak=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nk(e,t,n){return t&&Lk(e.prototype,t),n&&Lk(e,n),e}function Mk(e){return(Mk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ik(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dk(e,t,n){return t&&Fk(e.prototype,t),n&&Fk(e,n),e}function Gk(e,t){return!t||"object"!==Mk(t)&&"function"!=typeof t?Bk(e):t}function Bk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uk(e,t,n){return(Uk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Hk(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Hk(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jk(e)););return e}function Jk(e){return(Jk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vk(e,t)}function Vk(e,t){return(Vk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yk(e,t,n){return t&&qk(e.prototype,t),n&&qk(e,n),e}function Qk(e){return(Qk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zk(e,t,n){return t&&Kk(e.prototype,t),n&&Kk(e,n),e}function $k(e,t){return!t||"object"!==Qk(t)&&"function"!=typeof t?ex(e):t}function ex(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tx(e,t,n){return(tx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=nx(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function nx(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rx(e)););return e}function rx(e){return(rx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ox(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ix(e,t)}function ix(e,t){return(ix=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ax(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lx(e,t,n){return t&&sx(e.prototype,t),n&&sx(e,n),e}function ux(e){return(ux="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function px(e,t,n){return t&&fx(e.prototype,t),n&&fx(e,n),e}function hx(e,t){return!t||"object"!==ux(t)&&"function"!=typeof t?yx(e):t}function yx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dx(e,t,n){return(dx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=vx(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function vx(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mx(e)););return e}function mx(e){return(mx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gx(e,t)}function gx(e,t){return(gx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ox(e,t,n){return t&&wx(e.prototype,t),n&&wx(e,n),e}function _x(e){return(_x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Px(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tx(e,t,n){return t&&Cx(e.prototype,t),n&&Cx(e,n),e}function Ex(e,t){return!t||"object"!==_x(t)&&"function"!=typeof t?kx(e):t}function kx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xx(e,t,n){return(xx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=jx(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function jx(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ax(e)););return e}function Ax(e){return(Ax=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lx(e,t)}function Lx(e,t){return(Lx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ix(e,t,n){return t&&Mx(e.prototype,t),n&&Mx(e,n),e}function Fx(e){return(Fx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bx(e,t,n){return t&&Gx(e.prototype,t),n&&Gx(e,n),e}function Ux(e,t){return!t||"object"!==Fx(t)&&"function"!=typeof t?Hx(e):t}function Hx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jx(e,t,n){return(Jx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=zx(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function zx(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vx(e)););return e}function Vx(e){return(Vx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qx(e,t)}function qx(e,t){return(qx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xx(e,t,n){return t&&Qx(e.prototype,t),n&&Qx(e,n),e}function Kx(e){return(Kx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ej(e,t,n){return t&&$x(e.prototype,t),n&&$x(e,n),e}function tj(e,t){return!t||"object"!==Kx(t)&&"function"!=typeof t?nj(e):t}function nj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rj(e,t,n){return(rj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=oj(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function oj(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ij(e)););return e}function ij(e){return(ij=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sj(e,t)}function sj(e,t){return(sj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cj(e,t,n){return t&&uj(e.prototype,t),n&&uj(e,n),e}function fj(e){return(fj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yj(e,t,n){return t&&hj(e.prototype,t),n&&hj(e,n),e}function dj(e,t){return!t||"object"!==fj(t)&&"function"!=typeof t?vj(e):t}function vj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mj(e,t,n){return(mj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=bj(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function bj(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gj(e)););return e}function gj(e){return(gj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wj(e,t)}function wj(e,t){return(wj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pj(e,t,n){return t&&_j(e.prototype,t),n&&_j(e,n),e}function Cj(e){return(Cj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ej(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kj(e,t,n){return t&&Ej(e.prototype,t),n&&Ej(e,n),e}function xj(e,t){return!t||"object"!==Cj(t)&&"function"!=typeof t?jj(e):t}function jj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aj(e,t,n){return(Aj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Rj(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Rj(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lj(e)););return e}function Lj(e){return(Lj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mj(e,t)}function Mj(e,t){return(Mj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ij(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dj(e,t,n){return t&&Fj(e.prototype,t),n&&Fj(e,n),e}function Gj(e){return(Gj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hj(e,t,n){return t&&Uj(e.prototype,t),n&&Uj(e,n),e}function Jj(e,t){return!t||"object"!==Gj(t)&&"function"!=typeof t?zj(e):t}function zj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vj(e,t,n){return(Vj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Wj(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Wj(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qj(e)););return e}function qj(e){return(qj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qj(e,t)}function Qj(e,t){return(Qj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zj(e,t,n){return t&&Kj(e.prototype,t),n&&Kj(e,n),e}function $j(e){return($j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nA(e,t,n){return t&&tA(e.prototype,t),n&&tA(e,n),e}function rA(e,t){return!t||"object"!==$j(t)&&"function"!=typeof t?oA(e):t}function oA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iA(e,t,n){return(iA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=aA(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function aA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=sA(e)););return e}function sA(e){return(sA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uA(e,t)}function uA(e,t){return(uA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pA(e,t,n){return t&&fA(e.prototype,t),n&&fA(e,n),e}function hA(e){return(hA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vA(e,t,n){return t&&dA(e.prototype,t),n&&dA(e,n),e}function mA(e,t){return!t||"object"!==hA(t)&&"function"!=typeof t?bA(e):t}function bA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gA(e,t,n){return(gA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=SA(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function SA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wA(e)););return e}function wA(e){return(wA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function OA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_A(e,t)}function _A(e,t){return(_A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TA(e,t,n){return t&&CA(e.prototype,t),n&&CA(e,n),e}function EA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xA(e,t,n){return t&&kA(e.prototype,t),n&&kA(e,n),e}function jA(e){return(jA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LA(e,t,n){return t&&RA(e.prototype,t),n&&RA(e,n),e}function NA(e,t){return!t||"object"!==jA(t)&&"function"!=typeof t?MA(e):t}function MA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IA(e,t,n){return(IA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=FA(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function FA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DA(e)););return e}function DA(e){return(DA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}}),t&&BA(e,t)}function BA(e,t){return(BA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function UA(e){return(UA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zA(e,t,n){return t&&JA(e.prototype,t),n&&JA(e,n),e}function VA(e,t){return!t||"object"!==UA(t)&&"function"!=typeof t?WA(e):t}function WA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qA(e,t,n){return(qA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=YA(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function YA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=QA(e)););return e}function QA(e){return(QA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KA(e,t)}function KA(e,t){return(KA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ZA(e){return(ZA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tR(e,t,n){return t&&eR(e.prototype,t),n&&eR(e,n),e}function nR(e,t){return!t||"object"!==ZA(t)&&"function"!=typeof t?rR(e):t}function rR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oR(e,t,n){return(oR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=iR(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function iR(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=aR(e)););return e}function aR(e){return(aR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lR(e,t)}function lR(e,t){return(lR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uR(e){return(uR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pR(e,t,n){return t&&fR(e.prototype,t),n&&fR(e,n),e}function hR(e,t){return!t||"object"!==uR(t)&&"function"!=typeof t?yR(e):t}function yR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dR(e,t,n){return(dR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=vR(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function vR(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mR(e)););return e}function mR(e){return(mR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gR(e,t)}function gR(e,t){return(gR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function SR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OR(e,t,n){return t&&wR(e.prototype,t),n&&wR(e,n),e}function _R(e){return(_R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TR(e,t,n){return t&&CR(e.prototype,t),n&&CR(e,n),e}function ER(e,t){return!t||"object"!==_R(t)&&"function"!=typeof t?kR(e):t}function kR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xR(e,t,n){return(xR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=jR(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function jR(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=AR(e)););return e}function AR(e){return(AR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LR(e,t)}function LR(e,t){return(LR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function NR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IR(e,t,n){return t&&MR(e.prototype,t),n&&MR(e,n),e}function FR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GR(e,t,n){return t&&DR(e.prototype,t),n&&DR(e,n),e}function BR(e){return(BR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JR(e,t,n){return t&&HR(e.prototype,t),n&&HR(e,n),e}function zR(e,t){return!t||"object"!==BR(t)&&"function"!=typeof t?VR(e):t}function VR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WR(e,t,n){return(WR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=qR(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function qR(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=YR(e)););return e}function YR(e){return(YR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XR(e,t)}function XR(e,t){return(XR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $R(e,t,n){return t&&ZR(e.prototype,t),n&&ZR(e,n),e}function eL(e){return(eL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rL(e,t,n){return t&&nL(e.prototype,t),n&&nL(e,n),e}function oL(e,t){return!t||"object"!==eL(t)&&"function"!=typeof t?iL(e):t}function iL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aL(e,t,n){return(aL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=sL(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function sL(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lL(e)););return e}function lL(e){return(lL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cL(e,t)}function cL(e,t){return(cL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hL(e,t,n){return t&&pL(e.prototype,t),n&&pL(e,n),e}function yL(e){return(yL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mL(e,t,n){return t&&vL(e.prototype,t),n&&vL(e,n),e}function bL(e,t){return!t||"object"!==yL(t)&&"function"!=typeof t?gL(e):t}function gL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SL(e,t,n){return(SL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=wL(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function wL(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=OL(e)););return e}function OL(e){return(OL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PL(e,t)}function PL(e,t){return(PL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function CL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EL(e,t,n){return t&&TL(e.prototype,t),n&&TL(e,n),e}function kL(e){return(kL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AL(e,t,n){return t&&jL(e.prototype,t),n&&jL(e,n),e}function RL(e,t){return!t||"object"!==kL(t)&&"function"!=typeof t?LL(e):t}function LL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NL(e,t,n){return(NL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ML(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ML(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=IL(e)););return e}function IL(e){return(IL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DL(e,t)}function DL(e,t){return(DL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UL(e,t,n){return t&&BL(e.prototype,t),n&&BL(e,n),e}function HL(e){return(HL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VL(e,t,n){return t&&zL(e.prototype,t),n&&zL(e,n),e}function WL(e,t){return!t||"object"!==HL(t)&&"function"!=typeof t?qL(e):t}function qL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YL(e,t,n){return(YL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=QL(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function QL(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=XL(e)););return e}function XL(e){return(XL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function KL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZL(e,t)}function ZL(e,t){return(ZL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tN(e,t,n){return t&&eN(e.prototype,t),n&&eN(e,n),e}function nN(e){return(nN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iN(e,t,n){return t&&oN(e.prototype,t),n&&oN(e,n),e}function aN(e,t){return!t||"object"!==nN(t)&&"function"!=typeof t?sN(e):t}function sN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lN(e,t,n){return(lN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=uN(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function uN(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cN(e)););return e}function cN(e){return(cN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pN(e,t)}function pN(e,t){return(pN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hN(e){return(hN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vN(e,t,n){return t&&dN(e.prototype,t),n&&dN(e,n),e}function mN(e,t){return!t||"object"!==hN(t)&&"function"!=typeof t?bN(e):t}function bN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gN(e,t,n){return(gN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=SN(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function SN(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wN(e)););return e}function wN(e){return(wN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ON(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_N(e,t)}function _N(e,t){return(_N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TN(e,t,n){return t&&CN(e.prototype,t),n&&CN(e,n),e}function EN(e){return(EN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jN(e,t,n){return t&&xN(e.prototype,t),n&&xN(e,n),e}function AN(e,t){return!t||"object"!==EN(t)&&"function"!=typeof t?LN(e):t}function RN(e){return(RN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MN(e,t)}function MN(e,t){return(MN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DN(e,t,n){return t&&FN(e.prototype,t),n&&FN(e,n),e}function GN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UN(e,t,n){return t&&BN(e.prototype,t),n&&BN(e,n),e}/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function HN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zN(e,t,n){return t&&JN(e.prototype,t),n&&JN(e,n),e}function VN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YN(e,t,n){return t&&qN(e.prototype,t),n&&qN(e,n),e}function QN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KN(e,t,n){return t&&XN(e.prototype,t),n&&XN(e,n),e}/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function ZN(e){return(ZN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tM(e,t,n){return t&&eM(e.prototype,t),n&&eM(e,n),e}function nM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oM(e,t,n){return t&&rM(e.prototype,t),n&&rM(e,n),e}function iM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sM(e,t,n){return t&&aM(e.prototype,t),n&&aM(e,n),e}function lM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cM(e,t,n){return t&&uM(e.prototype,t),n&&uM(e,n),e}function fM(e){return(fM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yM(e,t,n){return t&&hM(e.prototype,t),n&&hM(e,n),e}function dM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function vM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bM(e,t,n){return t&&mM(e.prototype,t),n&&mM(e,n),e}function gM(e){return(gM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OM(e,t,n){return t&&wM(e.prototype,t),n&&wM(e,n),e}function _M(e,t){return!t||"object"!==gM(t)&&"function"!=typeof t?PM(e):t}function PM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CM(e,t,n){return(CM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=TM(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function TM(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=EM(e)););return e}function EM(e){return(EM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xM(e,t)}function xM(e,t){return(xM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jM(e){return(jM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LM(e,t,n){return t&&RM(e.prototype,t),n&&RM(e,n),e}function NM(e,t){return!t||"object"!==jM(t)&&"function"!=typeof t?MM(e):t}function MM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IM(e,t,n){return(IM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=FM(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function FM(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DM(e)););return e}function DM(e){return(DM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BM(e,t)}function BM(e,t){return(BM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function UM(e){return(UM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zM(e,t,n){return t&&JM(e.prototype,t),n&&JM(e,n),e}function VM(e,t){return!t||"object"!==UM(t)&&"function"!=typeof t?WM(e):t}function WM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qM(e,t,n){return(qM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=YM(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function YM(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=QM(e)););return e}function QM(e){return(QM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KM(e,t)}function KM(e,t){return(KM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ZM(e){return(ZM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tI(e,t,n){return t&&eI(e.prototype,t),n&&eI(e,n),e}function nI(e,t){return!t||"object"!==ZM(t)&&"function"!=typeof t?rI(e):t}function rI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oI(e,t,n){return(oI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=iI(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function iI(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=aI(e)););return e}function aI(e){return(aI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lI(e,t)}function lI(e,t){return(lI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uI(e){return(uI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pI(e,t,n){return t&&fI(e.prototype,t),n&&fI(e,n),e}function hI(e,t){return!t||"object"!==uI(t)&&"function"!=typeof t?yI(e):t}function yI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dI(e,t,n){return(dI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=vI(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function vI(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mI(e)););return e}function mI(e){return(mI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gI(e,t)}function gI(e,t){return(gI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function SI(e){return(SI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _I(e,t,n){return t&&OI(e.prototype,t),n&&OI(e,n),e}function PI(e,t){return!t||"object"!==SI(t)&&"function"!=typeof t?CI(e):t}function CI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TI(e,t,n){return(TI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=EI(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function EI(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kI(e)););return e}function kI(e){return(kI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jI(e,t)}function jI(e,t){return(jI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function AI(e){return(AI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NI(e,t,n){return t&&LI(e.prototype,t),n&&LI(e,n),e}function MI(e,t){return!t||"object"!==AI(t)&&"function"!=typeof t?II(e):t}function II(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FI(e,t,n){return(FI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=DI(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function DI(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=GI(e)););return e}function GI(e){return(GI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UI(e,t)}function UI(e,t){return(UI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function HI(e){return(HI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VI(e,t,n){return t&&zI(e.prototype,t),n&&zI(e,n),e}function WI(e,t){return!t||"object"!==HI(t)&&"function"!=typeof t?qI(e):t}function qI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YI(e,t,n){return(YI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=QI(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function QI(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=XI(e)););return e}function XI(e){return(XI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function KI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZI(e,t)}function ZI(e,t){return(ZI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tF(e,t,n){return t&&eF(e.prototype,t),n&&eF(e,n),e}function nF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oF(e,t,n){return t&&rF(e.prototype,t),n&&rF(e,n),e}function iF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sF(e,t,n){return t&&aF(e.prototype,t),n&&aF(e,n),e}function lF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cF(e,t,n){return t&&uF(e.prototype,t),n&&uF(e,n),e}function fF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hF(e,t,n){return t&&pF(e.prototype,t),n&&pF(e,n),e}function yF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vF(e,t,n){return t&&dF(e.prototype,t),n&&dF(e,n),e}function mF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gF(e,t,n){return t&&bF(e.prototype,t),n&&bF(e,n),e}function SF(e){return(SF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _F(e,t,n){return t&&OF(e.prototype,t),n&&OF(e,n),e}function PF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EF(e,t,n){return t&&TF(e.prototype,t),n&&TF(e,n),e}function kF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jF(e,t,n){return t&&xF(e.prototype,t),n&&xF(e,n),e}function AF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LF(e,t,n){return t&&RF(e.prototype,t),n&&RF(e,n),e}function NF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IF(e,t,n){return t&&MF(e.prototype,t),n&&MF(e,n),e}function FF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GF(e,t,n){return t&&DF(e.prototype,t),n&&DF(e,n),e}function BF(e){return(BF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JF(e,t,n){return t&&HF(e.prototype,t),n&&HF(e,n),e}function zF(e,t){return!t||"object"!==BF(t)&&"function"!=typeof t?VF(e):t}function VF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WF(e,t,n){return(WF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=qF(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function qF(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=YF(e)););return e}function YF(e){return(YF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QF(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XF(e,t)}function XF(e,t){return(XF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KF(e){return(KF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eD(e,t,n){return t&&$F(e.prototype,t),n&&$F(e,n),e}function tD(e,t){return!t||"object"!==KF(t)&&"function"!=typeof t?nD(e):t}function nD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rD(e,t,n){return(rD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=oD(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function oD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=iD(e)););return e}function iD(e){return(iD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sD(e,t)}function sD(e,t){return(sD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lD(e){return(lD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fD(e,t,n){return t&&cD(e.prototype,t),n&&cD(e,n),e}function pD(e,t){return!t||"object"!==lD(t)&&"function"!=typeof t?hD(e):t}function hD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yD(e,t,n){return(yD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=dD(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function dD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vD(e)););return e}function vD(e){return(vD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bD(e,t)}function bD(e,t){return(bD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gD(e){return(gD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OD(e,t,n){return t&&wD(e.prototype,t),n&&wD(e,n),e}function _D(e,t){return!t||"object"!==gD(t)&&"function"!=typeof t?PD(e):t}function PD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CD(e,t,n){return(CD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=TD(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function TD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ED(e)););return e}function ED(e){return(ED=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xD(e,t)}function xD(e,t){return(xD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jD(e){return(jD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LD(e,t,n){return t&&RD(e.prototype,t),n&&RD(e,n),e}function ND(e,t){return!t||"object"!==jD(t)&&"function"!=typeof t?MD(e):t}function MD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ID(e,t,n){return(ID="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=FD(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function FD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DD(e)););return e}function DD(e){return(DD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BD(e,t)}function BD(e,t){return(BD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function UD(e){return(UD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zD(e,t,n){return t&&JD(e.prototype,t),n&&JD(e,n),e}function VD(e,t){return!t||"object"!==UD(t)&&"function"!=typeof t?WD(e):t}function WD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qD(e,t,n){return(qD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=YD(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function YD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=QD(e)););return e}function QD(e){return(QD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KD(e,t)}function KD(e,t){return(KD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ZD(e){return(ZD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tG(e,t,n){return t&&eG(e.prototype,t),n&&eG(e,n),e}function nG(e,t){return!t||"object"!==ZD(t)&&"function"!=typeof t?rG(e):t}function rG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oG(e,t,n){return(oG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=iG(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function iG(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=aG(e)););return e}function aG(e){return(aG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lG(e,t)}function lG(e,t){return(lG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uG(e){return(uG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pG(e,t,n){return t&&fG(e.prototype,t),n&&fG(e,n),e}function hG(e,t){return!t||"object"!==uG(t)&&"function"!=typeof t?yG(e):t}function yG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dG(e,t,n){return(dG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=vG(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function vG(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mG(e)););return e}function mG(e){return(mG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gG(e,t)}function gG(e,t){return(gG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function SG(e){return(SG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _G(e,t,n){return t&&OG(e.prototype,t),n&&OG(e,n),e}function PG(e,t){return!t||"object"!==SG(t)&&"function"!=typeof t?CG(e):t}function CG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TG(e,t,n){return(TG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=EG(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function EG(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kG(e)););return e}function kG(e){return(kG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jG(e,t)}function jG(e,t){return(jG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function AG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LG(e,t,n){return t&&RG(e.prototype,t),n&&RG(e,n),e}function NG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IG(e,t,n){return t&&MG(e.prototype,t),n&&MG(e,n),e}function FG(e){return(FG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BG(e,t,n){return t&&GG(e.prototype,t),n&&GG(e,n),e}function UG(e,t){return!t||"object"!==FG(t)&&"function"!=typeof t?HG(e):t}function HG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JG(e,t,n){return(JG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=zG(e,t);if(r){
var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function zG(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=VG(e)););return e}function VG(e){return(VG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qG(e,t)}function qG(e,t){return(qG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function YG(e){return(YG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KG(e,t,n){return t&&XG(e.prototype,t),n&&XG(e,n),e}function ZG(e,t){return!t||"object"!==YG(t)&&"function"!=typeof t?$G(e):t}function $G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eB(e,t,n){return(eB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=tB(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function tB(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nB(e)););return e}function nB(e){return(nB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oB(e,t)}function oB(e,t){return(oB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iB(e){return(iB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lB(e,t,n){return t&&sB(e.prototype,t),n&&sB(e,n),e}function uB(e,t){return!t||"object"!==iB(t)&&"function"!=typeof t?cB(e):t}function cB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fB(e,t,n){return(fB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=pB(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function pB(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hB(e)););return e}function hB(e){return(hB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dB(e,t)}function dB(e,t){return(dB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vB(e){return(vB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gB(e,t,n){return t&&bB(e.prototype,t),n&&bB(e,n),e}function SB(e,t){return!t||"object"!==vB(t)&&"function"!=typeof t?wB(e):t}function wB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OB(e,t,n){return(OB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_B(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _B(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PB(e)););return e}function PB(e){return(PB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TB(e,t)}function TB(e,t){return(TB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function EB(e){return(EB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jB(e,t,n){return t&&xB(e.prototype,t),n&&xB(e,n),e}function AB(e,t){return!t||"object"!==EB(t)&&"function"!=typeof t?RB(e):t}function RB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LB(e,t,n){return(LB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=NB(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function NB(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=MB(e)););return e}function MB(e){return(MB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FB(e,t)}function FB(e,t){return(FB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function DB(e){return(DB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UB(e,t,n){return t&&BB(e.prototype,t),n&&BB(e,n),e}function HB(e,t){return!t||"object"!==DB(t)&&"function"!=typeof t?JB(e):t}function JB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zB(e,t,n){return(zB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=VB(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function VB(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=WB(e)););return e}function WB(e){return(WB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YB(e,t)}function YB(e,t){return(YB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function QB(e){return(QB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZB(e,t,n){return t&&KB(e.prototype,t),n&&KB(e,n),e}function $B(e,t){return!t||"object"!==QB(t)&&"function"!=typeof t?eU(e):t}function eU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tU(e,t,n){return(tU="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=nU(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function nU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rU(e)););return e}function rU(e){return(rU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iU(e,t)}function iU(e,t){return(iU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aU(e){return(aU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uU(e,t,n){return t&&lU(e.prototype,t),n&&lU(e,n),e}function cU(e,t){return!t||"object"!==aU(t)&&"function"!=typeof t?fU(e):t}function fU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pU(e,t,n){return(pU="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=hU(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function hU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yU(e)););return e}function yU(e){return(yU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vU(e,t)}function vU(e,t){return(vU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mU(e){return(mU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SU(e,t,n){return t&&gU(e.prototype,t),n&&gU(e,n),e}function wU(e,t){return!t||"object"!==mU(t)&&"function"!=typeof t?OU(e):t}function OU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _U(e,t,n){return(_U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=PU(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function PU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CU(e)););return e}function CU(e){return(CU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EU(e,t)}function EU(e,t){return(EU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kU(e){return(kU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AU(e,t,n){return t&&jU(e.prototype,t),n&&jU(e,n),e}function RU(e,t){return!t||"object"!==kU(t)&&"function"!=typeof t?LU(e):t}function LU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NU(e,t,n){return(NU="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=MU(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function MU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=IU(e)););return e}function IU(e){return(IU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DU(e,t)}function DU(e,t){return(DU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function GU(e){return(GU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HU(e,t,n){return t&&UU(e.prototype,t),n&&UU(e,n),e}function JU(e,t){return!t||"object"!==GU(t)&&"function"!=typeof t?zU(e):t}function zU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VU(e,t,n){return(VU="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=WU(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function WU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qU(e)););return e}function qU(e){return(qU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QU(e,t)}function QU(e,t){return(QU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZU(e,t,n){return t&&KU(e.prototype,t),n&&KU(e,n),e}function $U(e){return($U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eH(e,t){return!t||"object"!==$U(t)&&"function"!=typeof t?tH(e):t}function tH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nH(e){return(nH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rH(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oH(e,t)}function oH(e,t){return(oH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sH(e,t,n){return t&&aH(e.prototype,t),n&&aH(e,n),e}function lH(e){return(lH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fH(e,t,n){return t&&cH(e.prototype,t),n&&cH(e,n),e}function pH(e,t){return!t||"object"!==lH(t)&&"function"!=typeof t?yH(e):t}function hH(e){return(hH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dH(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vH(e,t)}function vH(e,t){return(vH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gH(e,t,n){return t&&bH(e.prototype,t),n&&bH(e,n),e}function SH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OH(e,t,n){return t&&wH(e.prototype,t),n&&wH(e,n),e}function _H(e){return(_H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TH(e,t,n){return t&&CH(e.prototype,t),n&&CH(e,n),e}function EH(e,t){return!t||"object"!==_H(t)&&"function"!=typeof t?xH(e):t}function kH(e){return(kH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jH(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AH(e,t)}function AH(e,t){return(AH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function RH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NH(e,t,n){return t&&LH(e.prototype,t),n&&LH(e,n),e}function MH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FH(e,t,n){return t&&IH(e.prototype,t),n&&IH(e,n),e}function DH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BH(e,t,n){return t&&GH(e.prototype,t),n&&GH(e,n),e}function UH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JH(e,t,n){return t&&HH(e.prototype,t),n&&HH(e,n),e}function zH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WH(e,t,n){return t&&VH(e.prototype,t),n&&VH(e,n),e}function qH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QH(e,t,n){return t&&YH(e.prototype,t),n&&YH(e,n),e}function XH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZH(e,t,n){return t&&KH(e.prototype,t),n&&KH(e,n),e}function $H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tJ(e,t,n){return t&&eJ(e.prototype,t),n&&eJ(e,n),e}function nJ(e){return(nJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iJ(e,t,n){return t&&oJ(e.prototype,t),n&&oJ(e,n),e}function aJ(e,t){return!t||"object"!==nJ(t)&&"function"!=typeof t?sJ(e):t}function sJ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lJ(e){return(lJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uJ(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cJ(e,t)}function cJ(e,t){return(cJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fJ(e){return(fJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yJ(e,t,n){return t&&hJ(e.prototype,t),n&&hJ(e,n),e}function dJ(e,t){return!t||"object"!==fJ(t)&&"function"!=typeof t?vJ(e):t}function vJ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mJ(e){return(mJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bJ(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gJ(e,t)}function gJ(e,t){return(gJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function SJ(e){return(SJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _J(e,t,n){return t&&OJ(e.prototype,t),n&&OJ(e,n),e}function PJ(e,t){return!t||"object"!==SJ(t)&&"function"!=typeof t?CJ(e):t}function CJ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TJ(e){return(TJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EJ(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kJ(e,t)}function kJ(e,t){return(kJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xJ(e){return(xJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RJ(e,t,n){return t&&AJ(e.prototype,t),n&&AJ(e,n),e}function LJ(e,t){return!t||"object"!==xJ(t)&&"function"!=typeof t?NJ(e):t}function NJ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MJ(e){return(MJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IJ(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FJ(e,t)}function FJ(e,t){return(FJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function DJ(e){return(DJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UJ(e,t,n){return t&&BJ(e.prototype,t),n&&BJ(e,n),e}function HJ(e,t){return!t||"object"!==DJ(t)&&"function"!=typeof t?JJ(e):t}function JJ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zJ(e){return(zJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function VJ(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WJ(e,t)}function WJ(e,t){return(WJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qJ(e){return(qJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XJ(e,t,n){return t&&QJ(e.prototype,t),n&&QJ(e,n),e}function KJ(e,t){return!t||"object"!==qJ(t)&&"function"!=typeof t?ZJ(e):t}function ZJ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $J(e){return($J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ez(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tz(e,t)}function tz(e,t){return(tz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nz(e){return(nz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iz(e,t,n){return t&&oz(e.prototype,t),n&&oz(e,n),e}function az(e,t){return!t||"object"!==nz(t)&&"function"!=typeof t?sz(e):t}function sz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lz(e){return(lz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cz(e,t)}function cz(e,t){return(cz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fz(e){return(fz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yz(e,t,n){return t&&hz(e.prototype,t),n&&hz(e,n),e}function dz(e,t){return!t||"object"!==fz(t)&&"function"!=typeof t?vz(e):t}function vz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mz(e){return(mz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gz(e,t)}function gz(e,t){return(gz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sz(e){return(Sz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _z(e,t,n){return t&&Oz(e.prototype,t),n&&Oz(e,n),e}function Pz(e,t){return!t||"object"!==Sz(t)&&"function"!=typeof t?Cz(e):t}function Cz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tz(e){return(Tz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ez(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kz(e,t)}function kz(e,t){return(kz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Az(e,t,n){return t&&jz(e.prototype,t),n&&jz(e,n),e}/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function Rz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nz(e,t,n){return t&&Lz(e.prototype,t),n&&Lz(e,n),e}/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function Mz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fz(e,t,n){return t&&Iz(e.prototype,t),n&&Iz(e,n),e}function Dz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bz(e,t,n){return t&&Gz(e.prototype,t),n&&Gz(e,n),e}function Uz(e){return(Uz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zz(e,t,n){return t&&Jz(e.prototype,t),n&&Jz(e,n),e}function Vz(e,t){return!t||"object"!==Uz(t)&&"function"!=typeof t?Wz(e):t}function Wz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qz(e,t,n){return(qz="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Yz(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Yz(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qz(e)););return e}function Qz(e){return(Qz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kz(e,t)}function Kz(e,t){return(Kz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zz(e){return(Zz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tV(e,t,n){return t&&eV(e.prototype,t),n&&eV(e,n),e}function nV(e,t){return!t||"object"!==Zz(t)&&"function"!=typeof t?oV(e):t}function rV(e){return(rV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aV(e,t)}function aV(e,t){return(aV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sV(e){return(sV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cV(e,t,n){return t&&uV(e.prototype,t),n&&uV(e,n),e}function fV(e,t){return!t||"object"!==sV(t)&&"function"!=typeof t?pV(e):t}function pV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hV(e,t,n){return(hV="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=yV(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function yV(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dV(e)););return e}function dV(e){return(dV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mV(e,t)}function mV(e,t){return(mV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bV(e){return(bV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wV(e,t,n){return t&&SV(e.prototype,t),n&&SV(e,n),e}function OV(e,t){return!t||"object"!==bV(t)&&"function"!=typeof t?_V(e):t}function _V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PV(e,t,n){return(PV="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=CV(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function CV(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TV(e)););return e}function TV(e){return(TV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kV(e,t)}function kV(e,t){return(kV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AV(e,t,n){return t&&jV(e.prototype,t),n&&jV(e,n),e}function RV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NV(e,t,n){return t&&LV(e.prototype,t),n&&LV(e,n),e}function MV(e){return(MV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DV(e,t,n){return t&&FV(e.prototype,t),n&&FV(e,n),e}function GV(e,t){return!t||"object"!==MV(t)&&"function"!=typeof t?UV(e):t}function BV(e){return(BV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JV(e,t)}function JV(e,t){return(JV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zV(e){return(zV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qV(e,t,n){return t&&WV(e.prototype,t),n&&WV(e,n),e}function YV(e,t){return!t||"object"!==zV(t)&&"function"!=typeof t?QV(e):t}function QV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XV(e){return(XV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function KV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZV(e,t)}function ZV(e,t){return(ZV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $V(e){return($V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nW(e,t,n){return t&&tW(e.prototype,t),n&&tW(e,n),e}function rW(e,t){return!t||"object"!==$V(t)&&"function"!=typeof t?oW(e):t}function oW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iW(e){return(iW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aW(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sW(e,t)}function sW(e,t){return(sW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lW(e){return(lW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fW(e,t,n){return t&&cW(e.prototype,t),n&&cW(e,n),e}function pW(e,t){return!t||"object"!==lW(t)&&"function"!=typeof t?yW(e):t}function hW(e){return(hW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dW(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vW(e,t)}function vW(e,t){return(vW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mW(e){return(mW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SW(e,t,n){return t&&gW(e.prototype,t),n&&gW(e,n),e}function wW(e,t){return!t||"object"!==mW(t)&&"function"!=typeof t?OW(e):t}function OW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _W(e){return(_W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PW(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CW(e,t)}function CW(e,t){return(CW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function TW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kW(e,t,n){return t&&EW(e.prototype,t),n&&EW(e,n),e}/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function xW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AW(e,t,n){return t&&jW(e.prototype,t),n&&jW(e,n),e}/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function RW(e,t,n){if(e===n||e===t)return e;var r=n-t;return((e-t)%r+r)%r+t}function LW(e){return e*Math.PI/180}function NW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IW(e,t,n){return t&&MW(e.prototype,t),n&&MW(e,n),e}/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function FW(e){return(FW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BW(e,t,n){return t&&GW(e.prototype,t),n&&GW(e,n),e}function UW(e,t){return!t||"object"!==FW(t)&&"function"!=typeof t?JW(e):t}function HW(e){return(HW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zW(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VW(e,t)}function VW(e,t){return(VW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function WW(e){return(WW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QW(e,t,n){return t&&YW(e.prototype,t),n&&YW(e,n),e}function XW(e,t){return!t||"object"!==WW(t)&&"function"!=typeof t?KW(e):t}function KW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZW(e){return(ZW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eq(e,t)}function eq(e,t){return(eq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rq(e,t,n){return t&&nq(e.prototype,t),n&&nq(e,n),e}function oq(e,t,n,r,o){return{id:e,type:t,source:n||"vector-tiles","source-layer":r||e,paint:o}}/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function iq(e){return(iq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sq(e,t){return!t||"object"!==iq(t)&&"function"!=typeof t?uq(e):t}function lq(e){return(lq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uq(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cq(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fq(e,t)}function fq(e,t){return(fq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pq(e){return(pq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dq(e,t,n){return t&&yq(e.prototype,t),n&&yq(e,n),e}function vq(e,t){return!t||"object"!==pq(t)&&"function"!=typeof t?mq(e):t}function mq(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bq(e){return(bq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gq(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sq(e,t)}function Sq(e,t){return(Sq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wq(e){return(wq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pq(e,t,n){return t&&_q(e.prototype,t),n&&_q(e,n),e}function Cq(e,t){return!t||"object"!==wq(t)&&"function"!=typeof t?Tq(e):t}function Tq(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eq(e){return(Eq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kq(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xq(e,t)}function xq(e,t){return(xq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jq(e){return(jq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lq(e,t,n){return t&&Rq(e.prototype,t),n&&Rq(e,n),e}function Nq(e,t){return!t||"object"!==jq(t)&&"function"!=typeof t?Iq(e):t}function Mq(e){return(Mq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Iq(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fq(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dq(e,t)}function Dq(e,t){return(Dq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gq(e){return(Gq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hq(e,t,n){return t&&Uq(e.prototype,t),n&&Uq(e,n),e}function Jq(e,t){return!t||"object"!==Gq(t)&&"function"!=typeof t?zq(e):t}function zq(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vq(e){return(Vq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wq(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qq(e,t)}function qq(e,t){return(qq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yq(e){return(Yq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kq(e,t,n){return t&&Xq(e.prototype,t),n&&Xq(e,n),e}function Zq(e,t){return!t||"object"!==Yq(t)&&"function"!=typeof t?$q(e):t}function $q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eY(e){return(eY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tY(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nY(e,t)}function nY(e,t){return(nY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rY(e){return(rY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aY(e,t,n){return t&&iY(e.prototype,t),n&&iY(e,n),e}function sY(e,t){return!t||"object"!==rY(t)&&"function"!=typeof t?lY(e):t}function lY(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uY(e){return(uY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cY(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fY(e,t)}function fY(e,t){return(fY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pY(e){return(pY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dY(e,t,n){return t&&yY(e.prototype,t),n&&yY(e,n),e}function vY(e,t){return!t||"object"!==pY(t)&&"function"!=typeof t?mY(e):t}function mY(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bY(e){return(bY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gY(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SY(e,t)}function SY(e,t){return(SY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wY(e){return(wY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PY(e,t,n){return t&&_Y(e.prototype,t),n&&_Y(e,n),e}function CY(e,t){return!t||"object"!==wY(t)&&"function"!=typeof t?TY(e):t}function TY(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EY(e){return(EY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kY(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xY(e,t)}function xY(e,t){return(xY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jY(e){return(jY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LY(e,t,n){return t&&RY(e.prototype,t),n&&RY(e,n),e}function NY(e,t){return!t||"object"!==jY(t)&&"function"!=typeof t?MY(e):t}function MY(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IY(e){return(IY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FY(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DY(e,t)}function DY(e,t){return(DY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GY(e){return(GY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HY(e,t,n){return t&&UY(e.prototype,t),n&&UY(e,n),e}function JY(e,t){return!t||"object"!==GY(t)&&"function"!=typeof t?zY(e):t}function zY(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VY(e){return(VY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WY(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qY(e,t)}function qY(e,t){return(qY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function YY(e){return(YY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KY(e,t,n){return t&&XY(e.prototype,t),n&&XY(e,n),e}function ZY(e,t){return!t||"object"!==YY(t)&&"function"!=typeof t?$Y(e):t}function $Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eQ(e){return(eQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tQ(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nQ(e,t)}function nQ(e,t){return(nQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rQ(e){return(rQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aQ(e,t,n){return t&&iQ(e.prototype,t),n&&iQ(e,n),e}function sQ(e,t){return!t||"object"!==rQ(t)&&"function"!=typeof t?lQ(e):t}function lQ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uQ(e){return(uQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cQ(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fQ(e,t)}function fQ(e,t){return(fQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pQ(e){return(pQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dQ(e,t,n){return t&&yQ(e.prototype,t),n&&yQ(e,n),e}function vQ(e,t){return!t||"object"!==pQ(t)&&"function"!=typeof t?mQ(e):t}function mQ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bQ(e){return(bQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gQ(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SQ(e,t)}function SQ(e,t){return(SQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wQ(e){return(wQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PQ(e,t,n){return t&&_Q(e.prototype,t),n&&_Q(e,n),e}function CQ(e,t){return!t||"object"!==wQ(t)&&"function"!=typeof t?TQ(e):t}function TQ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EQ(e){return(EQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kQ(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xQ(e,t)}function xQ(e,t){return(xQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jQ(e){return(jQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LQ(e,t,n){return t&&RQ(e.prototype,t),n&&RQ(e,n),e}function NQ(e,t){return!t||"object"!==jQ(t)&&"function"!=typeof t?MQ(e):t}function MQ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IQ(e){return(IQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FQ(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DQ(e,t)}function DQ(e,t){return(DQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GQ(e){return(GQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HQ(e,t,n){return t&&UQ(e.prototype,t),n&&UQ(e,n),e}function JQ(e,t){return!t||"object"!==GQ(t)&&"function"!=typeof t?zQ(e):t}function zQ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VQ(e){return(VQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WQ(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qQ(e,t)}function qQ(e,t){return(qQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function YQ(e){return(YQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KQ(e,t,n){return t&&XQ(e.prototype,t),n&&XQ(e,n),e}function ZQ(e,t){return!t||"object"!==YQ(t)&&"function"!=typeof t?$Q(e):t}function $Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eX(e){return(eX=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tX(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nX(e,t)}function nX(e,t){return(nX=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t);/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var rX=window.SuperMap=window.SuperMap||{};rX.Components=window.SuperMap.Components||{};/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var oX=rX.DataFormat={GEOJSON:"GEOJSON",ISERVER:"ISERVER"},iX=rX.ServerType={ISERVER:"ISERVER",IPORTAL:"IPORTAL",ONLINE:"ONLINE"},aX=rX.GeometryType={LINE:"LINE",LINEM:"LINEM",POINT:"POINT",REGION:"REGION",POINTEPS:"POINTEPS",LINEEPS:"LINEEPS",REGIONEPS:"REGIONEPS",ELLIPSE:"ELLIPSE",CIRCLE:"CIRCLE",TEXT:"TEXT",RECTANGLE:"RECTANGLE",UNKNOWN:"UNKNOWN"},sX=rX.QueryOption={ATTRIBUTE:"ATTRIBUTE",ATTRIBUTEANDGEOMETRY:"ATTRIBUTEANDGEOMETRY",GEOMETRY:"GEOMETRY"},lX=rX.JoinType={INNERJOIN:"INNERJOIN",LEFTJOIN:"LEFTJOIN"},uX=rX.SpatialQueryMode={CONTAIN:"CONTAIN",CROSS:"CROSS",DISJOINT:"DISJOINT",IDENTITY:"IDENTITY",INTERSECT:"INTERSECT",NONE:"NONE",OVERLAP:"OVERLAP",TOUCH:"TOUCH",WITHIN:"WITHIN"},cX=rX.SpatialRelationType={CONTAIN:"CONTAIN",INTERSECT:"INTERSECT",WITHIN:"WITHIN"},fX=rX.MeasureMode={DISTANCE:"DISTANCE",AREA:"AREA"},pX=rX.Unit={METER:"METER",KILOMETER:"KILOMETER",MILE:"MILE",YARD:"YARD",DEGREE:"DEGREE",MILLIMETER:"MILLIMETER",CENTIMETER:"CENTIMETER",INCH:"INCH",DECIMETER:"DECIMETER",FOOT:"FOOT",SECOND:"SECOND",MINUTE:"MINUTE",RADIAN:"RADIAN"},hX=rX.BufferRadiusUnit={CENTIMETER:"CENTIMETER",DECIMETER:"DECIMETER",FOOT:"FOOT",INCH:"INCH",KILOMETER:"KILOMETER",METER:"METER",MILE:"MILE",MILLIMETER:"MILLIMETER",YARD:"YARD"},yX=rX.EngineType={IMAGEPLUGINS:"IMAGEPLUGINS",OGC:"OGC",ORACLEPLUS:"ORACLEPLUS",SDBPLUS:"SDBPLUS",SQLPLUS:"SQLPLUS",UDB:"UDB"},dX=rX.ThemeGraphTextFormat={CAPTION:"CAPTION",CAPTION_PERCENT:"CAPTION_PERCENT",CAPTION_VALUE:"CAPTION_VALUE",PERCENT:"PERCENT",VALUE:"VALUE"},vX=rX.ThemeGraphType={AREA:"AREA",BAR:"BAR",BAR3D:"BAR3D",LINE:"LINE",PIE:"PIE",PIE3D:"PIE3D",POINT:"POINT",RING:"RING",ROSE:"ROSE",ROSE3D:"ROSE3D",STACK_BAR:"STACK_BAR",STACK_BAR3D:"STACK_BAR3D",STEP:"STEP"},mX=rX.GraphAxesTextDisplayMode={ALL:"ALL",NONE:"NONE",YAXES:"YAXES"},bX=rX.GraduatedMode={CONSTANT:"CONSTANT",LOGARITHM:"LOGARITHM",SQUAREROOT:"SQUAREROOT"},gX=rX.RangeMode={CUSTOMINTERVAL:"CUSTOMINTERVAL",EQUALINTERVAL:"EQUALINTERVAL",LOGARITHM:"LOGARITHM",QUANTILE:"QUANTILE",SQUAREROOT:"SQUAREROOT",STDDEVIATION:"STDDEVIATION"},SX=rX.ThemeType={DOTDENSITY:"DOTDENSITY",GRADUATEDSYMBOL:"GRADUATEDSYMBOL",GRAPH:"GRAPH",LABEL:"LABEL",RANGE:"RANGE",UNIQUE:"UNIQUE"},wX=rX.ColorGradientType={BLACK_WHITE:"BLACKWHITE",BLUE_BLACK:"BLUEBLACK",BLUE_RED:"BLUERED",BLUE_WHITE:"BLUEWHITE",CYAN_BLACK:"CYANBLACK",CYAN_BLUE:"CYANBLUE",CYAN_GREEN:"CYANGREEN",CYAN_WHITE:"CYANWHITE",GREEN_BLACK:"GREENBLACK",GREEN_BLUE:"GREENBLUE",GREEN_ORANGE_VIOLET:"GREENORANGEVIOLET",GREEN_RED:"GREENRED",GREEN_WHITE:"GREENWHITE",PINK_BLACK:"PINKBLACK",PINK_BLUE:"PINKBLUE",PINK_RED:"PINKRED",PINK_WHITE:"PINKWHITE",RAIN_BOW:"RAINBOW",RED_BLACK:"REDBLACK",RED_WHITE:"REDWHITE",SPECTRUM:"SPECTRUM",TERRAIN:"TERRAIN",YELLOW_BLACK:"YELLOWBLACK",YELLOW_BLUE:"YELLOWBLUE",YELLOW_GREEN:"YELLOWGREEN",YELLOW_RED:"YELLOWRED",YELLOW_WHITE:"YELLOWWHITE"},OX=rX.TextAlignment={TOPLEFT:"TOPLEFT",TOPCENTER:"TOPCENTER",TOPRIGHT:"TOPRIGHT",BASELINELEFT:"BASELINELEFT",BASELINECENTER:"BASELINECENTER",BASELINERIGHT:"BASELINERIGHT",BOTTOMLEFT:"BOTTOMLEFT",BOTTOMCENTER:"BOTTOMCENTER",BOTTOMRIGHT:"BOTTOMRIGHT",MIDDLELEFT:"MIDDLELEFT",MIDDLECENTER:"MIDDLECENTER",MIDDLERIGHT:"MIDDLERIGHT"},_X=rX.FillGradientMode={NONE:"NONE",LINEAR:"LINEAR",RADIAL:"RADIAL",CONICAL:"CONICAL",SQUARE:"SQUARE"},PX=rX.AlongLineDirection={NORMAL:"ALONG_LINE_NORMAL",LB_TO_RT:"LEFT_BOTTOM_TO_RIGHT_TOP",LT_TO_RB:"LEFT_TOP_TO_RIGHT_BOTTOM",RB_TO_LT:"RIGHT_BOTTOM_TO_LEFT_TOP",RT_TO_LB:"RIGHT_TOP_TO_LEFT_BOTTOM"},CX=rX.LabelBackShape={DIAMOND:"DIAMOND",ELLIPSE:"ELLIPSE",MARKER:"MARKER",NONE:"NONE",RECT:"RECT",ROUNDRECT:"ROUNDRECT",TRIANGLE:"TRIANGLE"},TX=rX.LabelOverLengthMode={NEWLINE:"NEWLINE",NONE:"NONE",OMIT:"OMIT"},EX=rX.DirectionType={EAST:"EAST",NONE:"NONE",NORTH:"NORTH",SOURTH:"SOURTH",WEST:"WEST"},kX=rX.SideType={LEFT:"LEFT",MIDDLE:"MIDDLE",NONE:"NONE",RIGHT:"RIGHT"},xX=rX.SupplyCenterType={FIXEDCENTER:"FIXEDCENTER",NULL:"NULL",OPTIONALCENTER:"OPTIONALCENTER"},jX=rX.TurnType={AHEAD:"AHEAD",BACK:"BACK",END:"END",LEFT:"LEFT",NONE:"NONE",RIGHT:"RIGHT"},AX=rX.BufferEndType={FLAT:"FLAT",ROUND:"ROUND"},RX=rX.OverlayOperationType={CLIP:"CLIP",ERASE:"ERASE",IDENTITY:"IDENTITY",INTERSECT:"INTERSECT",UNION:"UNION",UPDATE:"UPDATE",XOR:"XOR"},LX=rX.OutputType={INDEXEDHDFS:"INDEXEDHDFS",UDB:"UDB",MONGODB:"MONGODB",PG:"PG"},NX=rX.SmoothMethod={BSPLINE:"BSPLINE",POLISH:"POLISH"},MX=rX.SurfaceAnalystMethod={ISOLINE:"ISOLINE",ISOREGION:"ISOREGION"},IX=rX.DataReturnMode={DATASET_AND_RECORDSET:"DATASET_AND_RECORDSET",DATASET_ONLY:"DATASET_ONLY",RECORDSET_ONLY:"RECORDSET_ONLY"},FX=rX.EditType={ADD:"add",UPDATE:"update",DELETE:"delete"},DX=rX.TransferTactic={LESS_TIME:"LESS_TIME",LESS_TRANSFER:"LESS_TRANSFER",LESS_WALK:"LESS_WALK",MIN_DISTANCE:"MIN_DISTANCE"},GX=rX.TransferPreference={BUS:"BUS",SUBWAY:"SUBWAY",NO_SUBWAY:"NO_SUBWAY",NONE:"NONE"},BX=rX.GridType={CROSS:"CROSS",GRID:"GRID",POINT:"POINT"},UX=rX.ColorSpaceType={CMYK:"CMYK",RGB:"RGB"},HX=rX.LayerType={UGC:"UGC",WMS:"WMS",WFS:"WFS",CUSTOM:"CUSTOM"},JX=rX.UGCLayerType={THEME:"THEME",VECTOR:"VECTOR",GRID:"GRID",IMAGE:"IMAGE"},zX=rX.StatisticMode={AVERAGE:"AVERAGE",MAX:"MAX",MIN:"MIN",STDDEVIATION:"STDDEVIATION",SUM:"SUM",VARIANCE:"VARIANCE"},VX=rX.PixelFormat={BIT16:"BIT16",BIT32:"BIT32",BIT64:"BIT64",SINGLE:"SINGLE",DOUBLE:"DOUBLE",UBIT1:"UBIT1",UBIT4:"UBIT4",UBIT8:"UBIT8",UBIT24:"UBIT24",UBIT32:"UBIT32"},WX=rX.SearchMode={KDTREE_FIXED_COUNT:"KDTREE_FIXED_COUNT",KDTREE_FIXED_RADIUS:"KDTREE_FIXED_RADIUS",NONE:"NONE",QUADTREE:"QUADTREE"},qX=rX.InterpolationAlgorithmType={KRIGING:"KRIGING",SimpleKriging:"SimpleKriging",UniversalKriging:"UniversalKriging"},YX=rX.VariogramMode={EXPONENTIAL:"EXPONENTIAL",GAUSSIAN:"GAUSSIAN",SPHERICAL:"SPHERICAL"},QX=rX.Exponent={EXP1:"EXP1",EXP2:"EXP2"},XX=rX.ClientType={IP:"IP",REFERER:"Referer",REQUESTIP:"RequestIP",NONE:"NONE",SERVER:"SERVER",WEB:"WEB"},KX=rX.ChartType={BAR:"Bar",BAR3D:"Bar3D",CIRCLE:"Circle",PIE:"Pie",POINT:"Point",LINE:"Line",RING:"Ring"},ZX=rX.ClipAnalystMode={CLIP:"clip",INTERSECT:"intersect"},$X=rX.AnalystAreaUnit={SQUAREMETER:"SquareMeter",SQUAREKILOMETER:"SquareKiloMeter",HECTARE:"Hectare",ARE:"Are",ACRE:"Acre",SQUAREFOOT:"SquareFoot",SQUAREYARD:"SquareYard",SQUAREMILE:"SquareMile"},eK=rX.AnalystSizeUnit={METER:"Meter",KILOMETER:"Kilometer",YARD:"Yard",FOOT:"Foot",MILE:"Mile"},tK=rX.StatisticAnalystMode={MAX:"max",MIN:"min",AVERAGE:"average",SUM:"sum",VARIANCE:"variance",STDDEVIATION:"stdDeviation"},nK=rX.SummaryType={SUMMARYMESH:"SUMMARYMESH",SUMMARYREGION:"SUMMARYREGION"},rK=rX.TopologyValidatorRule={REGIONNOOVERLAP:"REGIONNOOVERLAP",REGIONNOOVERLAPWITH:"REGIONNOOVERLAPWITH",REGIONCONTAINEDBYREGION:"REGIONCONTAINEDBYREGION",REGIONCOVEREDBYREGION:"REGIONCOVEREDBYREGION",LINENOOVERLAP:"LINENOOVERLAP",LINENOOVERLAPWITH:"LINENOOVERLAPWITH",POINTNOIDENTICAL:"POINTNOIDENTICAL"},oK=rX.AggregationType={GEOHASH_GRID:"geohash_grid",FILTER:"filter"},iK=rX.AggregationQueryBuilderType={GEO_BOUNDING_BOX:"geo_bounding_box"},aK=rX.GetFeatureMode={BOUNDS:"BOUNDS",BUFFER:"BUFFER",ID:"ID",SPATIAL:"SPATIAL",SQL:"SQL"},sK=rX.RasterFunctionType={NDVI:"NDVI",HILLSHADE:"HILLSHADE"},lK=function(){function e(t,n){r(this,e),this.w=t?parseFloat(t):0,this.h=t?parseFloat(n):0,this.CLASS_NAME="SuperMap.Size"}return i(e,[{key:"toString",value:function(){return"w="+this.w+",h="+this.h}},{key:"clone",value:function(){return new e(this.w,this.h)}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.w===e.w&&this.h===e.h||isNaN(this.w)&&isNaN(this.h)&&isNaN(e.w)&&isNaN(e.h)),t}},{key:"destroy",value:function(){this.w=null,this.h=null}}]),e}();rX.Size=lK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var uK=function(){function e(t,n,r){a(this,e),this.x=t?parseFloat(t):0,this.y=n?parseFloat(n):0,this.mode=r,this.CLASS_NAME="SuperMap.Pixel",rX.Pixel.Mode={LeftTop:"lefttop",RightTop:"righttop",RightBottom:"rightbottom",LeftBottom:"leftbottom"}}return l(e,[{key:"toString",value:function(){return"x="+this.x+",y="+this.y}},{key:"clone",value:function(){return new e(this.x,this.y,this.mode)}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.x==e.x&&this.y==e.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(e.x)&&isNaN(e.y)),t}},{key:"distanceTo",value:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}},{key:"add",value:function(t,n){if(null==t||null==n)throw new TypeError("Pixel.add cannot receive null values");return new e(this.x+t,this.y+n)}},{key:"offset",value:function(e){var t=this.clone();return e&&(t=this.add(e.x,e.y)),t}},{key:"destroy",value:function(){this.x=null,this.y=null,this.mode=null}}]),e}();rX.Pixel=uK,/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
rX.inherit=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n;var r,o,i;for(r=2,o=arguments.length;r<o;r++)i=arguments[r],"function"==typeof i&&(i=i.prototype),rX.Util.extend(e.prototype,i)},rX.mixin=function(){function e(e,t){var n=Object.getOwnPropertyNames(t);Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t)));for(var r=0;r<n.length;r++){var o=n[r];if("constructor"!==o&&"prototype"!==o&&"name"!==o&&"length"!==o){var i=Object.getOwnPropertyDescriptor(t,o);window.ActiveXObject?Object.defineProperty(e,o,i||{}):Object.defineProperty(e,o,i)}}}for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=function t(r){u(this,t);for(var o=0;o<n.length;o++)e(this,new n[o](r))},i=0;i<n.length;i++){var a=n[i];e(o,a),e(o.prototype,a.prototype),e(o.prototype,new a)}return o};var cK=rX.String={startsWith:function(e,t){return 0==e.indexOf(t)},contains:function(e,t){return-1!=e.indexOf(t)},trim:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},camelize:function(e){for(var t=e.split("-"),n=t[0],r=1,o=t.length;r<o;r++){var i=t[r];n+=i.charAt(0).toUpperCase()+i.substring(1)}return n},format:function(e,t,n){t||(t=window);var r=function(e,r){for(var o,i=r.split(/\.+/),a=0;a<i.length;a++)0==a&&(o=t),o=o[i[a]];return"function"==typeof o&&(o=n?o.apply(null,n):o()),void 0===o?"undefined":o};return e.replace(rX.String.tokenRegEx,r)},tokenRegEx:/\$\{([\w.]+?)\}/g,numberRegEx:/^([+-]?)(?=\d|\.\d)\d*(\.\d*)?([Ee]([+-]?\d+))?$/,isNumeric:function(e){return rX.String.numberRegEx.test(e)},numericIf:function(e){return rX.String.isNumeric(e)?parseFloat(e):e}},fK=rX.Number={decimalSeparator:".",thousandsSeparator:",",limitSigDigs:function(e,t){var n=0;return t>0&&(n=parseFloat(e.toPrecision(t))),n},format:function(e,t,n,r){t=void 0!==t?t:0,n=void 0!==n?n:rX.Number.thousandsSeparator,r=void 0!==r?r:rX.Number.decimalSeparator,null!=t&&(e=parseFloat(e.toFixed(t)));var o=e.toString().split(".");1===o.length&&null==t&&(t=0);var i=o[0];if(n)for(var a=/(-?[0-9]+)([0-9]{3})/;a.test(i);)i=i.replace(a,"$1"+n+"$2");var s;if(0==t)s=i;else{var l=o.length>1?o[1]:"0";null!=t&&(l+=new Array(t-l.length+1).join("0")),s=i+r+l}return s}};Number.prototype.limitSigDigs||(Number.prototype.limitSigDigs=function(e){return fK.limitSigDigs(this,e)});var pK=rX.Function={bind:function(e,t){var n=Array.prototype.slice.apply(arguments,[2]);return function(){var r=n.concat(Array.prototype.slice.apply(arguments,[0]));return e.apply(t,r)}},bindAsEventListener:function(e,t){return function(n){return e.call(t,n||window.event)}},False:function(){return!1},True:function(){return!0},Void:function(){}},hK=(rX.Array={filter:function(e,t,n){var r=[];if(Array.prototype.filter)r=e.filter(t,n);else{var o=e.length;if("function"!=typeof t)throw new TypeError;for(var i=0;i<o;i++)if(i in e){var a=e[i];t.call(n,a,i,e)&&r.push(a)}}return r}},rX.Util=rX.Util||{});rX.Util.extend=function(e,t){if(e=e||{},t){for(var n in t){var r=t[n];void 0!==r&&(e[n]=r)}!("function"==typeof window.Event&&t instanceof window.Event)&&t.hasOwnProperty&&t.hasOwnProperty("toString")&&(e.toString=t.toString)}return e},rX.Util.copy=function(e,t){e=e||{};var n;if(t)for(var r in e)void 0!==(n=t[r])&&(e[r]=n)},rX.Util.reset=function(e){e=e||{};for(var t in e)if(e.hasOwnProperty(t)){if("object"===c(e[t])&&e[t]instanceof Array){for(var n in e[t])e[t][n].destroy&&e[t][n].destroy();e[t].length=0}else"object"===c(e[t])&&e[t]instanceof Object&&e[t].destroy&&e[t].destroy();e[t]=null}},rX.Util.getElement=function(){for(var e=[],t=0,n=arguments.length;t<n;t++){var r=arguments[t];if("string"==typeof r&&(r=document.getElementById(r)),1===arguments.length)return r;e.push(r)}return e},rX.Util.isElement=function(e){return!(!e||1!==e.nodeType)},rX.Util.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},rX.Util.removeItem=function(e,t){for(var n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1);return e},rX.Util.indexOf=function(e,t){if(null==e)return-1;if("function"==typeof e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},rX.Util.modifyDOMElement=function(e,t,n,r,o,i,a,s){t&&(e.id=t),n&&(e.style.left=n.x+"px",e.style.top=n.y+"px"),r&&(e.style.width=r.w+"px",e.style.height=r.h+"px"),o&&(e.style.position=o),i&&(e.style.border=i),a&&(e.style.overflow=a),parseFloat(s)>=0&&parseFloat(s)<1?(e.style.filter="alpha(opacity="+100*s+")",e.style.opacity=s):1===parseFloat(s)&&(e.style.filter="",e.style.opacity="")},rX.Util.applyDefaults=function(e,t){e=e||{};var n="function"==typeof window.Event&&t instanceof window.Event;for(var r in t)(void 0===e[r]||!n&&t.hasOwnProperty&&t.hasOwnProperty(r)&&!e.hasOwnProperty(r))&&(e[r]=t[r]);return!n&&t&&t.hasOwnProperty&&t.hasOwnProperty("toString")&&!e.hasOwnProperty("toString")&&(e.toString=t.toString),e},rX.Util.getParameterString=function(e){var t=[];for(var n in e){var r=e[n];if(null!=r&&"function"!=typeof r){var o;if("object"===c(r)&&r.constructor===Array){for(var i,a=[],s=0,l=r.length;s<l;s++)i=r[s],a.push(encodeURIComponent(null===i||void 0===i?"":i));o=a.join(",")}else o=encodeURIComponent(r);t.push(encodeURIComponent(n)+"="+o)}}return t.join("&")},rX.Util.urlAppend=function(e,t){var n=e;if(t){var r=(e+" ").split(/[?&]/);n+=" "===r.pop()?t:r.length?"&"+t:"?"+t}return n},rX.Util.DEFAULT_PRECISION=14,rX.Util.toFloat=function(e,t){return null==t&&(t=rX.Util.DEFAULT_PRECISION),"number"!=typeof e&&(e=parseFloat(e)),0===t?e:parseFloat(e.toPrecision(t))},rX.Util.rad=function(e){return e*Math.PI/180},rX.Util.getParameters=function(e){e=null===e||void 0===e?window.location.href:e;var t="";if(rX.String.contains(e,"?")){var n=e.indexOf("?")+1,r=rX.String.contains(e,"#")?e.indexOf("#"):e.length;t=e.substring(n,r)}for(var o={},i=t.split(/[&;]/),a=0,s=i.length;a<s;++a){var l=i[a].split("=");if(l[0]){var u=l[0];try{u=decodeURIComponent(u)}catch(e){u=unescape(u)}var c=(l[1]||"").replace(/\+/g," ");try{c=decodeURIComponent(c)}catch(e){c=unescape(c)}c=c.split(","),1==c.length&&(c=c[0]),o[u]=c}}return o},rX.Util.lastSeqID=0,rX.Util.createUniqueID=function(e){return null==e&&(e="id_"),rX.Util.lastSeqID+=1,e+rX.Util.lastSeqID},rX.INCHES_PER_UNIT={inches:1,ft:12,mi:63360,m:39.3701,km:39370.1,dd:4374754,yd:36},rX.INCHES_PER_UNIT.in=rX.INCHES_PER_UNIT.inches,rX.INCHES_PER_UNIT.degrees=rX.INCHES_PER_UNIT.dd,rX.INCHES_PER_UNIT.nmi=1852*rX.INCHES_PER_UNIT.m,rX.METERS_PER_INCH=.0254000508001016,rX.Util.extend(rX.INCHES_PER_UNIT,{Inch:rX.INCHES_PER_UNIT.inches,Meter:1/rX.METERS_PER_INCH,Foot:.3048006096012192/rX.METERS_PER_INCH,IFoot:.3048/rX.METERS_PER_INCH,ClarkeFoot:.3047972651151/rX.METERS_PER_INCH,SearsFoot:.30479947153867626/rX.METERS_PER_INCH,GoldCoastFoot:.3047997101815088/rX.METERS_PER_INCH,IInch:.0254/rX.METERS_PER_INCH,MicroInch:254e-7/rX.METERS_PER_INCH,Mil:2.54e-8/rX.METERS_PER_INCH,Centimeter:.01/rX.METERS_PER_INCH,Kilometer:1e3/rX.METERS_PER_INCH,Yard:.9144018288036576/rX.METERS_PER_INCH,SearsYard:.914398414616029/rX.METERS_PER_INCH,IndianYard:.9143985307444408/rX.METERS_PER_INCH,IndianYd37:.91439523/rX.METERS_PER_INCH,IndianYd62:.9143988/rX.METERS_PER_INCH,IndianYd75:.9143985/rX.METERS_PER_INCH,IndianFoot:.30479951/rX.METERS_PER_INCH,IndianFt37:.30479841/rX.METERS_PER_INCH,IndianFt62:.3047996/rX.METERS_PER_INCH,IndianFt75:.3047995/rX.METERS_PER_INCH,Mile:1609.3472186944373/rX.METERS_PER_INCH,IYard:.9144/rX.METERS_PER_INCH,IMile:1609.344/rX.METERS_PER_INCH,NautM:1852/rX.METERS_PER_INCH,"Lat-66":110943.31648893273/rX.METERS_PER_INCH,"Lat-83":110946.25736872235/rX.METERS_PER_INCH,Decimeter:.1/rX.METERS_PER_INCH,Millimeter:.001/rX.METERS_PER_INCH,Dekameter:10/rX.METERS_PER_INCH,Decameter:10/rX.METERS_PER_INCH,Hectometer:100/rX.METERS_PER_INCH,GermanMeter:1.0000135965/rX.METERS_PER_INCH,CaGrid:.999738/rX.METERS_PER_INCH,ClarkeChain:20.1166194976/rX.METERS_PER_INCH,GunterChain:20.11684023368047/rX.METERS_PER_INCH,BenoitChain:20.116782494375872/rX.METERS_PER_INCH,SearsChain:20.11676512155/rX.METERS_PER_INCH,ClarkeLink:.201166194976/rX.METERS_PER_INCH,GunterLink:.2011684023368047/rX.METERS_PER_INCH,BenoitLink:.20116782494375873/rX.METERS_PER_INCH,SearsLink:.2011676512155/rX.METERS_PER_INCH,Rod:5.02921005842012/rX.METERS_PER_INCH,IntnlChain:20.1168/rX.METERS_PER_INCH,IntnlLink:.201168/rX.METERS_PER_INCH,Perch:5.02921005842012/rX.METERS_PER_INCH,Pole:5.02921005842012/rX.METERS_PER_INCH,Furlong:201.1684023368046/rX.METERS_PER_INCH,Rood:3.778266898/rX.METERS_PER_INCH,CapeFoot:.3047972615/rX.METERS_PER_INCH,Brealey:375/rX.METERS_PER_INCH,ModAmFt:.304812252984506/rX.METERS_PER_INCH,Fathom:1.8288/rX.METERS_PER_INCH,"NautM-UK":1853.184/rX.METERS_PER_INCH,"50kilometers":5e4/rX.METERS_PER_INCH,"150kilometers":15e4/rX.METERS_PER_INCH}),rX.Util.extend(rX.INCHES_PER_UNIT,{mm:rX.INCHES_PER_UNIT.Meter/1e3,cm:rX.INCHES_PER_UNIT.Meter/100,dm:100*rX.INCHES_PER_UNIT.Meter,km:1e3*rX.INCHES_PER_UNIT.Meter,kmi:rX.INCHES_PER_UNIT.nmi,fath:rX.INCHES_PER_UNIT.Fathom,ch:rX.INCHES_PER_UNIT.IntnlChain,link:rX.INCHES_PER_UNIT.IntnlLink,"us-in":rX.INCHES_PER_UNIT.inches,"us-ft":rX.INCHES_PER_UNIT.Foot,"us-yd":rX.INCHES_PER_UNIT.Yard,"us-ch":rX.INCHES_PER_UNIT.GunterChain,"us-mi":rX.INCHES_PER_UNIT.Mile,"ind-yd":rX.INCHES_PER_UNIT.IndianYd37,"ind-ft":rX.INCHES_PER_UNIT.IndianFt37,"ind-ch":20.11669506/rX.METERS_PER_INCH}),rX.DOTS_PER_INCH=96,rX.Util.normalizeScale=function(e){return e>1?1/e:e},rX.Util.getResolutionFromScale=function(e,t){var n;if(e){null==t&&(t="degrees");n=1/(rX.Util.normalizeScale(e)*rX.INCHES_PER_UNIT[t]*rX.DOTS_PER_INCH)}return n},rX.Util.getScaleFromResolution=function(e,t){return null==t&&(t="degrees"),e*rX.INCHES_PER_UNIT[t]*rX.DOTS_PER_INCH},rX.IS_GECKO=function(){var e=navigator.userAgent.toLowerCase();return-1===e.indexOf("webkit")&&-1!==e.indexOf("gecko")}(),rX.Browser=function(){var e,t="",n="",r="pc",o=navigator.userAgent.toLowerCase();return o.indexOf("msie")>-1||o.indexOf("trident")>-1&&o.indexOf("rv")>-1?(t="msie",e=o.match(/msie ([\d.]+)/)||o.match(/rv:([\d.]+)/)):o.indexOf("chrome")>-1?(t="chrome",e=o.match(/chrome\/([\d.]+)/)):o.indexOf("firefox")>-1?(t="firefox",e=o.match(/firefox\/([\d.]+)/)):o.indexOf("opera")>-1?(t="opera",e=o.match(/version\/([\d.]+)/)):o.indexOf("safari")>-1&&(t="safari",e=o.match(/version\/([\d.]+)/)),n=e?e[1]:"",o.indexOf("ipad")>-1||o.indexOf("ipod")>-1||o.indexOf("iphone")>-1?r="apple":o.indexOf("android")>-1&&(e=o.match(/version\/([\d.]+)/),n=e?e[1]:"",r="android"),{name:t,version:n,device:r}}(),rX.Util.getBrowser=function(){return rX.Browser},rX.Util.isSupportCanvas=function(){var e=!0,t=rX.Util.getBrowser();return document.createElement("canvas").getContext?("firefox"===t.name&&parseFloat(t.version)<5&&(e=!1),"safari"===t.name&&parseFloat(t.version)<4&&(e=!1),"opera"===t.name&&parseFloat(t.version)<10&&(e=!1),"msie"===t.name&&parseFloat(t.version)<9&&(e=!1)):e=!1,e}(),rX.Util.supportCanvas=function(){return rX.Util.isSupportCanvas},rX.INCHES_PER_UNIT.degree=rX.INCHES_PER_UNIT.dd,rX.INCHES_PER_UNIT.meter=rX.INCHES_PER_UNIT.m,rX.INCHES_PER_UNIT.foot=rX.INCHES_PER_UNIT.ft,rX.INCHES_PER_UNIT.inch=rX.INCHES_PER_UNIT.inches,rX.INCHES_PER_UNIT.mile=rX.INCHES_PER_UNIT.mi,rX.INCHES_PER_UNIT.kilometer=rX.INCHES_PER_UNIT.km,rX.INCHES_PER_UNIT.yard=rX.INCHES_PER_UNIT.yd,rX.Util.isInTheSameDomain=function(e){if(!e)return!0;var t=e.indexOf("//"),n=document.location.toString(),r=n.indexOf("//");if(-1===t)return!0;var o,i=o=e.substring(0,t),a=n.substring(r+2);r=a.indexOf("/");var s=a.indexOf(":"),l=a.substring(0,r),u=document.location.protocol;if(-1!==s||(l+=":"+("http:"===u.toLowerCase()?80:443)),u.toLowerCase()!==i.toLowerCase())return!1;i=e.substring(t+2);var c=i.indexOf(":");t=i.indexOf("/");var f,p=i.substring(0,t);return-1!==c?f=i.substring(0,c):(f=i.substring(0,t),p+=":"+("http:"===o.toLowerCase()?80:443)),f===document.domain&&p===l},rX.Util.calculateDpi=function(e,t,n,r,o){if(e&&t&&n){var i=e.getWidth(),a=e.getHeight(),s=t.w,l=t.h;o=o||6378137,r=r||"degrees";var u;if("degree"===r.toLowerCase()||"degrees"===r.toLowerCase()||"dd"===r.toLowerCase()){var c=i/s,f=a/l;u=254/(c>f?c:f)/n/(2*Math.PI*o/360)/1e4}else{u=254/(i/s)/n/1e4}return u}},rX.Util.toJSON=function(e){var t=e;if(null==t)return null;switch(t.constructor){case String:return t='"'+t.replace(/(["\\])/g,"\\$1")+'"',t=t.replace(/\n/g,"\\n"),t=t.replace(/\r/g,"\\r"),t=t.replace("<","&lt;"),t=t.replace(">","&gt;"),t=t.replace(/%/g,"%25"),t=t.replace(/&/g,"%26");case Array:for(var n=[],r=0,o=t.length;r<o;r++)n.push(rX.Util.toJSON(t[r]));return"["+n.join(",")+"]";case Number:return isFinite(t)?String(t):null;case Boolean:return String(t);case Date:return"{'__type':\"System.DateTime\",'Year':"+t.getFullYear()+",'Month':"+(t.getMonth()+1)+",'Day':"+t.getDate()+",'Hour':"+t.getHours()+",'Minute':"+t.getMinutes()+",'Second':"+t.getSeconds()+",'Millisecond':"+t.getMilliseconds()+",'TimezoneOffset':"+t.getTimezoneOffset()+"}";default:if(null!=t.toJSON&&"function"==typeof t.toJSON)return t.toJSON();if("object"===c(t)){if(t.length){for(var i=[],a=0,s=t.length;a<s;a++)i.push(rX.Util.toJSON(t[a]));return"["+i.join(",")+"]"}var l=[];for(var u in t)"function"!=typeof t[u]&&"CLASS_NAME"!==u&&"parent"!==u&&l.push("'"+u+"':"+rX.Util.toJSON(t[u]));return l.length>0?"{"+l.join(",")+"}":"{}"}return t.toString()}},rX.Util.getResolutionFromScaleDpi=function(e,t,n,r){return r=r||6378137,n=n||"",e>0&&t>0?(e=rX.Util.normalizeScale(e),"degree"===n.toLowerCase()||"degrees"===n.toLowerCase()||"dd"===n.toLowerCase()?254/t/e/(2*Math.PI*r/360)/1e4:254/t/e/1e4):-1},rX.Util.getScaleFromResolutionDpi=function(e,t,n,r){return r=r||6378137,n=n||"",e>0&&t>0?"degree"===n.toLowerCase()||"degrees"===n.toLowerCase()||"dd"===n.toLowerCase()?254/t/e/(2*Math.PI*r/360)/1e4:254/t/e/1e4:-1},rX.Util.transformResult=function(e){return e.responseText&&"string"==typeof e.responseText&&(e=JSON.parse(e.responseText)),e},rX.Util.copyAttributes=function(e,t){if(e=e||{},t)for(var n in t){var r=t[n];void 0!==r&&"CLASS_NAME"!==n&&"function"!=typeof r&&(e[n]=r)}return e},rX.Util.copyAttributesWithClip=function(e,t,n){if(e=e||{},t)for(var r in t){var o=!1;if(n&&n.length)for(var i=0,a=n.length;i<a;i++)if(r===n[i]){o=!0;break}if(!0!==o){var s=t[r];void 0!==s&&"CLASS_NAME"!==r&&"function"!=typeof s&&(e[r]=s)}}return e},rX.Util.cloneObject=function(e){if(null===e||"object"!==c(e))return e;if(e instanceof Date){var t=new Date;return t.setTime(e.getTime()),t}if(e instanceof Array){return e.slice(0)}if(e instanceof Object){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=rX.Util.cloneObject(e[r]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")},rX.Util.lineIntersection=function(e,t,n,r){var o,i,a=null,s=(r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x),l=(t.x-e.x)*(e.y-n.y)-(t.y-e.y)*(e.x-n.x),u=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y);if(0!=u)o=s/u,i=l/u,a=o>=0&&i<=1&&o<=1&&i>=0?new rX.Geometry.Point(e.x+o*(t.x-e.x),e.y+o*(t.y-e.y)):"No Intersection";else if(0==s&&0==l){var c=Math.max(e.y,t.y),f=Math.min(e.y,t.y),p=Math.max(e.x,t.x),h=Math.min(e.x,t.x);a=(n.y>=f&&n.y<=c||r.y>=f&&r.y<=c)&&n.x>=h&&n.x<=p||r.x>=h&&r.x<=p?"Coincident":"Parallel"}else a="Parallel";return a},rX.Util.getTextBounds=function(e,t,n){document.body.appendChild(n),n.style.width="auto",n.style.height="auto",e.fontSize&&(n.style.fontSize=e.fontSize),e.fontFamily&&(n.style.fontFamily=e.fontFamily),e.fontWeight&&(n.style.fontWeight=e.fontWeight),n.style.position="relative",n.style.visibility="hidden",n.style.display="inline-block",n.innerHTML=t;var r=n.clientWidth,o=n.clientHeight;return document.body.removeChild(n),{textWidth:r,textHeight:o}};/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var yK=function(){function e(t,n){f(this,e),hK.isArray(t)&&(n=t[1],t=t[0]),this.lon=t?hK.toFloat(t):0,this.lat=n?hK.toFloat(n):0,this.CLASS_NAME="SuperMap.LonLat"}return h(e,[{key:"toString",value:function(){return"lon="+this.lon+",lat="+this.lat}},{key:"toShortString",value:function(){return this.lon+","+this.lat}},{key:"clone",value:function(){return new e(this.lon,this.lat)}},{key:"add",value:function(t,n){if(null==t||null==n)throw new TypeError("LonLat.add cannot receive null values");return new e(this.lon+hK.toFloat(t),this.lat+hK.toFloat(n))}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.lon===e.lon&&this.lat===e.lat||isNaN(this.lon)&&isNaN(this.lat)&&isNaN(e.lon)&&isNaN(e.lat)),t}},{key:"wrapDateLine",value:function(e){var t=this.clone();if(e){for(;t.lon<e.left;)t.lon+=e.getWidth();for(;t.lon>e.right;)t.lon-=e.getWidth()}return t}},{key:"destroy",value:function(){this.lon=null,this.lat=null}}],[{key:"fromString",value:function(t){var n=t.split(",");return new e(n[0],n[1])}},{key:"fromArray",value:function(t){var n=hK.isArray(t);return new e(n&&t[0],n&&t[1])}}]),e}(),dK=function(){function e(t,n,r,o){y(this,e),hK.isArray(t)&&(o=t[3],r=t[2],n=t[1],t=t[0]),this.left=null!=t?hK.toFloat(t):this.left,this.bottom=null!=n?hK.toFloat(n):this.bottom,this.right=null!=r?hK.toFloat(r):this.right,this.top=null!=o?hK.toFloat(o):this.top,this.centerLonLat=null,this.CLASS_NAME="SuperMap.Bounds"}return v(e,[{key:"clone",value:function(){return new e(this.left,this.bottom,this.right,this.top)}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.left===e.left&&this.right===e.right&&this.top===e.top&&this.bottom===e.bottom),t}},{key:"toString",value:function(){return[this.left,this.bottom,this.right,this.top].join(",")}},{key:"toArray",value:function(e){return!0===e?[this.bottom,this.left,this.top,this.right]:[this.left,this.bottom,this.right,this.top]}},{key:"toBBOX",value:function(e,t){null==e&&(e=6);var n=Math.pow(10,e),r=Math.round(this.left*n)/n,o=Math.round(this.bottom*n)/n,i=Math.round(this.right*n)/n,a=Math.round(this.top*n)/n;return!0===t?o+","+r+","+a+","+i:r+","+o+","+i+","+a}},{key:"getWidth",value:function(){return this.right-this.left}},{key:"getHeight",value:function(){return this.top-this.bottom}},{key:"getSize",value:function(){return new lK(this.getWidth(),this.getHeight())}},{key:"getCenterPixel",value:function(){return new uK((this.left+this.right)/2,(this.bottom+this.top)/2)}},{key:"getCenterLonLat",value:function(){return this.centerLonLat||(this.centerLonLat=new yK((this.left+this.right)/2,(this.bottom+this.top)/2)),this.centerLonLat}},{key:"scale",value:function(t,n){t=t||1,null==n&&(n=this.getCenterLonLat());var r,o;return"SuperMap.LonLat"===n.CLASS_NAME?(r=n.lon,o=n.lat):(r=n.x,o=n.y),new e((this.left-r)*t+r,(this.bottom-o)*t+o,(this.right-r)*t+r,(this.top-o)*t+o)}},{key:"add",value:function(t,n){if(null==t||null==n)throw new TypeError("Bounds.add cannot receive null values");return new e(this.left+t,this.bottom+n,this.right+t,this.top+n)}},{key:"extend",value:function(t){var n=null;if(t){switch(t.CLASS_NAME){case"SuperMap.LonLat":n=new e(t.lon,t.lat,t.lon,t.lat);break;case"SuperMap.Geometry.Point":n=new e(t.x,t.y,t.x,t.y);break;case"SuperMap.Bounds":n=t}n&&(this.centerLonLat=null,(null==this.left||n.left<this.left)&&(this.left=n.left),(null==this.bottom||n.bottom<this.bottom)&&(this.bottom=n.bottom),(null==this.right||n.right>this.right)&&(this.right=n.right),(null==this.top||n.top>this.top)&&(this.top=n.top))}}},{key:"containsLonLat",value:function(e,t){"boolean"==typeof t&&(t={inclusive:t}),t=t||{};var n=this.contains(e.lon,e.lat,t.inclusive),r=t.worldBounds;if(r&&!n){var o=r.getWidth(),i=(r.left+r.right)/2,a=Math.round((e.lon-i)/o);n=this.containsLonLat({lon:e.lon-a*o,lat:e.lat},{inclusive:t.inclusive})}return n}},{key:"containsPixel",value:function(e,t){return this.contains(e.x,e.y,t)}},{key:"contains",value:function(e,t,n){if(null==n&&(n=!0),null==e||null==t)return!1;var r=!1;return r=n?e>=this.left&&e<=this.right&&t>=this.bottom&&t<=this.top:e>this.left&&e<this.right&&t>this.bottom&&t<this.top,r}},{key:"intersectsBounds",value:function(e,t){if("boolean"==typeof t&&(t={inclusive:t}),t=t||{},t.worldBounds){var n=this.wrapDateLine(t.worldBounds);e=e.wrapDateLine(t.worldBounds)}else n=this;null==t.inclusive&&(t.inclusive=!0);var r=!1,o=n.left===e.right||n.right===e.left||n.top===e.bottom||n.bottom===e.top;if(t.inclusive||!o){var i=e.bottom>=n.bottom&&e.bottom<=n.top||n.bottom>=e.bottom&&n.bottom<=e.top,a=e.top>=n.bottom&&e.top<=n.top||n.top>e.bottom&&n.top<e.top,s=e.left>=n.left&&e.left<=n.right||n.left>=e.left&&n.left<=e.right,l=e.right>=n.left&&e.right<=n.right||n.right>=e.left&&n.right<=e.right;r=(i||a)&&(s||l)}if(t.worldBounds&&!r){var u=t.worldBounds,c=u.getWidth(),f=!u.containsBounds(n),p=!u.containsBounds(e);f&&!p?(e=e.add(-c,0),r=n.intersectsBounds(e,{inclusive:t.inclusive})):p&&!f&&(n=n.add(-c,0),r=e.intersectsBounds(n,{inclusive:t.inclusive}))}return r}},{key:"containsBounds",value:function(e,t,n){null==t&&(t=!1),null==n&&(n=!0);var r=this.contains(e.left,e.bottom,n),o=this.contains(e.right,e.bottom,n),i=this.contains(e.left,e.top,n),a=this.contains(e.right,e.top,n);return t?r||o||i||a:r&&o&&i&&a}},{key:"determineQuadrant",value:function(e){var t="",n=this.getCenterLonLat();return t+=e.lat<n.lat?"b":"t",t+=e.lon<n.lon?"l":"r"}},{key:"wrapDateLine",value:function(e,t){t=t||{};var n=t.leftTolerance||0,r=t.rightTolerance||0,o=this.clone();if(e){for(var i=e.getWidth();o.left<e.left&&o.right-r<=e.left;)o=o.add(i,0);for(;o.left+n>=e.right&&o.right>e.right;)o=o.add(-i,0);var a=o.left+n;a<e.right&&a>e.left&&o.right-r>e.right&&(o=o.add(-i,0))}return o}},{key:"toServerJSONObject",value:function(){return{rightTop:{x:this.right,y:this.top},leftBottom:{x:this.left,y:this.bottom},left:this.left,right:this.right,top:this.top,bottom:this.bottom}}},{key:"destroy",value:function(){this.left=null,this.right=null,this.top=null,this.bottom=null,this.centerLonLat=null}}],[{key:"fromString",value:function(t,n){var r=t.split(",");return e.fromArray(r,n)}},{key:"fromArray",value:function(t,n){return!0===n?new e(t[1],t[0],t[3],t[2]):new e(t[0],t[1],t[2],t[3])}},{key:"fromSize",value:function(t){return new e(0,t.h,t.w,0)}},{key:"oppositeQuadrant",value:function(e){var t="";return t+="t"===e.charAt(0)?"b":"t",t+="l"===e.charAt(1)?"r":"l"}}]),e}();rX.Bounds=dK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var vK=function(){function e(){m(this,e),this.CLASS_NAME="SuperMap.Geometry",this.id=hK.createUniqueID(this.CLASS_NAME+"_"),this.parent=null,this.bounds=null,this.SRID=null}return g(e,[{key:"destroy",value:function(){this.id=null,this.bounds=null,this.SRID=null}},{key:"clone",value:function(){return new e}},{key:"setBounds",value:function(e){e&&(this.bounds=e.clone())}},{key:"clearBounds",value:function(){this.bounds=null,this.parent&&this.parent.clearBounds()}},{key:"extendBounds",value:function(e){this.getBounds()?this.bounds.extend(e):this.setBounds(e)}},{key:"getBounds",value:function(){return null==this.bounds&&this.calculateBounds(),this.bounds}},{key:"calculateBounds",value:function(){}},{key:"getVertices",value:function(e){}},{key:"getArea",value:function(){return 0}}]),e}();rX.Geometry=vK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var mK=function(e){function t(e){var n;return w(this,t),n=P(this,k(t).call(this)),n.components=[],n.componentTypes=null,null!=e&&n.addComponents(e),n.CLASS_NAME="SuperMap.Geometry.Collection",n.geometryType="Collection",n}return x(t,e),_(t,[{key:"destroy",value:function(){this.components.length=0,this.components=null,T(k(t.prototype),"destroy",this).call(this)}},{key:"clone",value:function(){for(var e=new t,n=0,r=this.components.length;n<r;n++)e.addComponent(this.components[n].clone());return hK.applyDefaults(e,this),e}},{key:"getComponentsString",value:function(){for(var e=[],t=0,n=this.components.length;t<n;t++)e.push(this.components[t].toShortString());return e.join(",")}},{key:"calculateBounds",value:function(){this.bounds=null;var e=new dK,t=this.components;if(t)for(var n=0,r=t.length;n<r;n++)e.extend(t[n].getBounds());null!=e.left&&null!=e.bottom&&null!=e.right&&null!=e.top&&this.setBounds(e)}},{key:"addComponents",value:function(e){hK.isArray(e)||(e=[e]);for(var t=0,n=e.length;t<n;t++)this.addComponent(e[t])}},{key:"addComponent",value:function(e,t){var n=!1;if(e&&(null==this.componentTypes||hK.indexOf(this.componentTypes,e.CLASS_NAME)>-1)){if(null!=t&&t<this.components.length){var r=this.components.slice(0,t),o=this.components.slice(t,this.components.length);r.push(e),this.components=r.concat(o)}else this.components.push(e);e.parent=this,this.clearBounds(),n=!0}return n}},{key:"removeComponents",value:function(e){var t=!1;hK.isArray(e)||(e=[e]);for(var n=e.length-1;n>=0;--n)t=this.removeComponent(e[n])||t;return t}},{key:"removeComponent",value:function(e){return hK.removeItem(this.components,e),this.clearBounds(),!0}},{key:"getArea",value:function(){for(var e=0,t=0,n=this.components.length;t<n;t++)e+=this.components[t].getArea();return e}},{key:"equals",value:function(e){var t=!0;if(e&&e.CLASS_NAME&&this.CLASS_NAME===e.CLASS_NAME)if(hK.isArray(e.components)&&e.components.length===this.components.length){for(var n=0,r=this.components.length;n<r;++n)if(!this.components[n].equals(e.components[n])){t=!1;break}}else t=!1;else t=!1;return t}},{key:"getVertices",value:function(e){for(var t=[],n=0,r=this.components.length;n<r;++n)Array.prototype.push.apply(t,this.components[n].getVertices(e));return t}}]),t}(vK);rX.Geometry.Collection=mK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var bK=function(e){function t(e){var n;return R(this,t),n=M(this,F(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.Point"],n.CLASS_NAME="SuperMap.Geometry.MultiPoint",n.geometryType="MultiPoint",n}return D(t,e),N(t,[{key:"addPoint",value:function(e,t){this.addComponent(e,t)}},{key:"removePoint",value:function(e){this.removeComponent(e)}}]),t}(mK);rX.Geometry.MultiPoint=bK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var gK=function(e){function t(e){var n;return U(this,t),n=H(this,z(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.Point","SuperMap.PointWithMeasure"],n.CLASS_NAME="SuperMap.Geometry.Curve",n.geometryType="Curve",n}return V(t,e),t}(bK);rX.Geometry.Curve=gK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var SK=function(e){function t(e,n,r,o){var i;return Y(this,t),i=K(this,te(t).call(this,e,n,r,o)),i.x=parseFloat(e),i.y=parseFloat(n),i.tag=o||0==o?parseFloat(o):null,i.type=r||"Point",i.CLASS_NAME="SuperMap.Geometry.Point",i.geometryType="Point",i}return ne(t,e),X(t,[{key:"clone",value:function(e){return null==e&&(e=new t(this.x,this.y)),hK.applyDefaults(e,this),e}},{key:"calculateBounds",value:function(){this.bounds=new dK(this.x,this.y,this.x,this.y)}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.x===e.x&&this.y===e.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(e.x)&&isNaN(e.y)),t}},{key:"move",value:function(e,t){this.x=this.x+e,this.y=this.y+t,this.clearBounds()}},{key:"toShortString",value:function(){return this.x+", "+this.y}},{key:"destroy",value:function(){this.x=null,this.y=null,this.tag=null,$(te(t.prototype),"destroy",this).call(this)}},{key:"getVertices",value:function(e){return[this]}}]),t}(vK);rX.Geometry.Point=SK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var wK=function(e){function t(e){var n;return ie(this,t),n=le(this,pe(t).call(this,e)),n.CLASS_NAME="SuperMap.Geometry.LineString",n.geometryType="LineString",n}return he(t,e),se(t,[{key:"removeComponent",value:function(e){var n=this.components&&this.components.length>2;return n&&ce(pe(t.prototype),"removeComponent",this).apply(this,arguments),n}},{key:"getSortedSegments",value:function(){function e(e,t){return e.x1-t.x1}for(var t,n,r=this.components.length-1,o=new Array(r),i=0;i<r;++i)t=this.components[i],n=this.components[i+1],t.x<n.x?o[i]={x1:t.x,y1:t.y,x2:n.x,y2:n.y}:o[i]={x1:n.x,y1:n.y,x2:t.x,y2:t.y};return o.sort(e)}},{key:"getVertices",value:function(e){return!0===e?[this.components[0],this.components[this.components.length-1]]:!1===e?this.components.slice(1,this.components.length-1):this.components.slice()}}],[{key:"calculateCircle",value:function(e){if(e.length<3)return e;var t={},n=e[0],r=e[1],o=e[2],i=0,a=0,s=!0,l=0,u=0,c=0,f=[],p=(o.y-n.y)/(o.x-n.x),h=o.y-p*o.x;if(o.x!=n.x&&o.y!=n.y&&r.y==p*r.x+h||o.x==n.x&&r.x==n.x||o.y==n.y&&r.y==n.y||o.x==n.x&&o.y==n.y||o.x==r.x&&o.y==r.y||n.x==r.x&&n.y==r.y)f.push(n),f.push(r),f.push(o);else{var y=(r.x*r.x+r.y*r.y-(n.x*n.x+n.y*n.y))*(2*(o.y-n.y))-(o.x*o.x+o.y*o.y-(n.x*n.x+n.y*n.y))*(2*(r.y-n.y)),d=2*(r.x-n.x)*(o.x*o.x+o.y*o.y-(n.x*n.x+n.y*n.y))-2*(o.x-n.x)*(r.x*r.x+r.y*r.y-(n.x*n.x+n.y*n.y)),v=4*((r.x-n.x)*(o.y-n.y)-(o.x-n.x)*(r.y-n.y));t.x=y/v,t.y=d/v,i=Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y));var m=(n.x-o.x)*(n.x-o.x)+(n.y-o.y)*(n.y-o.y),b=(2*i*i-m)/(2*i*i);b=b>=1?1:b,b=b<=-1?-1:b,c=180*Math.acos(b)/Math.PI,c=o.x==n.x?t.x>n.x&&r.x>n.x||t.x<n.x&&r.x<n.x?360-c:c:t.y>p*t.x+h&&r.y>p*r.x+h||t.y<p*t.x+h&&r.y<p*r.x+h?360-c:c,a=c/72,o.y!=n.y?o.x==n.x?o.y>n.y?r.x<n.x&&(s=!1):r.x>n.x&&(s=!1):o.x<n.x?r.y<p*r.x+h&&(s=!1):r.y>p*r.x+h&&(s=!1):o.x>n.x?r.y>n.y&&(s=!1):r.y<n.y&&(s=!1);var g=(n.y-t.y)/(n.x-t.x),S=g>=0?180*Math.atan(g)/Math.PI:Math.abs(180*Math.atan(g)/Math.PI)+90,w=Math.abs(t.y);n.y==w&&w==o.y&&n.x<o.x&&(S+=180);var O=n.y-t.y;f.push(n);for(var _=1;_<72;_++){l=a*_,u=S,s?O>=0?g>=0?u+=l:u=180-(u-90)+l:u=g>0?u-180+l:90-u+l:O>=0?g>=0?u-=l:u=180-(u-90)-l:u=g>=0?u-180-l:90-u-l,u=u*Math.PI/180;var P=t.x+i*Math.cos(u),C=t.y+i*Math.sin(u);f.push(new SK(P,C))}f.push(o)}return f}},{key:"createLineEPS",value:function(e){var n=[],r=e.length;if(r<2)return e;for(var o=0;o<r;){if("LTypeArc"==e[o].type){var i=t.createLineArc(n,o,r,e);n=i[0],o=i[1]}else n.push(e[o]),o++}return n}},{key:"createLineArc",value:function(e,n,r,o){if(0==n){var i=t.addPointEPS(o,n,r,"LTypeArc");Array.prototype.push.apply(e,i[0]),n=i[1]+1}else if(n==r-1){var a=[o[n-1],o[n]],s=t.calculateCircle(a);Array.prototype.push.apply(e,s),n++}else{var l=t.addPointEPS(o,n,r,"LTypeArc");e.pop(),Array.prototype.push.apply(e,l[0]),n=l[1]+1}return[e,n]}},{key:"addPointEPS",value:function(e,n,r,o){var i=[],a=n+1;0==n?Array.prototype.push.apply(i,[e[n],e[n+1]]):n==r-1?Array.prototype.push.apply(i,[e[n-1],e[n]]):Array.prototype.push.apply(i,[e[n-1],e[n],e[n+1]]);var s;return"LTypeCurve"==o?s=t.calculatePointsFBZN(i):"LTypeArc"==o&&(s=t.calculateCircle(i)),[s,a]}}]),t}(gK);rX.Geometry.LineString=wK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var OK=function(e){function t(e,n,r){var o;return ve(this,t),o=ge(this,_e(t).call(this,e,n,r)),o.x=parseFloat(e),o.y=parseFloat(n),o.text=r.toString(),o.bsInfo={h:null,w:null},o.element=document.createElement("span"),o.CLASS_NAME="SuperMap.Geometry.GeoText",o.geometryType="GeoText",o}return Pe(t,e),be(t,[{key:"destroy",value:function(){we(_e(t.prototype),"destroy",this).call(this),this.x=null,this.y=null,this.text=null}},{key:"getCentroid",value:function(){return new SK(this.x,this.y)}},{key:"clone",value:function(e){return null==e&&(e=new t(this.x,this.y,this.text)),hK.applyDefaults(e,this),e}},{key:"calculateBounds",value:function(){this.bounds=new dK(this.x,this.y,this.x,this.y)}},{key:"getLabelPxBoundsByLabel",value:function(e,t,n,r){var o,i,a,s,l=hK.cloneObject(e),u=r.label||this.text,c=u.split("\n"),f=c.length;if(t=parseFloat(t),n=parseFloat(n),f>1&&(n=parseFloat(n)*f),r.labelAlign&&"cm"!==r.labelAlign)switch(r.labelAlign){case"lt":l.x+=t/2,l.y+=n/2;break;case"lm":l.x+=t/2;break;case"lb":l.x+=t/2,l.y-=n/2;break;case"ct":l.y+=n/2;break;case"cb":l.y-=n/2;break;case"rt":l.x-=t/2,l.y+=n/2;break;case"rm":l.x-=t/2;break;case"rb":l.x-=t/2,l.y-=n/2}return this.bsInfo.h=n,this.bsInfo.w=t,o=l.x-parseFloat(t)/2,i=l.y+parseFloat(n)/2,s=l.x+parseFloat(t)/2,a=l.y-parseFloat(n)/2,new dK(o,i,s,a)}},{key:"getLabelPxBoundsByText",value:function(e,t){var n,r,o,i,a=this.getLabelPxSize(t),s=hK.cloneObject(e);if(t.labelAlign&&"cm"!==t.labelAlign)switch(t.labelAlign){case"lt":s.x+=a.w/2,s.y+=a.h/2;break;case"lm":s.x+=a.w/2;break;case"lb":s.x+=a.w/2,s.y-=a.h/2;break;case"ct":s.y+=a.h/2;break;case"cb":s.y-=a.h/2;break;case"rt":s.x-=a.w/2,s.y+=a.h/2;break;case"rm":s.x-=a.w/2;break;case"rb":s.x-=a.w/2,s.y-=a.h/2}return this.bsInfo.h=a.h,this.bsInfo.w=a.w,n=s.x-a.w/2,r=s.y+a.h/2,i=t.fontStyle&&"italic"===t.fontStyle?s.x+a.w/2+parseInt(parseFloat(t.fontSize)/2):s.x+a.w/2,o=s.y-a.h/2,new dK(n,r,i,o)}},{key:"getLabelPxSize",value:function(e){var t,n,r=parseFloat(e.strokeWidth);t=e.label||this.text,n=e.fontSize?parseFloat(e.fontSize):parseFloat("12px");var o,i,a=t.split("\n"),s=a.length;i=s>1?n*s+s+r+.2*n:n+r+.2*n+1,o=0,this.labelWTmp&&o<this.labelWTmp&&(o=this.labelWTmp);for(var l=0;l<s;l++){var u=this.getTextCount(a[l]),c=this.labelWTmp=hK.getTextBounds(e,a[l],this.element).textWidth+1*u.textC+r;o<c&&(o=c)}var f=new Object;return f.h=i,f.w=o,f}},{key:"getTextCount",value:function(e){for(var t={},n=0,r=0,o=0;o<e.length;o++)e.charCodeAt(o)>255?n++:r++;return t.cnC=n,t.enC=r,t.textC=e.length,t}}]),t}(vK);rX.Geometry.GeoText=OK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _K=function(e){function t(e){var n;return Ee(this,t),n=je(this,Ne(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.Point"],n.CLASS_NAME="SuperMap.Geometry.LinearRing",n.geometryType="LinearRing",n}return Me(t,e),xe(t,[{key:"addComponent",value:function(e,n){var r=!1,o=this.components.pop();null==n&&e.equals(o)||(r=Re(Ne(t.prototype),"addComponent",this).apply(this,arguments));var i=this.components[0];return Re(Ne(t.prototype),"addComponent",this).apply(this,[i]),r}},{key:"removeComponent",value:function(e){var n=this.components&&this.components.length>3;if(n){this.components.pop(),Re(Ne(t.prototype),"removeComponent",this).apply(this,arguments);var r=this.components[0];Re(Ne(t.prototype),"addComponent",this).apply(this,[r])}return n}},{key:"getArea",value:function(){var e=0;if(this.components&&this.components.length>2){for(var t=0,n=0,r=this.components.length;n<r-1;n++){var o=this.components[n],i=this.components[n+1];t+=(o.x+i.x)*(i.y-o.y)}e=-t/2}return e}},{key:"getVertices",value:function(e){return!0===e?[]:this.components.slice(0,this.components.length-1)}}]),t}(wK);rX.Geometry.LinearRing=_K;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var PK=function(e){function t(e){var n;return De(this,t),n=Ge(this,Ue(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.LineString"],n.CLASS_NAME="SuperMap.Geometry.MultiLineString",n.geometryType="MultiLineString",n}return He(t,e),t}(mK);rX.Geometry.MultiLineString=PK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var CK=function(e){function t(e){var n;return Ve(this,t),n=We(this,Ye(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.Polygon"],n.CLASS_NAME="SuperMap.Geometry.MultiPolygon",n.geometryType="MultiPolygon",n}return Qe(t,e),t}(mK);rX.Geometry.MultiPolygon=CK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var TK=function(e){function t(e){var n;return Ze(this,t),n=tt(this,rt(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.LinearRing"],n.CLASS_NAME="SuperMap.Geometry.Polygon",n.geometryType="Polygon",n}return ot(t,e),et(t,[{key:"getArea",value:function(){var e=0;if(this.components&&this.components.length>0){e+=Math.abs(this.components[0].getArea());for(var t=1,n=this.components.length;t<n;t++)e-=Math.abs(this.components[t].getArea())}return e}}]),t}(mK);rX.Geometry.Polygon=TK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var EK=function(e){function t(e,n,r,o){var i;return st(this,t),i=ct(this,pt(t).call(this,e,n,r,o)),i.x=e,i.y=n,i.width=r,i.height=o,i.CLASS_NAME="SuperMap.Geometry.Rectangle",i.geometryType="Rectangle",i}return ht(t,e),ut(t,[{key:"calculateBounds",value:function(){this.bounds=new dK(this.x,this.y,this.x+this.width,this.y+this.height)}},{key:"getArea",value:function(){return this.width*this.height}}]),t}(vK);rX.Geometry.Rectangle=EK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var kK=function(){function e(t,n){dt(this,e),this.value=t||"",this.name=n||"token",this.CLASS_NAME="SuperMap.Credential"}return mt(e,[{key:"getUrlParameters",value:function(){return this.name+"="+this.value}},{key:"getValue",value:function(){return this.value}},{key:"destroy",value:function(){this.value=null,this.name=null}}]),e}();kK.CREDENTIAL=null,rX.Credential=kK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var xK=(rX.Date={toISOString:function(){if("toISOString"in Date.prototype)return function(e){return e.toISOString()};var e=function(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n};return function(t){return isNaN(t.getTime())?"Invalid Date":t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1,2)+"-"+e(t.getUTCDate(),2)+"T"+e(t.getUTCHours(),2)+":"+e(t.getUTCMinutes(),2)+":"+e(t.getUTCSeconds(),2)+"."+e(t.getUTCMilliseconds(),3)+"Z"}}(),parse:function(e){var t,n=e.match(/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:(?:T(\d{1,2}):(\d{2}):(\d{2}(?:\.\d+)?)(Z|(?:[+-]\d{1,2}(?::(\d{2}))?)))|Z)?$/);if(n&&(n[1]||n[7])){var r=parseInt(n[1],10)||0,o=parseInt(n[2],10)-1||0,i=parseInt(n[3],10)||1;t=new Date(Date.UTC(r,o,i));var a=n[7];if(a){var s=parseInt(n[4],10),l=parseInt(n[5],10),u=parseFloat(n[6]),c=0|u,f=Math.round(1e3*(u-c));if(t.setUTCHours(s,l,c,f),"Z"!==a){var p=parseInt(a,10),h=parseInt(n[8],10)||0,y=-1e3*(60*p*60+60*h);t=new Date(t.getTime()+y)}}}else t=new Date("invalid");return t}},rX.Event={observers:!1,KEY_SPACE:32,KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,element:function(e){return e.target||e.srcElement},isSingleTouch:function(e){return e.touches&&1===e.touches.length},isMultiTouch:function(e){return e.touches&&e.touches.length>1},isLeftClick:function(e){return e.which&&1===e.which||e.button&&1===e.button},isRightClick:function(e){return e.which&&3===e.which||e.button&&2===e.button},stop:function(e,t){t||(e.preventDefault?e.preventDefault():e.returnValue=!1),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},findElement:function(e,t){for(var n=rX.Event.element(e);n.parentNode&&(!n.tagName||n.tagName.toUpperCase()!=t.toUpperCase());)n=n.parentNode;return n},observe:function(e,t,n,r){var o=hK.getElement(e);if(r=r||!1,"keypress"===t&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||o.attachEvent)&&(t="keydown"),this.observers||(this.observers={}),!o._eventCacheID){var i="eventCacheID_";o.id&&(i=o.id+"_"+i),o._eventCacheID=hK.createUniqueID(i)}var a=o._eventCacheID;this.observers[a]||(this.observers[a]=[]),this.observers[a].push({element:o,name:t,observer:n,useCapture:r}),o.addEventListener?"mousewheel"===t?o.addEventListener(t,n,{useCapture:r,passive:!1}):o.addEventListener(t,n,r):o.attachEvent&&o.attachEvent("on"+t,n)},stopObservingElement:function(e){var t=hK.getElement(e),n=t._eventCacheID;this._removeElementObservers(rX.Event.observers[n])},_removeElementObservers:function(e){if(e)for(var t=e.length-1;t>=0;t--){var n=e[t],r=new Array(n.element,n.name,n.observer,n.useCapture);rX.Event.stopObserving.apply(this,r)}},stopObserving:function(e,t,n,r){r=r||!1;var o=hK.getElement(e),i=o._eventCacheID;"keypress"===t&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||o.detachEvent)&&(t="keydown");var a=!1,s=rX.Event.observers[i];if(s)for(var l=0;!a&&l<s.length;){var u=s[l];if(u.name===t&&u.observer===n&&u.useCapture===r){s.splice(l,1),0==s.length&&delete rX.Event.observers[i],a=!0;break}l++}return a&&(o.removeEventListener?o.removeEventListener(t,n,r):o&&o.detachEvent&&o.detachEvent("on"+t,n)),a},unloadCache:function(){if(rX.Event&&rX.Event.observers){for(var e in rX.Event.observers){var t=rX.Event.observers[e];rX.Event._removeElementObservers.apply(this,[t])}rX.Event.observers=!1}},CLASS_NAME:"SuperMap.Event"});rX.Event=xK,rX.Event.observe(window,"unload",rX.Event.unloadCache,!1);/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var jK=function(){function e(t,n,r,o,i){if(gt(this,e),this.BROWSER_EVENTS=["mouseover","mouseout","mousedown","mouseup","mousemove","click","dblclick","rightclick","dblrightclick","resize","focus","blur","touchstart","touchmove","touchend","keydown","MSPointerDown","MSPointerUp","pointerdown","pointerup","MSGestureStart","MSGestureChange","MSGestureEnd","contextmenu"],this.listeners={},this.object=t,this.element=null,this.eventTypes=[],this.eventHandler=null,this.fallThrough=o,this.includeXY=!1,this.extensions={},this.extensionCount={},this.clearMouseListener=null,hK.extend(this,i),null!=r)for(var a=0,s=r.length;a<s;a++)this.addEventType(r[a]);null!=n&&this.attachToElement(n),this.CLASS_NAME="SuperMap.Events"}return wt(e,[{key:"destroy",value:function(){for(var e in this.extensions)"boolean"!=typeof this.extensions[e]&&this.extensions[e].destroy();this.extensions=null,this.element&&(xK.stopObservingElement(this.element),this.element.hasScrollEvent&&xK.stopObserving(window,"scroll",this.clearMouseListener)),this.element=null,this.listeners=null,this.object=null,this.eventTypes=null,this.fallThrough=null,this.eventHandler=null}},{key:"addEventType",value:function(e){this.listeners[e]||(this.eventTypes.push(e),this.listeners[e]=[])}},{key:"attachToElement",value:function(e){this.element?xK.stopObservingElement(this.element):(this.eventHandler=pK.bindAsEventListener(this.handleBrowserEvent,this),this.clearMouseListener=pK.bind(this.clearMouseCache,this)),this.element=e;for(var t=0,n=this.BROWSER_EVENTS.length;t<n;t++){var r=this.BROWSER_EVENTS[t];this.addEventType(r),xK.observe(e,r,this.eventHandler)}xK.observe(e,"dragstart",xK.stop)}},{key:"on",value:function(e){for(var t in e)"scope"!==t&&e.hasOwnProperty(t)&&this.register(t,e.scope,e[t])}},{key:"register",value:function(t,n,r,o){if(t in e&&!this.extensions[t]&&(this.extensions[t]=new e[t](this)),null!=r&&-1!==hK.indexOf(this.eventTypes,t)){null==n&&(n=this.object);var i=this.listeners[t];i||(i=[],this.listeners[t]=i,this.extensionCount[t]=0);var a={obj:n,func:r};o?(i.splice(this.extensionCount[t],0,a),"object"===bt(o)&&o.extension&&this.extensionCount[t]++):i.push(a)}}},{key:"registerPriority",value:function(e,t,n){this.register(e,t,n,!0)}},{key:"un",value:function(e){for(var t in e)"scope"!==t&&e.hasOwnProperty(t)&&this.unregister(t,e.scope,e[t])}},{key:"unregister",value:function(e,t,n){null==t&&(t=this.object);var r=this.listeners[e];if(null!=r)for(var o=0,i=r.length;o<i;o++)if(r[o].obj===t&&r[o].func===n){r.splice(o,1);break}}},{key:"remove",value:function(e){null!=this.listeners[e]&&(this.listeners[e]=[])}},{key:"triggerEvent",value:function(e,t){var n=this.listeners[e];if(n&&0!=n.length){null==t&&(t={}),t.object=this.object,t.element=this.element,t.type||(t.type=e),n=n.slice();for(var r,o=0,i=n.length;o<i;o++){var a=n[o];if(void 0!=(r=a.func.apply(a.obj,[t]))&&!1===r)break}return this.fallThrough||xK.stop(t,!0),r}}},{key:"handleBrowserEvent",value:function(e){var t=e.type,n=this.listeners[t];if(n&&0!=n.length){var r=e.touches;if(r&&r[0]){for(var o,i=0,a=0,s=r.length,l=0;l<s;++l)o=r[l],i+=o.clientX,a+=o.clientY;e.clientX=i/s,e.clientY=a/s}this.includeXY&&(e.xy=this.getMousePosition(e)),this.triggerEvent(t,e)}}},{key:"clearMouseCache",value:function(){this.element.scrolls=null,this.element.lefttop=null;var e=document.body;e&&(0==e.scrollTop&&0==e.scrollLeft||!navigator.userAgent.match(/iPhone/i))&&(this.element.offsets=null)}},{key:"getMousePosition",value:function(e){if(this.includeXY?this.element.hasScrollEvent||(xK.observe(window,"scroll",this.clearMouseListener),this.element.hasScrollEvent=!0):this.clearMouseCache(),!this.element.scrolls){var t=hK.getViewportElement();this.element.scrolls=[t.scrollLeft,t.scrollTop]}return this.element.lefttop||(this.element.lefttop=[document.documentElement.clientLeft||0,document.documentElement.clientTop||0]),this.element.offsets||(this.element.offsets=hK.pagePosition(this.element)),new uK(e.clientX+this.element.scrolls[0]-this.element.offsets[0]-this.element.lefttop[0],e.clientY+this.element.scrolls[1]-this.element.offsets[1]-this.element.lefttop[1])}}]),e}();rX.Events=jK,rX.Events.prototype.BROWSER_EVENTS=["mouseover","mouseout","mousedown","mouseup","mousemove","click","dblclick","rightclick","dblrightclick","resize","focus","blur","touchstart","touchmove","touchend","keydown","MSPointerDown","MSPointerUp","pointerdown","pointerup","MSGestureStart","MSGestureChange","MSGestureEnd","contextmenu"];/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var AK=function(){function e(t,n,r){Ot(this,e),this.CLASS_NAME="SuperMap.Feature",this.layer=t,this.id=hK.createUniqueID(this.CLASS_NAME+"_"),this.lonlat=n,this.data=null!=r?r:{}}return Pt(e,[{key:"destroy",value:function(){this.id=null,this.lonlat=null,this.data=null}}]),e}();rX.Feature=AK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var RK=function(e){function t(e,n,r){var o;return Tt(this,t),o=xt(this,Lt(t).call(this,null,null,n)),o.fid=null,o.geometry=e||null,o.attributes={},n&&(o.attributes=hK.extend(o.attributes,n)),o.bounds=null,o.state=null,o.style=r||null,o.url=null,o.lonlat=null,o.CLASS_NAME="SuperMap.Feature.Vector",rX.State={UNKNOWN:"Unknown",INSERT:"Insert",UPDATE:"Update",DELETE:"Delete"},t.style={default:{fillColor:"#ee9900",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"inherit",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},select:{fillColor:"blue",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"blue",strokeOpacity:1,strokeWidth:2,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"pointer",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},temporary:{fillColor:"#66cccc",fillOpacity:.2,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#66cccc",strokeOpacity:1,strokeLinecap:"round",strokeWidth:2,strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"default",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},delete:{display:"none"}},o}return Nt(t,e),kt(t,[{key:"destroy",value:function(){this.layer&&(this.layer.removeFeatures(this),this.layer=null),this.geometry=null,At(Lt(t.prototype),"destroy",this).call(this)}},{key:"clone",value:function(){return new t(this.geometry?this.geometry.clone():null,this.attributes,this.style)}},{key:"toState",value:function(e){if(e===rX.State.UPDATE)switch(this.state){case rX.State.UNKNOWN:case rX.State.DELETE:this.state=e;break;case rX.State.UPDATE:case rX.State.INSERT:}else if(e===rX.State.INSERT)switch(this.state){case rX.State.UNKNOWN:break;default:this.state=e}else if(e===rX.State.DELETE)switch(this.state){case rX.State.INSERT:case rX.State.DELETE:break;case rX.State.UNKNOWN:case rX.State.UPDATE:this.state=e}else e===rX.State.UNKNOWN&&(this.state=e)}}]),t}(AK);rX.Feature.Vector=RK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var LK=function(){function e(t){It(this,e),this.data=null,this.keepData=!1,hK.extend(this,t),this.options=t,this.CLASS_NAME="SuperMap.Format"}return Dt(e,[{key:"destroy",value:function(){}},{key:"read",value:function(e){}},{key:"write",value:function(e){}}]),e}();rX.Format=LK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var NK=function(e){function t(e){var n;return Bt(this,t),n=Jt(this,Vt(t).call(this,e)),n.indent="    ",n.space=" ",n.newline="\n",n.level=0,n.pretty=!1,n.nativeJSON=function(){return!(!window.JSON||"function"!=typeof JSON.parse||"function"!=typeof JSON.stringify)}(),n.CLASS_NAME="SuperMap.Format.JSON",n.serialize={object:function(e){if(null==e)return"null";if(e.constructor===Date)return this.serialize.date.apply(this,[e]);if(e.constructor===Array)return this.serialize.array.apply(this,[e]);var t=["{"];this.level+=1;var n,r,o,i=!1;for(n in e)e.hasOwnProperty(n)&&(r=this.write.apply(this,[n,this.pretty]),o=this.write.apply(this,[e[n],this.pretty]),null!=r&&null!=o&&(i&&t.push(","),t.push(this.writeNewline(),this.writeIndent(),r,":",this.writeSpace(),o),i=!0));return this.level-=1,t.push(this.writeNewline(),this.writeIndent(),"}"),t.join("")},array:function(e){var t,n=["["];this.level+=1;for(var r=0,o=e.length;r<o;++r)null!=(t=this.write.apply(this,[e[r],this.pretty]))&&(r>0&&n.push(","),n.push(this.writeNewline(),this.writeIndent(),t));return this.level-=1,n.push(this.writeNewline(),this.writeIndent(),"]"),n.join("")},string:function(e){var t={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return/["\\\x00-\x1f]/.test(e)?'"'+e.replace(/([\x00-\x1f\\"])/g,function(e,n){var r=t[n];return r||(r=n.charCodeAt(),"\\u00"+Math.floor(r/16).toString(16)+(r%16).toString(16))})+'"':'"'+e+'"'},number:function(e){return isFinite(e)?String(e):"null"},boolean:function(e){return String(e)},date:function(e){function t(e){return e<10?"0"+e:e}return'"'+e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T"+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+'"'}},n}return Wt(t,e),Ht(t,[{key:"read",value:function(e,t){var n;if(this.nativeJSON)try{n=JSON.parse(e,t)}catch(e){}return this.keepData&&(this.data=n),n}},{key:"write",value:function(e,t){this.pretty=!!t;var n=null,r=Gt(e);if(this.serialize[r])try{n=!this.pretty&&this.nativeJSON?JSON.stringify(e):this.serialize[r].apply(this,[e])}catch(e){}return n}},{key:"writeIndent",value:function(){var e=[];if(this.pretty)for(var t=0;t<this.level;++t)e.push(this.indent);return e.join("")}},{key:"writeNewline",value:function(){return this.pretty?this.newline:""}},{key:"writeSpace",value:function(){return this.pretty?this.space:""}}]),t}(LK);rX.Format.JSON=NK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var MK=function(){function e(t,n,r){Yt(this,e),this.red=t||0==t?t:255,this.green=n||0,this.blue=r||0,this.CLASS_NAME="SuperMap.ServerColor"}return Xt(e,[{key:"destroy",value:function(){var e=this;e.red=null,e.green=null,e.blue=null}}],[{key:"fromJson",value:function(t){if(t){var n=new e,r=255;null!==t.red&&(r=Number(t.red)),n.red=r;var o=0;null!==t.green&&(o=Number(t.green)),n.green=o;var i=0;return null!==t.blue&&(i=Number(t.blue)),n.blue=i,n}}}]),e}();rX.ServerColor=MK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var IK=function(){function e(t){Kt(this,e),this.fillBackColor=new MK(255,255,255),this.fillBackOpaque=!1,this.fillForeColor=new MK(255,0,0),this.fillGradientMode=null,this.fillGradientAngle=0,this.fillGradientOffsetRatioX=0,this.fillGradientOffsetRatioY=0,this.fillOpaqueRate=100,this.fillSymbolID=0,this.lineColor=new MK(0,0,0),this.lineSymbolID=0,this.lineWidth=1,this.markerAngle=0,this.markerSize=1,this.markerSymbolID=-1,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ServerStyle"}return $t(e,[{key:"destroy",value:function(){var e=this;e.fillBackColor&&(e.fillBackColor.destroy(),e.fillBackColor=null),e.fillBackOpaque=null,e.fillForeColor&&(e.fillForeColor.destroy(),e.fillForeColor=null),e.fillGradientMode=null,e.fillGradientAngle=null,e.fillGradientOffsetRatioX=null,e.fillGradientOffsetRatioY=null,e.fillOpaqueRate=null,e.fillSymbolID=null,e.lineColor&&(e.lineColor.destroy(),e.lineColor=null),e.lineSymbolID=null,e.lineWidth=null,e.markerAngle=null,e.markerSize=null,e.markerSymbolID=null}},{key:"toServerJSONObject",value:function(){var e={};return e=hK.copyAttributes(e,this)}}],[{key:"fromJson",value:function(t){if(t)return new e({fillBackColor:MK.fromJson(t.fillBackColor),fillBackOpaque:t.fillBackOpaque,fillForeColor:MK.fromJson(t.fillForeColor),fillGradientMode:t.fillGradientMode,fillGradientAngle:t.fillGradientAngle,fillGradientOffsetRatioX:t.fillGradientOffsetRatioX,fillGradientOffsetRatioY:t.fillGradientOffsetRatioY,fillOpaqueRate:t.fillOpaqueRate,fillSymbolID:t.fillSymbolID,lineColor:MK.fromJson(t.lineColor),lineSymbolID:t.lineSymbolID,lineWidth:t.lineWidth,markerAngle:t.markerAngle,markerSize:t.markerSize,markerSymbolID:t.markerSymbolID})}}]),e}();rX.ServerStyle=IK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var FK=function(e){function t(e){var n;return tn(this,t),n=on(this,an(t).call(this,e)),n.measure=null,e&&hK.extend(sn(n),e),n.CLASS_NAME="SuperMap.PointWithMeasure",n}return ln(t,e),rn(t,[{key:"equals",value:function(e){var t=!1;if(null!=e){var n=this.x===e.x&&this.y===e.y&&this.measure===e.measure,r=isNaN(this.x)&&isNaN(this.y)&&isNaN(this.measure),o=isNaN(e.x)&&isNaN(e.y)&&isNaN(e.measure);t=n||r&&o}return t}},{key:"toJson",value:function(){var e="{";return null!=this.measure&&void 0!=this.measure&&(e+='"measure":'+this.measure+","),e+='"x":'+this.x+",",e+='"y":'+this.y,e+="}"}},{key:"destroy",value:function(){var e=this;e.measure=null,e.x=null,e.y=null}}],[{key:"fromJson",value:function(e){if(e)return new t({x:e.x,y:e.y,measure:e.measure})}}]),t}(SK);rX.PointWithMeasure=FK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var DK=function(e){function t(e,n){var r;return fn(this,t),r=yn(this,dn(t).call(this,e,n)),r.id=null,r.center=null,r.style=null,r.length=null,r.maxM=null,r.minM=null,r.parts=null,r.points=null,r.type=null,r.componentTypes=["SuperMap.Geometry.LinearRing","SuperMap.Geometry.LineString"],n&&hK.extend(vn(r),n),r.CLASS_NAME="SuperMap.Route",r.geometryType="LINEM",r}return mn(t,e),hn(t,[{key:"toJson",value:function(){var e="{";if(null!=this.id&&void 0!=this.id&&(e+='"id":'+this.id+","),null!=this.center&&void 0!=this.center&&(e+='"center":'+this.center+","),null!=this.style&&void 0!=this.style&&(e+='"style":'+this.style+","),null!=this.length&&void 0!=this.length&&(e+='"length":'+this.length+","),null!=this.maxM&&void 0!=this.maxM&&(e+='"maxM":'+this.maxM+","),null!=this.minM&&void 0!=this.minM&&(e+='"minM":'+this.minM+","),null!=this.type&&void 0!=this.type&&(e+='"type":"'+this.type+'",'),null!=this.parts&&void 0!=this.parts){e+='"parts":['+this.parts[0];for(var t=1;t<this.parts.length;t++)e+=","+this.parts[t];e+="],"}if(null!=this.components&&this.components.length>0){e+='"points":[';for(var n=0,r=this.components.length;n<r;n++)for(var o=0,i=this.components[n].components.length;o<i;o++)e+=this.components[n].components[o].toJson()+",";e=e.replace(/,$/g,""),e+="]"}return e=e.replace(/,$/g,""),e+="}"}},{key:"destroy",value:function(){var e=this;e.id=null,e.center=null,e.style=null,e.length=null,e.maxM=null,e.minM=null,e.type=null,e.parts=null,e.components.length=0,e.components=null,e.componentTypes=null}}],[{key:"fromJson",value:function(e){if(e){var n=e.parts||[],r=e.points||[],o=n.length,i=[];if(!(o>0))return null;for(var a=0,s=0,l=[];a<o;a++){for(var u=0;u<n[a];u++)l.push(FK.fromJson(r[s+u]));s+=n[a],l[0].equals(l[n[a]-1])?i.push(new _K(l)):i.push(new wK(l)),l=[]}return new t(i,{id:e.id,center:e.center,style:e.style,length:e.length,maxM:e.maxM,minM:e.minM,type:e.type,parts:e.parts})}}}]),t}(mK);rX.Route=DK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var GK=function(){function e(t){gn(this,e),this.id=0,this.style=null,this.parts=null,this.points=null,this.type=null,this.prjCoordSys=null,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ServerGeometry"}return wn(e,[{key:"destroy",value:function(){var e=this;e.id=null,e.style=null,e.parts=null,e.partTopo=null,e.points=null,e.type=null,e.prjCoordSys=null}},{key:"toGeometry",value:function(){var e=this;switch(e.type.toUpperCase()){case aX.POINT:return e.toGeoPoint();case aX.LINE:return e.toGeoLine();case aX.LINEM:return e.toGeoLinem();case aX.REGION:return e.toGeoRegion();case aX.POINTEPS:return e.toGeoPoint();case aX.LINEEPS:return e.toGeoLineEPS();case aX.REGIONEPS:return e.toGeoRegionEPS()}}},{key:"toGeoPoint",value:function(){var e=this,t=e.parts||[],n=e.points||[],r=t.length;if(r>0){if(1===r)return new SK(n[0].x,n[0].y);for(var o=[],i=0;i<r;i++)o.push(new SK(n[i].x,n[i].y));return new bK(o)}return null}},{key:"toGeoLine",value:function(){var e=this,t=e.parts||[],n=e.points||[],r=t.length;if(r>0){if(1===r){for(var o=[],i=0;i<t[0];i++)o.push(new SK(n[i].x,n[i].y));return o[0].equals(o[t[0]-1])?new _K(o):new wK(o)}for(var a=[],s=0;s<r;s++){for(var l=[],u=0;u<t[s];u++)l.push(new SK(n[u].x,n[u].y));a.push(new wK(l)),n.splice(0,t[s])}return new PK(a)}return null}},{key:"toGeoLineEPS",value:function(){var e,t,n,r,o,i=this,a=i.parts||[],s=i.points||[],l=a.length;if(l>0){if(1===l){for(e=0,n=[];e<a[0];e++)n.push(new SK(s[e].x,s[e].y,s[e].type));return n[0].equals(n[a[0]-1])?(o=wK.createLineEPS(n),new _K(o)):(o=wK.createLineEPS(n),new wK(o))}for(e=0,r=[];e<l;e++){for(t=0,n=[];t<a[e];t++)n.push(new SK(s[t].x,s[t].y));o=wK.createLineEPS(n),r.push(new wK(o)),s.splice(0,a[e])}return new PK(r)}return null}},{key:"toGeoLinem",value:function(){var e=this;return DK.fromJson(e)}},{key:"toGeoRegion",value:function(){var t=this,n=t.parts||[],r=t.partTopo||[],o=t.points||[],i=n.length;if(i<=0)return null;var a=[],s=[];if(1==i){for(var l=0;l<o.length;l++)s.push(new SK(o[l].x,o[l].y));return a.push(new TK([new _K(s)])),new CK(a)}for(var u=[],c=[],f=[],p=[],h=[],y=0,d=0;y<i;y++){for(var v=0;v<n[y];v++)s.push(new SK(o[d+v].x,o[d+v].y));d+=n[y];var m=new TK([new _K(s)]);s=[],f.push(m),0===r.length&&p.push(m.getBounds()),h.push(1),c.push(m.getArea())}if(e.bubbleSort(c,f,r,p),0===r.length){for(var b=[],g=1;g<f.length;g++)for(var S=g-1;S>=0;S--)if(b[g]=-1,p[S].containsBounds(p[g])){h[g]=-1*h[S],h[g]<0&&(b[g]=S);break}for(var w=0;w<f.length;w++)h[w]>0?a.push(f[w]):(a[b[w]].components=a[b[w]].components.concat(f[w].components),a.push(""))}else{a=new Array;for(var O=0;O<f.length;O++)if(r[O]&&-1==r[O]?u=u.concat(f[O].components):(u.length>0&&a.length>0&&(a[a.length-1].components=a[a.length-1].components.concat(u),u=[]),a.push(f[O])),O==i-1){var _=a.length;if(_)a[_-1].components=a[_-1].components.concat(u);else for(var P=0,C=u.length;P<C;P++)a.push(new TK(u))}}return new CK(a)}},{key:"toGeoRegionEPS",value:function(){var t=this,n=t.parts||[],r=t.partTopo||[],o=t.points||[],i=n.length;if(i<=0)return null;var a,s=[],l=[];if(1==i){for(var u=0;u<o.length;u++)l.push(new SK(o[u].x,o[u].y));return a=wK.createLineEPS(l),s.push(new TK([new _K(a)])),new CK(s)}for(var c=[],f=[],p=[],h=[],y=[],d=0,v=0;d<i;d++){for(var m=0;m<n[d];m++)l.push(new SK(o[v+m].x,o[v+m].y));v+=n[d],a=wK.createLineEPS(l);var b=new TK([new _K(a)]);l=[],p.push(b),0===r.length&&h.push(b.getBounds()),y.push(1),f.push(b.getArea())}if(e.bubbleSort(f,p,r,h),0===r.length){for(var g=[],S=1;S<p.length;S++)for(var w=S-1;w>=0;w--)if(g[S]=-1,h[w].containsBounds(h[S])){y[S]=-1*y[w],y[S]<0&&(g[S]=w);break}for(var O=0;O<p.length;O++)y[O]>0?s.push(p[O]):(s[g[O]].components=s[g[O]].components.concat(p[O].components),s.push(""))}else{s=new Array;for(var _=0;_<p.length;_++)if(r[_]&&-1==r[_]?c=c.concat(p[_].components):(c.length>0&&s.length>0&&(s[s.length-1].components=s[s.length-1].components.concat(c),c=[]),s.push(p[_])),_==i-1){var P=s.length;if(P)s[P-1].components=s[P-1].components.concat(c);else for(var C=0,T=c.length;C<T;C++)s.push(new TK(c))}}return new CK(s)}}],[{key:"fromJson",value:function(t){if(t)return new e({id:t.id,style:IK.fromJson(t.style),parts:t.parts,partTopo:t.partTopo,points:t.points,center:t.center,length:t.length,maxM:t.maxM,minM:t.minM,type:t.type})}},{key:"fromGeometry",value:function(t){if(t){var n=0,r=[],o=[],i=null,a=t.components,s=t.CLASS_NAME,l={epsgCode:t.SRID};if(isNaN(t.id)||(n=t.id),"SuperMap.Geometry.LinearRing"!=s&&"SuperMap.Geometry.LineString"!=s&&(t instanceof bK||t instanceof PK)){for(var u=a.length,c=0;c<u;c++){var f=a[c].getVertices().length;r.push(f);for(var p=0;p<f;p++)o.push(new SK(a[c].getVertices()[p].x,a[c].getVertices()[p].y))}i="SuperMap.Geometry.MultiPoint"==s?aX.POINT:aX.LINE}else if(t instanceof CK){for(var h=a.length,y=0;y<h;y++)for(var d=a[y],v=d.components,m=v.length,b=0;b<m;b++){var g=v[b].getVertices().length+1;r.push(g);for(var S=0;S<g-1;S++)o.push(new SK(v[b].getVertices()[S].x,v[b].getVertices()[S].y));o.push(new SK(v[b].getVertices()[0].x,v[b].getVertices()[0].y))}i=aX.REGION}else if(t instanceof TK){for(var w=a.length,O=0;O<w;O++){var _=a[O].getVertices().length+1;r.push(_);for(var P=0;P<_-1;P++)o.push(new SK(a[O].getVertices()[P].x,a[O].getVertices()[P].y));o.push(new SK(a[O].getVertices()[0].x,a[O].getVertices()[0].y))}i=aX.REGION}else{for(var C=t.getVertices().length,T=0;T<C;T++)o.push(new SK(t.getVertices()[T].x,t.getVertices()[T].y));t instanceof _K&&(o.push(new SK(t.getVertices()[0].x,t.getVertices()[0].y)),C++),r.push(C),i=t instanceof SK?aX.POINT:aX.LINE}return new e({id:n,style:null,parts:r,points:o,type:i,prjCoordSys:l})}}},{key:"IsClockWise",value:function(e){var t=e.length;if(t<3)return 0;var n=e[0].y*(e[t-1].x-e[1].x);e.push(e[0]);for(var r=1;r<t;r++)n+=e[r].y*(e[r-1].x-e[r+1].x);return.5*n}},{key:"bubbleSort",value:function(e,t,n,r){for(var o=0;o<e.length;o++)for(var i=0;i<e.length;i++)if(e[o]>e[i]){var a=e[i];e[i]=e[o],e[o]=a;var s=t[i];if(t[i]=t[o],t[o]=s,n&&n.length>0){var l=n[i];n[i]=n[o],n[o]=l}if(r&&r.length>0){var u=r[i];r[i]=r[o],r[o]=u}}}}]),e}();rX.ServerGeometry=GK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var BK=function(e){function t(e){var n;return _n(this,t),n=Tn(this,jn(t).call(this,e)),n.ignoreExtraDims=!0,n.CLASS_NAME="SuperMap.Format.GeoJSON",n.parseCoords={point:function(e){if(!1===this.ignoreExtraDims&&2!=e.length)throw"Only 2D points are supported: "+e;return new SK(e[0],e[1])},multipoint:function(e){for(var t=[],n=null,r=0,o=e.length;r<o;++r){try{n=this.parseCoords.point.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return new bK(t)},linestring:function(e){for(var t=[],n=null,r=0,o=e.length;r<o;++r){try{n=this.parseCoords.point.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return new wK(t)},multilinestring:function(e){for(var t=[],n=null,r=0,o=e.length;r<o;++r){try{n=this.parseCoords.linestring.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return new PK(t)},polygon:function(e){for(var t,n,r=[],o=0,i=e.length;o<i;++o){try{n=this.parseCoords.linestring.apply(this,[e[o]])}catch(e){throw e}t=new _K(n.components),r.push(t)}return new TK(r)},multipolygon:function(e){for(var t=[],n=null,r=0,o=e.length;r<o;++r){try{n=this.parseCoords.polygon.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return new CK(t)},box:function(e){if(2!=e.length)throw"GeoJSON box coordinates must have 2 elements";return new TK([new _K([new SK(e[0][0],e[0][1]),new SK(e[1][0],e[0][1]),new SK(e[1][0],e[1][1]),new SK(e[0][0],e[1][1]),new SK(e[0][0],e[0][1])])])}},n.extract={feature:function(e){var t=this.extract.geometry.apply(this,[e.geometry]),n={type:"Feature",properties:this.createAttributes(e),geometry:t};return e.geometry&&"TEXT"===e.geometry.type&&(n.properties.texts=e.geometry.texts,n.properties.textStyle=e.geometry.textStyle),e.fid&&(n.id=e.fid),e.ID&&(n.id=e.ID),n},geometry:function(e){if(null==e)return null;!e.parts&&e.points&&(e.parts=[e.points.length]);var t,n=new GK(e).toGeometry()||e,r=n.geometryType||n.type;"LinearRing"===r&&(r="LineString"),"LINEM"===r&&(r="MultiLineString"),t=this.extract[r.toLowerCase()].apply(this,[n]),r="TEXT"===r?"Point":r;return"Collection"===r?{type:"GeometryCollection",geometries:t}:{type:r,coordinates:t}},point:function(e){var t=[e.x,e.y];for(var n in e)"x"===n||"y"===n||null===e[n]||isNaN(e[n])||t.push(e[n]);return t},text:function(e){return[e.points[0].x,e.points[0].y]},multipoint:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.point.apply(this,[e.components[n]]));return t},linestring:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.point.apply(this,[e.components[n]]));return t},multilinestring:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.linestring.apply(this,[e.components[n]]));return t},polygon:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.linestring.apply(this,[e.components[n]]));return t},multipolygon:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.polygon.apply(this,[e.components[n]]));return t},collection:function(e){for(var t=e.components.length,n=new Array(t),r=0;r<t;++r)n[r]=this.extract.geometry.apply(this,[e.components[r]]);return n}},n}return An(t,e),Cn(t,[{key:"read",value:function(e,n,r){n=n||"FeatureCollection";var o=null,i=null;if(i="string"==typeof e?kn(jn(t.prototype),"read",this).call(this,e,r):e){if("string"!=typeof i.type);else if(this.isValidType(i,n))switch(n){case"Geometry":try{o=this.parseGeometry(i)}catch(e){}break;case"Feature":try{o=this.parseFeature(i),o.type="Feature"}catch(e){}break;case"FeatureCollection":switch(o=[],i.type){case"Feature":try{o.push(this.parseFeature(i))}catch(e){o=null}break;case"FeatureCollection":for(var a=0,s=i.features.length;a<s;++a)try{o.push(this.parseFeature(i.features[a]))}catch(e){o=null}break;default:try{var l=this.parseGeometry(i);o.push(new RK(l))}catch(e){o=null}}}}else;return o}},{key:"write",value:function(e,n){return kn(jn(t.prototype),"write",this).call(this,this.toGeoJSON(e),n)}},{key:"fromGeoJSON",value:function(e,t,n){var r=this,o=this.read(e,t,n);return hK.isArray(o)?o.map(function(e){return r._toiSevrerFeature(e)}):this._toiSevrerFeature(o)}},{key:"toGeoJSON",value:function(e){function t(e){return e.hasOwnProperty("parts")&&e.hasOwnProperty("points")}var n={type:null};if(hK.isArray(e)){n.type="FeatureCollection";var r=e.length;n.features=new Array(r);for(var o=0;o<r;++o){var i=e[o];if(t(i)){var a={};a.geometry=i,n.features[o]=this.extract.feature.apply(this,[a])}else n.features[o]=this.extract.feature.apply(this,[i])}}else if(t(e)){var s={};s.geometry=e,n=this.extract.feature.apply(this,[s])}else n=this.extract.feature.apply(this,[e]);return n}},{key:"isValidType",value:function(e,t){var n=!1;switch(t){case"Geometry":-1==hK.indexOf(["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","Box","GeometryCollection"],e.type)||(n=!0);break;case"FeatureCollection":n=!0;break;default:e.type==t&&(n=!0)}return n}},{key:"parseFeature",value:function(e){var t,n,r,o;r=e.properties?e.properties:{},o=e.geometry&&e.geometry.bbox||e.bbox;try{n=this.parseGeometry(e.geometry)}catch(e){throw e}return t=new RK(n,r),o&&(t.bounds=dK.fromArray(o)),e.id&&(t.fid=e.id),t}},{key:"parseGeometry",value:function(e){if(null==e)return null;var t;if("GeometryCollection"==e.type){if(!hK.isArray(e.geometries))throw"GeometryCollection must have geometries array: "+e;for(var n=e.geometries.length,r=new Array(n),o=0;o<n;++o)r[o]=this.parseGeometry.apply(this,[e.geometries[o]]);t=new mK(r)}else{if(!hK.isArray(e.coordinates))throw"Geometry must have coordinates array: "+e;if(!this.parseCoords[e.type.toLowerCase()])throw"Unsupported geometry type: "+e.type;try{t=this.parseCoords[e.type.toLowerCase()].apply(this,[e.coordinates])}catch(e){throw e}}return t}},{key:"createCRSObject",value:function(e){var t=e.layer.projection.toString(),n={};if(t.match(/epsg:/i)){var r=parseInt(t.substring(t.indexOf(":")+1));n=4326==r?{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}}:{type:"name",properties:{name:"EPSG:"+r}}}return n}},{key:"_toiSevrerFeature",value:function(e){var t=e.attributes,n=[],r=[];for(var o in t)n.push(o),r.push(t[o]);var i={fieldNames:n,fieldValues:r,geometry:GK.fromGeometry(e.geometry)};return i.geometry.id=e.fid,i}},{key:"createAttributes",value:function(e){if(!e)return null;var t={};!function(e,t){if(e.hasOwnProperty("fieldNames")&&e.hasOwnProperty("fieldValues")){var n=e.fieldNames,r=e.fieldValues;for(var o in n)t[n[o]]=r[o]}}(e,t);var n=["fieldNames","fieldValues","geometry","stringID","ID"];for(var r in e)n.indexOf(r)>-1||(t[r]=e[r]);return t}}]),t}(NK);rX.Format.GeoJSON=BK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var UK=function(e){function t(e){var n;return Nn(this,t),n=Fn(this,Gn(t).call(this,e)),n.regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},n.CLASS_NAME="SuperMap.Format.WKT",n.extract={point:function(e){return e.x+" "+e.y},multipoint:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.point.apply(this,[e.components[n]])+")");return t.join(",")},linestring:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.point.apply(this,[e.components[n]]));return t.join(",")},multilinestring:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.linestring.apply(this,[e.components[n]])+")");return t.join(",")},polygon:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.linestring.apply(this,[e.components[n]])+")");return t.join(",")},multipolygon:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.polygon.apply(this,[e.components[n]])+")");return t.join(",")},collection:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extractGeometry.apply(this,[e.components[n]]));return t.join(",")}},n.parse={point:function(e){var t=cK.trim(e).split(this.regExes.spaces);return new RK(new SK(t[0],t[1]))},multipoint:function(e){for(var t,n=cK.trim(e).split(","),r=[],o=0,i=n.length;o<i;++o)t=n[o].replace(this.regExes.trimParens,"$1"),r.push(this.parse.point.apply(this,[t]).geometry);return new RK(new bK(r))},linestring:function(e){for(var t=cK.trim(e).split(","),n=[],r=0,o=t.length;r<o;++r)n.push(this.parse.point.apply(this,[t[r]]).geometry);return new RK(new wK(n))},multilinestring:function(e){for(var t,n=cK.trim(e).split(this.regExes.parenComma),r=[],o=0,i=n.length;o<i;++o)t=n[o].replace(this.regExes.trimParens,"$1"),r.push(this.parse.linestring.apply(this,[t]).geometry);return new RK(new PK(r))},polygon:function(e){for(var t,n,r,o=cK.trim(e).split(this.regExes.parenComma),i=[],a=0,s=o.length;a<s;++a)t=o[a].replace(this.regExes.trimParens,"$1"),n=this.parse.linestring.apply(this,[t]).geometry,r=new _K(n.components),i.push(r);return new RK(new TK(i))},multipolygon:function(e){for(var t,n=cK.trim(e).split(this.regExes.doubleParenComma),r=[],o=0,i=n.length;o<i;++o)t=n[o].replace(this.regExes.trimParens,"$1"),r.push(this.parse.polygon.apply(this,[t]).geometry);return new RK(new CK(r))},geometrycollection:function(e){e=e.replace(/,\s*([A-Za-z])/g,"|$1");for(var t=cK.trim(e).split("|"),n=[],r=0,o=t.length;r<o;++r)n.push(this.read(t[r]));return n}},n}return Bn(t,e),In(t,[{key:"read",value:function(e){var t,n,r;e=e.replace(/[\n\r]/g," ");var o=this.regExes.typeStr.exec(e);return o&&(n=o[1].toLowerCase(),r=o[2],this.parse[n]&&(t=this.parse[n].apply(this,[r]))),t}},{key:"write",value:function(e){var t,n,r;e.constructor===Array?(t=e,r=!0):(t=[e],r=!1);var o=[];r&&o.push("GEOMETRYCOLLECTION(");for(var i=0,a=t.length;i<a;++i)r&&i>0&&o.push(","),n=t[i].geometry,o.push(this.extractGeometry(n));return r&&o.push(")"),o.join("")}},{key:"extractGeometry",value:function(e){var t=e.CLASS_NAME.split(".")[2].toLowerCase();return this.extract[t]?("collection"===t?"GEOMETRYCOLLECTION":t.toUpperCase())+"("+this.extract[t].apply(this,[e])+")":null}}]),t}(LK);rX.Format.WKT=UK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var HK=function(){function e(t){Hn(this,e);var n=this;t=t||{},this.speed=t.speed&&t.speed>=0?t.speed:1,this.frequency=t.speed&&t.frequency>=0?t.frequency:1e3,this.startTime=t.startTime&&null!=t.startTime?t.startTime:0,this.endTime=t.endTime&&null!=t.endTime&&t.endTime>=n.startTime?t.endTime:+new Date,this.repeat=void 0===t.repeat||t.repeat,this.reverse=void 0!==t.reverse&&t.reverse,this.currentTime=null,this.oldTime=null,this.running=!1,this.EVENT_TYPES=["start","pause","stop"],n.events=new jK(this,null,this.EVENT_TYPES),n.speed=Number(n.speed),n.frequency=Number(n.frequency),n.startTime=Number(n.startTime),n.endTime=Number(n.endTime),n.startTime=Date.parse(new Date(n.startTime)),n.endTime=Date.parse(new Date(n.endTime)),n.currentTime=n.startTime,this.CLASS_NAME="SuperMap.TimeControlBase"}return zn(e,[{key:"updateOptions",value:function(e){var t=this;e=e||{},e.speed&&e.speed>=0&&(t.speed=e.speed,t.speed=Number(t.speed)),e.speed&&e.frequency>=0&&(t.frequency=e.frequency,t.frequency=Number(t.frequency)),e.startTime&&null!=e.startTime&&(t.startTime=e.startTime,t.startTime=Date.parse(new Date(t.startTime))),e.endTime&&null!=e.endTime&&e.endTime>=t.startTime&&(t.endTime=e.endTime,t.endTime=Date.parse(new Date(t.endTime))),null!=e.repeat&&(t.repeat=e.repeat),null!=e.reverse&&(t.reverse=e.reverse)}},{key:"start",value:function(){var e=this;e.running||(e.running=!0,e.tick(),e.events.triggerEvent("start",e.currentTime))}},{key:"pause",value:function(){var e=this;e.running=!1,e.events.triggerEvent("pause",e.currentTime)}},{key:"stop",value:function(){var e=this;e.currentTime=e.startTime,e.running&&(e.running=!1),e.events.triggerEvent("stop",e.currentTime)}},{key:"toggle",value:function(){var e=this;e.running?e.pause():e.start()}},{key:"setSpeed",value:function(e){var t=this;return e>=0&&(t.speed=e,!0)}},{key:"getSpeed",value:function(){return this.speed}},{key:"setFrequency",value:function(e){var t=this;return e>=0&&(t.frequency=e,!0)}},{key:"getFrequency",value:function(){return this.frequency}},{key:"setStartTime",value:function(e){var t=this;return!((e=Date.parse(new Date(e)))>t.endTime)&&(t.startTime=e,t.currentTime<t.startTime&&(t.currentTime=t.startTime,t.tick()),!0)}},{key:"getStartTime",value:function(){return this.startTime}},{key:"setEndTime",value:function(e){var t=this;return t.endTime=Date.parse(new Date(t.endTime)),!(e<t.startTime)&&(t.endTime=e,t.currentTime>=t.endTime&&(t.currentTime=t.startTime,t.tick()),!0)}},{key:"getEndTime",value:function(){return this.endTime}},{key:"setCurrentTime",value:function(e){var t=this;return t.currentTime=Date.parse(new Date(t.currentTime)),e>=t.startTime&&e<=t.endTime&&(t.currentTime=e,t.startTime=t.currentTime,t.tick(),!0)}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"setRepeat",value:function(e){this.repeat=e}},{key:"getRepeat",value:function(){return this.repeat}},{key:"setReverse",value:function(e){this.reverse=e}},{key:"getReverse",value:function(){return this.reverse}},{key:"getRunning",value:function(){return this.running}},{key:"destroy",value:function(){var e=this;e.speed=null,e.frequency=null,e.startTime=null,e.endTime=null,e.currentTime=null,e.repeat=null,e.running=!1,e.reverse=null}},{key:"tick",value:function(){}}]),e}();rX.TimeControlBase=HK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var JK=function(e){function t(e,n){var r;Wn(this,t),r=Qn(this,$n(t).call(this,n));var o=Xn(r);return o.callback=e,Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,o.prototype=new r,o}),o.update=o.update.bind(o),o.oldTime=o.currentTime,o.CLASS_NAME="SuperMap.TimeFlowControl",r}return er(t,e),Yn(t,[{key:"updateOptions",value:function(e){e=e||{},Kn($n(t.prototype),"updateOptions",this).call(this,e)}},{key:"start",value:function(){var e=this;e.running||(e.running=!0,e.reverse?e.currentTime===e.startTime&&(e.oldTime=e.endTime,e.currentTime=e.oldTime):e.oldTime===e.endTime&&(e.currentTime=e.startTime,e.oldTime=e.currentTime),e.tick())}},{key:"stop",value:function(){Kn($n(t.prototype),"stop",this).call(this);var e=this;e.oldTime=e.currentTime,e.running&&(e.running=!1),e.intervalId&&window.clearTimeout(e.intervalId)}},{key:"destroy",value:function(){Kn($n(t.prototype),"destroy",this).call(this);var e=this;e.oldTime=null,e.callback=null}},{key:"tick",value:function(){var e=this;e.intervalId&&window.clearInterval(e.intervalId),e.intervalId=null,e.update(),e.intervalId=window.setInterval(e.update,e.frequency)}},{key:"update",value:function(){var e=this;if(e.running)if(e.callback&&e.callback(e.currentTime),e.reverse){if(e.currentTime===e.startTime){if(!e.repeat)return e.running=!1,null;e.oldTime=e.endTime,e.currentTime=e.oldTime}else e.currentTime=e.oldTime,e.oldTime-=e.speed;e.oldTime<=e.startTime&&(e.oldTime=e.startTime)}else{if(e.currentTime===e.endTime){if(!e.repeat)return e.running=!1,e.stop(),null;e.stop(),e.currentTime=e.startTime,e.oldTime=e.currentTime,e.start()}else e.oldTime=e.currentTime,e.currentTime+=e.speed;e.currentTime>=e.endTime&&(e.currentTime=e.endTime)}}}]),t}(HK);rX.TimeFlowControl=JK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var zK=n(7),VK=n.n(zK);/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
window.Promise=VK.a;var WK=(n(16),n(4)),qK=n.n(WK),YK=window.fetch,QK=(rX.setCORS=function(e){rX.CORS=e},rX.isCORS=function(){return void 0!=rX.CORS?rX.CORS:window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest}),XK=(rX.setRequestTimeout=function(e){return rX.RequestTimeout=e},rX.getRequestTimeout=function(){return rX.RequestTimeout||45e3}),KK=rX.FetchRequest={commit:function(e,t,n,r){switch(e=e?e.toUpperCase():e){case"GET":return this.get(t,n,r);case"POST":return this.post(t,n,r);case"PUT":return this.put(t,n,r);case"DELETE":return this.delete(t,n,r);default:return this.get(t,n,r)}},supportDirectRequest:function(e,t){return!!hK.isInTheSameDomain(e)||(void 0!=t.crossOrigin?t.crossOrigin:QK()||t.proxy)},get:function(e,t,n){n=n||{};if(e=hK.urlAppend(e,this._getParameterString(t||{})),e=this._processUrl(e,n),!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var r={url:e,data:t};return rX.Util.RequestJSONPPromise.GET(r)}return this.urlIsLong(e)?this._postSimulatie("GET",e.substring(0,e.indexOf("?")-1),t,n):this._fetch(e,t,n,"GET")},delete:function(e,t,n){n=n||{};if(e=hK.urlAppend(e,this._getParameterString(t||{})),e=this._processUrl(e,n),!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var r={url:e+="&_method=DELETE",data:t};return rX.Util.RequestJSONPPromise.DELETE(r)}return this.urlIsLong(e)?this._postSimulatie("DELETE",e.substring(0,e.indexOf("?")-1),t,n):this._fetch(e,t,n,"DELETE")},post:function(e,t,n){if(n=n||{},!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var r={url:e+="&_method=POST",data:t};return rX.Util.RequestJSONPPromise.POST(r)}return this._fetch(this._processUrl(e,n),t,n,"POST")},put:function(e,t,n){if(n=n||{},e=this._processUrl(e,n),!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var r={url:e+="&_method=PUT",data:t};return rX.Util.RequestJSONPPromise.PUT(r)}return this._fetch(e,t,n,"PUT")},urlIsLong:function(e){for(var t=0,n=null,r=0,o=e.length;r<o;r++)n=e.charCodeAt(r),n<127?t++:128<=n&&n<=2047?t+=2:2048<=n&&n<=65535&&(t+=3);return!(t<2e3)},_postSimulatie:function(e,t,n,r){return t+=(t.indexOf("?")>-1?"&":"?")+"_method="+e,"string"!=typeof n&&(n=JSON.stringify(n)),this.post(t,n,r)},_processUrl:function(e,t){if(this._isMVTRequest(e))return e;if(-1===e.indexOf(".json")&&!t.withoutFormatSuffix)if(e.indexOf("?")<0)e+=".json";else{var n=e.split("?");2===n.length&&(e=n[0]+".json?"+n[1])}return t&&t.proxy&&("function"==typeof t.proxy?e=t.proxy(e):(e=decodeURIComponent(e),e=t.proxy+encodeURIComponent(e))),e},_fetch:function(e,t,n,r){return n=n||{},n.headers=n.headers||{},n.headers["Content-Type"]||(n.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8"),n.timeout?this._timeout(n.timeout,YK(e,{method:r,headers:n.headers,body:"PUT"===r||"POST"===r?t:void 0,credentials:n.withCredentials?"include":"omit",mode:"cors",timeout:XK()}).then(function(e){return e})):YK(e,{method:r,body:"PUT"===r||"POST"===r?t:void 0,headers:n.headers,credentials:n.withCredentials?"include":"omit",mode:"cors",timeout:XK()}).then(function(e){return e})},_fetchJsonp:function(e,t){return t=t||{},qK()(e,{method:"GET",timeout:t.timeout}).then(function(e){return e})},_timeout:function(e,t){return new Promise(function(n,r){setTimeout(function(){r(new Error("timeout"))},e),t.then(n,r)})},_getParameterString:function(e){var t=[];for(var n in e){var r=e[n];if(null!=r&&"function"!=typeof r){var o;if("object"===nr(r)&&r.constructor===Array){for(var i,a=[],s=0,l=r.length;s<l;s++)i=r[s],a.push(encodeURIComponent(null===i||void 0===i?"":i));o="["+a.join(",")+"]"}else o=encodeURIComponent(r);t.push(encodeURIComponent(n)+"="+o)}}return t.join("&")},_isMVTRequest:function(e){return e.indexOf(".mvt")>-1||e.indexOf(".pbf")>-1}};rX.Util.RequestJSONPPromise={limitLength:1500,queryKeys:[],queryValues:[],supermap_callbacks:{},addQueryStrings:function(e){var t=this;for(var n in e){t.queryKeys.push(n),"string"!=typeof e[n]&&(e[n]=rX.Util.toJSON(e[n]));var r=encodeURIComponent(e[n]);t.queryValues.push(r)}},issue:function(e){for(var t=this,n=t.getUid(),r=e.url,o=[],i=new Promise(function(e){t.supermap_callbacks[n]=function(r){delete t.supermap_callbacks[n],e(r)}}),a=r,s=0,l=t.queryKeys?t.queryKeys.length:0,u=0;u<l;u++)if(a.length+t.queryKeys[u].length+2>=t.limitLength){if(0==s)return!1;o.push(a),a=r,s=0,u--}else if(a.length+t.queryKeys[u].length+2+t.queryValues[u].length>t.limitLength)for(var c=t.queryValues[u];c.length>0;){var f=t.limitLength-a.length-t.queryKeys[u].length-2;a.indexOf("?")>-1?a+="&":a+="?";var p=c.substring(0,f);"%"===p.substring(f-1,f)?(f-=1,p=c.substring(0,f)):"%"===p.substring(f-2,f-1)&&(f-=2,p=c.substring(0,f)),a+=t.queryKeys[u]+"="+p,c=c.substring(f),p.length>0&&(o.push(a),a=r,s=0)}else s++,a.indexOf("?")>-1?a+="&":a+="?",a+=t.queryKeys[u]+"="+t.queryValues[u];return o.push(a),t.send(o,"SuperMap.Util.RequestJSONPPromise.supermap_callbacks["+n+"]",e&&e.proxy),i},getUid:function(){return 1e3*(new Date).getTime()+Math.floor(1e17*Math.random())},send:function(e,t,n){var r=e.length;if(r>0)for(var o=(new Date).getTime(),i=0;i<r;i++){var a=e[i];a.indexOf("?")>-1?a+="&":a+="?",a+="sectionCount="+r,a+="&sectionIndex="+i,a+="&jsonpUserID="+o,n&&(a=decodeURIComponent(a),a=n+encodeURIComponent(a)),qK()(a,{jsonpCallbackFunction:t,timeout:3e4})}},GET:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings(e.params),t.issue(e)},POST:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings({requestEntity:e.data}),t.issue(e)},PUT:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings({requestEntity:e.data}),t.issue(e)},DELETE:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings({requestEntity:e.data}),t.issue(e)}};/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var ZK=function(){function e(){rr(this,e)}return ir(e,null,[{key:"generateToken",value:function(e,t){var n=this.servers[e];if(n)return KK.post(n.tokenServiceUrl,JSON.stringify(t.toJSON())).then(function(e){return e.text()})}},{key:"registerServers",value:function(e){this.servers=this.servers||{},hK.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var n=e[t];this.servers[n.server]=n}}},{key:"registerToken",value:function(e,t){if(this.tokens=this.tokens||{},e&&t){var n=this._getTokenStorageKey(e);this.tokens[n]=t}}},{key:"registerKey",value:function(e,t){if(this.keys=this.keys||{},e&&!(e.length<1)&&t){e=hK.isArray(e)?e:[e];for(var n=0;n<e.length;n++){var r=this._getUrlRestString(e[0])||e[0];this.keys[r]=t}}}},{key:"getServerInfo",value:function(e){return this.servers=this.servers||{},this.servers[e]}},{key:"getToken",value:function(e){if(e){this.tokens=this.tokens||{};var t=this._getTokenStorageKey(e);return this.tokens[t]}}},{key:"getKey",value:function(e){this.keys=this.keys||{};var t=this._getUrlRestString(e)||e;return this.keys[t]}},{key:"loginiServer",value:function(e,t,n,r){e+="/"===e.substr(e.length-1,1)?"services/security/login.json":"/services/security/login.json";var o={username:t&&t.toString(),password:n&&n.toString(),rememberme:r};o=JSON.stringify(o);var i={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}};return KK.post(e,o,i).then(function(e){return e.json()})}},{key:"logoutiServer",value:function(e){e+="/"===e.substr(e.length-1,1)?"services/security/logout":"/services/security/logout";var t={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withoutFormatSuffix:!0};return KK.get(e,"",t).then(function(){return!0}).catch(function(){return!1})}},{key:"loginOnline",value:function(t,n){var r=e.SSO+"/login?service="+t;this._open(r,n)}},{key:"loginiPortal",value:function(e,t,n){e+="/"===e.substr(e.length-1,1)?"web/login.json":"/web/login.json";var r={username:t&&t.toString(),password:n&&n.toString()};r=JSON.stringify(r);var o={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withCredentials:!0};return KK.post(e,r,o).then(function(e){return e.json()})}},{key:"logoutiPortal",value:function(e){e+="/"===e.substr(e.length-1,1)?"services/security/logout":"/services/security/logout";var t={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withCredentials:!0,withoutFormatSuffix:!0};return KK.get(e,"",t).then(function(){return!0}).catch(function(){return!1})}},{key:"loginManager",value:function(e,t,n){if(!hK.isInTheSameDomain(e)){var r=!n||n.isNewTab;return void this._open(e,r)}var o=e.substr(e.length-1,1),i="/"===o?e+"icloud/security/tokens.json":e+"/icloud/security/tokens.json",a=t||{},s={username:a.userName&&a.userName.toString(),password:a.password&&a.password.toString()};s=JSON.stringify(s);var l={headers:{Accept:"*/*","Content-Type":"application/json"}},u=this;return KK.post(i,s,l).then(function(e){e.text().then(function(e){return u.imanagerToken=e,e})})}},{key:"destroyAllCredentials",value:function(){this.keys=null,this.tokens=null,this.servers=null}},{key:"destroyToken",value:function(e){if(e){var t=this._getTokenStorageKey(e);this.tokens=this.tokens||{},this.tokens[t]&&delete this.tokens[t]}}},{key:"destroyKey",value:function(e){if(e){this.keys=this.keys||{};var t=this._getUrlRestString(e)||e;this.keys[t]&&delete this.keys[t]}}},{key:"_open",value:function(e,t){t=null==t||t;var n=window.screen.availWidth/2-this.INNER_WINDOW_WIDTH/2,r=window.screen.availHeight/2-this.INNER_WINDOW_HEIGHT/2,o="height="+this.INNER_WINDOW_HEIGHT+", width="+this.INNER_WINDOW_WIDTH+",top="+r+", left="+n+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no";t?window.open(e,"login"):window.open(e,"login",o)}},{key:"_getTokenStorageKey",value:function(e){var t=/(.*?):\/\/([^\/]+)/i,n=e.match(t);return n?n[0]:e}},{key:"_getUrlRestString",value:function(e){if(!e)return e;var t=/(http|https):\/\/(.*\/rest)/i,n=e.match(t);return n?n[0]:e}}]),e}();ZK.INNER_WINDOW_WIDTH=600,ZK.INNER_WINDOW_HEIGHT=600,ZK.SSO="https://sso.supermap.com",ZK.ONLINE="http://www.supermapol.com",rX.SecurityManager=ZK;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $K=function(){function e(t,n){if(ar(this,e),t){var r=t.substr(t.length-1,1);this.serviceUrl="/"===r?t.substr(0,t.length-2):t}this.options=n||{},this.CLASS_NAME="SuperMap.iManagerServiceBase"}return lr(e,[{key:"request",value:function(e,t,n,r){r=r||{headers:{Accept:"*/*","Content-Type":"application/json"}},r.hasOwnProperty("withCredentials")||(r.withCredentials=!0),r.crossOrigin=this.options.crossOrigin,r.headers=this.options.headers;var o=ZK.imanagerToken;return o&&(r.headers||(r.headers=[]),r.headers["X-Auth-Token"]=o),n&&(n=JSON.stringify(n)),KK.commit(e,t,n,r).then(function(e){return e.json()})}}]),e}();rX.iManagerServiceBase=$K;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var eZ=function e(t){ur(this,e),t=t||{},this.nodeSpec="SMALL",this.nodeCount=1,this.nodeName="",this.password="",this.description="",this.physicalMachineName="",this.ips=[],this.userName="",hK.extend(this,t)};rX.iManagerCreateNodeParam=eZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var tZ=function(e){function t(e){return fr(this,t),yr(this,vr(t).call(this,e))}return mr(t,e),hr(t,[{key:"load",value:function(){return this.request("GET",this.serviceUrl+"/web/api/service.json")}},{key:"createIServer",value:function(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/server.json",new eZ(e))}},{key:"createIPortal",value:function(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/portal.json",new eZ(e))}},{key:"iServerList",value:function(){return this.request("GET",this.serviceUrl+"/icloud/web/nodes/server.json")}},{key:"iPortalList",value:function(){return this.request("GET",this.serviceUrl+"/icloud/web/nodes/portal.json")}},{key:"startNodes",value:function(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/started.json",e)}},{key:"stopNodes",value:function(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/stopped.json",e)}}]),t}($K);rX.iManager=tZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var nZ=function e(t){gr(this,e),t=t||{},this.tags=[],this.userNames="",this.types=[],this.checkStatus="",this.offline=!1,this.orderBy="",this.orderType="",this.keywords=[],this.currentPage=0,this.pageSize=0,this.isBatch=!1,this.dirIds=[],this.isNotInDir=!1,this.filterFields=[],this.authorizedOnly=!1,hK.extend(this,t)};rX.iPortalServicesQueryParam=nZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var rZ=function e(t){Sr(this,e),t=t||{},this.userNames=null,this.tags=null,this.suggest=!1,this.sourceTypes=null,this.keywords=null,this.epsgCode=null,this.orderBy=null,this.currentPage=null,this.pageSize=null,this.dirIds=null,this.isNotInDir=!1,this.updateStart=null,this.updateEnd=null,this.visitStart=null,this.visitEnd=null,this.filterFields=null,hK.extend(this,t)};rX.iPortalMapsQueryParam=rZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var oZ=function e(t){wr(this,e),t=t||{},this.createEnd=null,this.createStart=null,this.filterFields=null,this.orderBy=null,this.tags=null,this.userNames=null,this.currentPage=null,this.keywords=null,this.pageSize=null,this.currentUser=null,this.departmentIds=null,this.dirIds=null,this.groupIds=null,this.isNotInDir=!1,this.permissionType=null,this.resourceIds=null,this.returnSubDir=null,this.searchScope=null,hK.extend(this,t)};rX.iPortalInsightsQueryParam=oZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var iZ=function e(t){Or(this,e),t=t||{},this.tags=null,this.userNames=null,this.orderBy=null,this.orderType=null,this.keywords=null,this.currentPage=null,this.pageSize=null,this.dirIds=null,this.isNotInDir=!1,this.filterFields=null,this.createStart=null,this.createEnd=null,hK.extend(this,t)};rX.iPortalScenesQueryParam=iZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var aZ=function(){function e(t,n){_r(this,e),n=n||{},this.serviceUrl=t,this.serverType=iX.iPortal,this.CLASS_NAME="SuperMap.iPortalServiceBase",this.withCredentials=n.withCredentials||!1,this.crossOrigin=n.crossOrigin,this.headers=n.headers}return Cr(e,[{key:"request",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{headers:this.headers,crossOrigin:this.crossOrigin,withCredentials:this.withCredentials};return t=this.createCredentialUrl(t),KK.commit(e,t,n,r).then(function(e){return e.json()})}},{key:"createCredentialUrl",value:function(e){var t=e,n=this.getCredential();if(n){var r=t.substring(t.length-1,t.length);t.indexOf("?")>-1&&"?"===r?t+=n.getUrlParameters():t.indexOf("?")>-1&&"?"!==r?t+="&"+n.getUrlParameters():t+="?"+n.getUrlParameters()}return t}},{key:"getCredential",value:function(){var e,t=ZK.getToken(this.serviceUrl);return e=t?new kK(t,"token"):null,e||(t=this.getKey(),e=t?new kK(t,"key"):null),e}},{key:"getKey",value:function(){}}]),e}();rX.iPortalServiceBase=aZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var sZ=function(e){function t(e,n){var r;return Er(this,t),r=jr(this,Ar(t).call(this,e,n)),n=n||{},r.addedMapNames=null,r.addedSceneNames=null,r.authorizeSetting=[],r.checkStatus="",r.createTime=0,r.description="",r.enable=!0,r.id=0,r.isBatch=!1,r.isDataItemService=!1,r.linkPage=null,r.mapInfos=[],r.metadata=null,r.nickname="",r.offline=!1,r.proxiedUrl=null,r.resTitle="",r.scenes=[],r.serviceRootUrlId=null,r.tags=[],r.thumbnail=null,r.type="",r.updateTime=0,r.userName="",r.verifyReason=null,r.version=null,r.visitCount=0,hK.extend(Rr(r),n),r.serviceUrl=e,r.id&&(r.serviceUrl=e+"/"+r.id),r}return Lr(t,e),xr(t,[{key:"load",value:function(){var e=this;return e.request("GET",e.serviceUrl+".json").then(function(t){if(t.error)return t;for(var n in t)e[n]=t[n]})}},{key:"update",value:function(){var e={authorizeSetting:this.authorizeSetting,metadata:this.metadata,tags:this.tags,thumbnail:this.thumbnail},t={headers:Object.assign({"Content-Type":"application/x-www-form-urlencoded"},this.headers||{})};return this.request("PUT",this.serviceUrl,JSON.stringify(e),t)}}]),t}(aZ);rX.iPortalService=sZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var lZ=function(e){function t(e,n){var r;return Ir(this,t),r=Gr(this,Br(t).call(this,e)),n=n||{},r.authorizeSetting=[],r.center="",r.controls=null,r.checkStatus="",r.createTime=0,r.description="",r.epsgCode=0,r.extent="",r.id=0,r.isDefaultBottomMap=!1,r.layers=[],r.level=null,r.nickname="",r.sourceType="",r.status=null,r.tags=[],r.thumbnail="",r.title="",r.units=null,r.updateTime=0,r.userName="",r.visitCount=0,hK.extend(Ur(r),n),r.mapUrl=e,r}return Hr(t,e),Dr(t,[{key:"load",value:function(){var e=this;return e.request("GET",e.mapUrl+".json").then(function(t){if(t.error)return t;for(var n in t)e[n]=t[n]})}},{key:"update",value:function(){var e={units:this.units,level:this.level,center:this.center,controls:this.controls,description:this.description,epsgCode:this.epsgCode,extent:this.extent,status:this.status,tags:this.tags,layers:this.layers,title:this.title,thumbnail:this.thumbnail,sourceType:this.sourceType,authorizeSetting:this.authorizeSetting},t={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.request("PUT",this.mapUrl,JSON.stringify(e),t)}}]),t}(aZ);rX.iPortalMap=lZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var uZ=function(e){function t(e,n){var r;return Vr(this,t),r=Yr(this,Qr(t).call(this,e)),n=n||{},r.authorizeSetting=[],r.name="",r.checkStatus="",r.createTime=0,r.description="",r.id=0,r.nickname="",r.tags=[],r.thumbnail="",r.updateTime=0,r.userName="",r.visitCount=0,hK.extend(Xr(r),n),r.insightUrl=e,r}return Kr(t,e),qr(t,[{key:"load",value:function(){var e=this;return e.request("GET",e.insightUrl+".json").then(function(t){if(t.error)return t;for(var n in t)e[n]=t[n]})}},{key:"update",value:function(){var e={authorizeSetting:this.authorizeSetting,description:this.description,tags:this.tags,thumbnail:this.thumbnail,name:this.name},t={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.request("PUT",this.insightUrl,JSON.stringify(e),t)}}]),t}(aZ);rX.iPortalInsight=uZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var cZ=function(e){function t(e,n){var r;return eo(this,t),r=ro(this,oo(t).call(this,e)),n=n||{},r.authorizeSetting=[],r.content=null,r.createTime=0,r.description="",r.id=0,r.layers=[],r.name="",r.nickname="",r.tags=[],r.thumbnail="",r.title="",r.updateTime=0,r.url="",r.userName="",r.visitCount=0,hK.extend(io(r),n),r.sceneUrl=e,r}return ao(t,e),no(t,[{key:"load",value:function(){var e=this;return e.request("GET",e.sceneUrl+".json").then(function(t){if(t.error)return t;for(var n in t)e[n]=t[n]})}},{key:"update",value:function(){var e={authorizeSetting:this.authorizeSetting,name:this.name,tags:this.tags,description:this.description,thumbnail:this.thumbnail},t={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.request("PUT",this.sceneUrl,JSON.stringify(e),t)}}]),t}(aZ);rX.iPortalScene=cZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var fZ=function(e){function t(e,n){var r;return uo(this,t),r=po(this,ho(t).call(this,e)),n=n||{},r.authorizeSetting=[],r.content="",r.createTime=0,r.description="",r.id=0,r.name="",r.nickname="",r.tags=[],r.thumbnail="",r.updateTime=0,r.userName="",r.visitCount=0,hK.extend(yo(r),n),r.mapdashboardUrl=e,r}return vo(t,e),fo(t,[{key:"load",value:function(){var e=this;return e.request("GET",e.mapdashboardUrl+".json").then(function(t){if(t.error)return t;for(var n in t)e[n]=t[n]})}},{key:"update",value:function(){var e={authorizeSetting:this.authorizeSetting,description:this.description,name:this.name,tags:this.tags,thumbnail:this.thumbnail},t={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.request("PUT",this.mapdashboardUrl,JSON.stringify(e),t)}}]),t}(aZ);rX.iPortalMapdashboard=fZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var pZ=function e(t){bo(this,e),t=t||{},this.userNames=null,this.tags=null,this.orderBy=null,this.filterFields=null,this.currentUser=null,this.dirIds=null,this.returnSubDir=!1,this.isNotInDir=!1,this.groupIds=null,this.departmentIds=null,this.resourceIds=null,this.searchScope=null,this.permissionType=null,this.keywords=null,this.currentPage=null,this.pageSize=null,this.orderType=null,hK.extend(this,t)};rX.iPortalMapdashboardsQueryParam=pZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var hZ=function e(t){go(this,e),t=t||{},this.resourceType="",this.pageSize=12,this.currentPage=1,this.orderBy="UPDATETIME",this.orderType="DESC",this.searchType="PUBLIC",this.tags=[],this.dirIds=[],this.resourceSubTypes=[],this.aggregationTypes=[],this.text="",this.groupIds=[],this.departmentIds=[],hK.extend(this,t)};rX.iPortalQueryParam=hZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var yZ=function e(t){So(this,e),t=t||{},this.content=[],this.total=0,this.currentPage=1,this.pageSize=12,this.aggregations=null,hK.extend(this,t)};rX.iPortalQueryResult=yZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var dZ=function(e){function t(e,n){var r;return Oo(this,t),r=Co(this,To(t).call(this,e)),n=n||{},r.authorizeSetting=[],r.bounds="",r.bounds4326="",r.checkStatus="",r.createTime=0,r.description=null,r.dirId=null,r.epsgCode=0,r.heatLevel=0,r.id=0,r.name="",r.personalDirId=null,r.resourceId=0,r.resourceSubType=null,r.resourceType=null,r.serviceRootUrlId=null,r.tags=null,r.thumbnail=null,r.updateTime=0,r.userName="",hK.extend(Eo(r),n),r.resourceUrl=e+"/web/"+r.resourceType.replace("_","").toLowerCase()+"s/"+r.resourceId,r.withCredentials&&(r.resourceUrl=e+"/web/mycontent/"+r.resourceType.replace("_","").toLowerCase()+"s/"+r.resourceId),r}return ko(t,e),Po(t,[{key:"load",value:function(){var e=this;return e.request("GET",e.resourceUrl+".json").then(function(t){if(t.error)return t;for(var n in t)e[n]=t[n]})}},{key:"update",value:function(){var e={units:this.units,level:this.level,center:this.center,controls:this.controls,description:this.description,epsgCode:this.epsgCode,extent:this.extent,status:this.status,tags:this.tags,layers:this.layers,title:this.title,thumbnail:this.thumbnail,sourceType:this.sourceType,authorizeSetting:this.authorizeSetting},t={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.request("PUT",this.resourceUrl,JSON.stringify(e),t)}}]),t}(aZ);rX.iPortalResource=dZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var vZ=function(e){function t(e,n){var r;return Ao(this,t),r=No(this,Io(t).call(this,e,n)),r.iportalUrl=e,n=n||{},r.withCredentials=n.withCredentials||!1,r}return Fo(t,e),Lo(t,[{key:"load",value:function(){return KK.get(this.iportalUrl+"/web")}},{key:"queryResources",value:function(e){if(!(e instanceof hZ))return null;var t=this,n=this.iportalUrl+"/gateway/catalog/resource/search.json";return e.t=(new Date).getTime(),this.request("GET",n,e).then(function(e){var n=[];e.content.forEach(function(e){n.push(new dZ(t.iportalUrl,e))});var r=new yZ;return r.content=n,r.total=e.total,r.currentPage=e.currentPage,r.pageSize=e.pageSize,r.aggregations=e.aggregations,r})}},{key:"queryServices",value:function(e){if(!(e instanceof nZ))return null;var t=this.iportalUrl+"/web/services";return this.request("GET",t,e).then(function(e){var n=[];return e.content.map(function(e){return n.push(new sZ(t,e)),e}),n})}},{key:"deleteServices",value:function(e){var t=this.iportalUrl+"/web/services";return this.request("DELETE",t,{ids:e})}},{key:"queryService",value:function(e){var t=this.iportalUrl+"/web/services/"+e,n=new sZ(t);return n.load().then(function(){return n})}},{key:"queryMaps",value:function(e){if(!(e instanceof rZ))return null;var t;return t=this.withCredentials?this.iportalUrl+"/web/mycontent/maps":this.iportalUrl+"/web/maps",this.request("GET",t,e).then(function(e){var n={content:[]},r=[];return e.content&&e.content.length>0&&(e.content.map(function(e){return r.push(new lZ(t+"/"+e.id,e)),e}),n.content=r,n.currentPage=e.currentPage,n.pageSize=e.pageSize,n.total=e.total,n.totalPage=e.totalPage),n})}},{key:"queryMapdashboards",value:function(e){if(!(e instanceof pZ))return null;var t;return t=this.withCredentials?this.iportalUrl+"web/mycontent/mapdashboards":this.iportalUrl+"/web/mapdashboards",this.request("GET",t,e).then(function(e){var n={content:[]},r=[];return e.content&&e.content.length>0&&(e.content.map(function(e){return r.push(new fZ(t+"/"+e.id,e)),e}),n.content=r,n.currentPage=e.currentPage,n.pageSize=e.pageSize,n.total=e.total,n.totalPage=e.totalPage),n})}},{key:"deleteMapdashboards",value:function(e){var t=this.iportalUrl+"/web/mapdashboardsworkspaces.json";return this.request("DELETE",t,{ids:encodeURI(JSON.stringify(e))})}},{key:"queryMapdashboard",value:function(e){var t=this.iportalUrl+"/web/mapdashboards/"+e,n=new fZ(t);return n.load().then(function(){return n})}},{key:"queryInsights",value:function(e){if(!(e instanceof oZ))return null;var t;return t=this.withCredentials?this.iportalUrl+"web/mycontent/insightsworkspaces":this.iportalUrl+"/web/insightsworkspaces",this.request("GET",t,e).then(function(e){var n={content:[]},r=[];return e.content&&e.content.length>0&&(e.content.map(function(e){return r.push(new uZ(t+"/"+e.id,e)),e}),n.content=r,n.currentPage=e.currentPage,n.pageSize=e.pageSize,n.total=e.total,n.totalPage=e.totalPage),n})}},{key:"deleteInsights",value:function(e){var t=this.iportalUrl+"/web/insightsworkspaces.json";return this.request("DELETE",t,{ids:encodeURI(JSON.stringify(e))})}},{key:"queryInsight",value:function(e){var t=this.iportalUrl+"/web/insightsworkspaces/"+e,n=new uZ(t);return n.load().then(function(){return n})}},{key:"updateInsightAttrs",value:function(e,t){var n=this.iportalUrl+"/web/insightsworkspaces/"+e+"/attributes.json";return new uZ(n,t).update()}},{key:"deleteScenes",value:function(e){var t=this.iportalUrl+"/web/scenes.json";return this.request("DELETE",t,{ids:encodeURI(JSON.stringify(e))})}},{key:"queryScenes",value:function(e){if(!(e instanceof iZ))return null;var t;return t=this.withCredentials?this.iportalUrl+"/web/mycontent/scenes":this.iportalUrl+"/web/scenes",this.request("GET",t,e).then(function(e){var n={content:[]},r=[];return e.content&&e.content.length>0&&(e.content.map(function(e){return r.push(new cZ(t+"/"+e.id,e)),e}),n.content=r,n.currentPage=e.currentPage,n.pageSize=e.pageSize,n.total=e.total,n.totalPage=e.totalPage),n})}},{key:"queryScene",value:function(e){var t=this.iportalUrl+"/web/scenes/"+e,n=new cZ(t);return n.load().then(function(){return n})}},{key:"updateSceneAttrs",value:function(e,t){var n=this.iportalUrl+"/web/scenes/"+e+"/attributes.json";return new cZ(n,t).update()}}]),t}(aZ);rX.iPortal=vZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var mZ=function(){function e(t,n){Go(this,e);var r=this;this.EVENT_TYPES=["processCompleted","processFailed"],this.events=null,this.eventListeners=null,this.url=null,this.urls=null,this.proxy=null,this.serverType=null,this.index=null,this.length=null,this.options=null,this.totalTimes=null,this.POLLING_TIMES=3,this._processSuccess=null,this._processFailed=null,this.isInTheSameDomain=null,this.withCredentials=!1,hK.isArray(t)?(r.urls=t,r.length=t.length,r.totalTimes=r.length,1===r.length?r.url=t[0]:(r.index=parseInt(Math.random()*r.length),r.url=t[r.index])):(r.totalTimes=1,r.url=t),hK.isArray(t)&&!r.isServiceSupportPolling()&&(r.url=t[0],r.totalTimes=1),r.serverType=r.serverType||iX.ISERVER,n=n||{},this.crossOrigin=n.crossOrigin,this.headers=n.headers,hK.extend(this,n),r.isInTheSameDomain=hK.isInTheSameDomain(r.url),r.events=new jK(r,null,r.EVENT_TYPES,!0),r.eventListeners instanceof Object&&r.events.on(r.eventListeners),this.CLASS_NAME="SuperMap.CommonServiceBase"}return Uo(e,[{key:"destroy",value:function(){var e=this;hK.isArray(e.urls)&&(e.urls=null,e.index=null,e.length=null,e.totalTimes=null),e.url=null,e.options=null,e._processSuccess=null,e._processFailed=null,e.isInTheSameDomain=null,e.EVENT_TYPES=null,e.events&&(e.events.destroy(),e.events=null),e.eventListeners&&(e.eventListeners=null)}},{key:"request",value:function(e){var t=this;e.url=e.url||t.url,e.proxy=e.proxy||t.proxy,e.withCredentials=void 0!=e.withCredentials?e.withCredentials:t.withCredentials,e.crossOrigin=void 0!=e.crossOrigin?e.crossOrigin:t.crossOrigin,e.headers=e.headers||t.headers,e.isInTheSameDomain=t.isInTheSameDomain;var n=this.getCredential(e.url);if(n){var r=e.url.substring(e.url.length-1,e.url.length);e.url.indexOf("?")>-1&&"?"===r?e.url+=n.getUrlParameters():e.url.indexOf("?")>-1&&"?"!==r?e.url+="&"+n.getUrlParameters():e.url+="?"+n.getUrlParameters()}t.calculatePollingTimes(),t._processSuccess=e.success,t._processFailed=e.failure,e.scope=t,e.success=t.getUrlCompleted,e.failure=t.getUrlFailed,t.options=e,t._commit(t.options)}},{key:"getCredential",value:function(e){var t,n,r=e;switch(this.serverType){case iX.IPORTAL:n=ZK.getToken(r),t=n?new kK(n,"token"):null,t||(n=ZK.getKey(r),t=n?new kK(n,"key"):null);break;case iX.ONLINE:n=ZK.getKey(r),t=n?new kK(n,"key"):null;break;default:n=ZK.getToken(r),t=n?new kK(n,"token"):null}return t}},{key:"getUrlCompleted",value:function(e){this._processSuccess(e)}},{key:"getUrlFailed",value:function(e){var t=this;t.totalTimes>0?(t.totalTimes--,t.ajaxPolling()):t._processFailed(e)}},{key:"ajaxPolling",value:function(){var e=this,t=e.options.url,n=/^http:\/\/([a-z]{9}|(\d+\.){3}\d+):\d{0,4}/;e.index=parseInt(Math.random()*e.length),e.url=e.urls[e.index],t=t.replace(n,n.exec(e.url)[0]),e.options.url=t,e.options.isInTheSameDomain=hK.isInTheSameDomain(t),e._commit(e.options)}},{key:"calculatePollingTimes",value:function(){var e=this;e.times?e.totalTimes>e.POLLING_TIMES?e.times>e.POLLING_TIMES?e.totalTimes=e.POLLING_TIMES:e.totalTimes=e.times:e.times<e.totalTimes&&(e.totalTimes=e.times):e.totalTimes>e.POLLING_TIMES&&(e.totalTimes=e.POLLING_TIMES),e.totalTimes--}},{key:"isServiceSupportPolling",value:function(){var e=this;return!("SuperMap.REST.ThemeService"===e.CLASS_NAME||"SuperMap.REST.EditFeaturesService"===e.CLASS_NAME)}},{key:"serviceProcessCompleted",value:function(e){e=hK.transformResult(e),this.events.triggerEvent("processCompleted",{result:e})}},{key:"serviceProcessFailed",value:function(e){e=hK.transformResult(e);var t=e.error||e;this.events.triggerEvent("processFailed",{error:t})}},{key:"_commit",value:function(e){"POST"!==e.method&&"PUT"!==e.method||(e.params&&(e.url=hK.urlAppend(e.url,hK.getParameterString(e.params||{}))),e.params=e.data),KK.commit(e.method,e.url,e.params,{headers:e.headers,withCredentials:e.withCredentials,crossOrigin:e.crossOrigin,timeout:e.async?0:null,proxy:e.proxy}).then(function(e){return e.text?e.text():e.json?e.json():e}).then(function(t){var n=t;if("string"==typeof t&&(n=(new NK).read(t)),(!n||n.error||n.code>=300&&304!==n.code)&&(n=n&&n.error?{error:n.error}:{error:n}),n.error){(e.scope?pK.bind(e.failure,e.scope):e.failure)(n)}else{n.succeed=void 0==n.succeed||n.succeed;(e.scope?pK.bind(e.success,e.scope):e.success)(n)}}).catch(function(t){(e.scope?pK.bind(e.failure,e.scope):e.failure)(t)})}}]),e}();rX.CommonServiceBase=mZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var bZ=function(){function e(t){if(Ho(this,e),t.filters){var n=[];t.filters.split(",").map(function(e){return n.push('"'+e+'"'),e}),t.filters=n}this.address=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,hK.extend(this,t)}return zo(e,[{key:"destroy",value:function(){this.address=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null}}]),e}();rX.GeoCodingParameter=bZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var gZ=function(){function e(t){if(Vo(this,e),t.filters){var n=[];t.filters.split(",").map(function(e){return n.push('"'+e+'"'),e}),t.filters=n}this.x=null,this.y=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,this.geoDecodingRadius=null,hK.extend(this,t)}return qo(e,[{key:"destroy",value:function(){this.x=null,this.y=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,this.geoDecodingRadius=null}}]),e}();rX.GeoDecodingParameter=gZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var SZ=function(e){function t(e,n){var r;return Qo(this,t),r=Zo(this,ni(t).call(this,e,n)),r.options=n||{},r.CLASS_NAME="SuperMap.AddressMatchService",r}return ri(t,e),Ko(t,[{key:"destroy",value:function(){ei(ni(t.prototype),"destroy",this).call(this)}},{key:"code",value:function(e,t){t instanceof bZ&&this.processAsync(e,t)}},{key:"decode",value:function(e,t){t instanceof gZ&&this.processAsync(e,t)}},{key:"processAsync",value:function(e,t){var n=this,r=this.headers,o=this.crossOrigin,i=this.proxy;KK.get(e,t,{headers:r,crossOrigin:o,proxy:i}).then(function(e){return e.json()}).then(function(e){e?n.serviceProcessCompleted(e):n.serviceProcessFailed(e)}).catch(function(e){n.eventListeners.processFailed({error:e})})}},{key:"serviceProcessCompleted",value:function(e){ei(ni(t.prototype),"serviceProcessCompleted",this).call(this,e)}},{key:"serviceProcessFailed",value:function(e){ei(ni(t.prototype),"serviceProcessFailed",this).call(this,e)}}]),t}(mZ);rX.AddressMatchService=SZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var wZ=function(){function e(t){ii(this,e),this.name=null,this.queryType=null,this.CLASS_NAME="SuperMap.AggQueryBuilderParameter",hK.extend(this,t)}return si(e,[{key:"destroy",value:function(){var e=this;e.name=null,e.queryType=null}}]),e}();rX.AggQueryBuilderParameter=wZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var OZ=function(){function e(t){li(this,e),this.aggName=null,this.aggType=null,this.aggFieldName=null,this.subAgg=null,this.CLASS_NAME="SuperMap.AggregationParameter",hK.extend(this,t)}return ci(e,[{key:"destroy",value:function(){var e=this;e.aggName=null,e.aggFieldName=null,e.aggType=null,e.subAgg&&(e.subAgg=null)}}]),e}();rX.AggregationParameter=OZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _Z=function(){function e(t){fi(this,e),this.dataset=null,this.targetDatasourceName=null,this.totalGridName=null,this.diffuseDatasetGridName=null,this.durationDatasetGridName=null,this.directDatasetGridName=null,this.latitude=null,this.timeMode="MULTIDAYS",this.dayStart=null,this.dayEnd=null,this.hourStart=null,this.hourEnd=null,this.transmittance=null,this.hourInterval=null,this.dayInterval=null,this.deleteExistResultDataset=!1,hK.extend(this,t),this.CLASS_NAME="SuperMap.AreaSolarRadiationParameters"}return hi(e,[{key:"destroy",value:function(){var e=this;e.dataset=null,e.zFactor=1,e.averageCurvatureName=null,e.profileCurvatureName=null,e.planCurvatureName=null,e.deleteExistResultDataset=!0}}],[{key:"toObject",value:function(e,t){var n={};for(var r in e)if("dataset"!==r){var o="latitude"===r||"timeMode"===r||"dayStart"===r,i="dayEnd"===r||"hourStart"===r||"hourEnd"===r,a="transmittance"===r||"hourInterval"===r||"dayInterval"===r;o||i||a?n[r]=e[r]:t[r]=e[r]}t.parameter=n}}]),e}();rX.AreaSolarRadiationParameters=_Z;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var PZ=function(e){function t(e,n){var r;return di(this,t),r=bi(this,Oi(t).call(this,e,n)),r.format=oX.GEOJSON,r.CLASS_NAME="SuperMap.SpatialAnalystBase",r}return _i(t,e),mi(t,[{key:"destroy",value:function(){Si(Oi(t.prototype),"destroy",this).call(this),this.format=null}},{key:"serviceProcessCompleted",value:function(e){var t,n=this;if((e=hK.transformResult(e))&&n.format===oX.GEOJSON&&"function"==typeof n.toGeoJSONResult)if(hK.isArray(e)){for(var r=0;r<e.length;r++)e[r]=n.toGeoJSONResult(e[r]);t=e}else t=n.toGeoJSONResult(e);t||(t=e),n.events.triggerEvent("processCompleted",{result:t})}},{key:"toGeoJSONResult",value:function(e){if(!e)return null;e.result&&e.result.resultGeometry&&(e=e.result);var t=new BK;if(e.recordsets)for(var n=0,r=e.recordsets,o=r.length;n<o;n++)r[n].features&&(r[n].features=t.toGeoJSON(r[n].features));else e.recordset&&e.recordset.features&&(e.recordset.features=t.toGeoJSON(e.recordset.features));return e.resultGeometry&&(e.resultGeometry=t.toGeoJSON(e.resultGeometry)),e.regions&&(e.regions=t.toGeoJSON(e.regions)),e}}]),t}(mZ);rX.SpatialAnalystBase=PZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var CZ=function(e){function t(e,n){var r;return Ti(this,t),r=xi(this,Li(t).call(this,e,n)),r.CLASS_NAME="SuperMap.AreaSolarRadiationService",r}return Ni(t,e),ki(t,[{key:"destroy",value:function(){Ai(Li(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof _Z){var t=this;"/"!==t.url.substr(t.url.length-1,1)&&(t.url+="/");var n={};e instanceof _Z&&(t.url+="datasets/"+e.dataset+"/solarradiation"),_Z.toObject(e,n);var r=hK.toJSON(n);t.url+=".json?returnContent=true",t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}]),t}(PZ);rX.AreaSolarRadiationService=CZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var TZ=function(){function e(t){Ii(this,e),this.exp=null,this.value=100,hK.extend(this,t),this.CLASS_NAME="SuperMap.BufferDistance"}return Di(e,[{key:"destroy",value:function(){this.exp=null,this.value=null}}]),e}();rX.BufferDistance=TZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var EZ=function(){function e(t){Gi(this,e),this.endType=AX.FLAT,this.leftDistance=new TZ,this.rightDistance=new TZ,this.semicircleLineSegment=4,this.radiusUnit=hX.METER,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.BufferSetting"}return Ui(e,[{key:"destroy",value:function(){var e=this;e.endType=null,e.leftDistance&&(e.leftDistance.destroy(),e.leftDistance=null),e.rightDistance&&(e.rightDistance.destroy(),e.rightDistance=null),e.semicircleLineSegment=null,e.radiusUnit=null}}]),e}();rX.BufferSetting=EZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var kZ=function(){function e(t){Hi(this,e),this.bufferSetting=new EZ,hK.extend(this,t),this.CLASS_NAME="SuperMap.BufferAnalystParameters"}return zi(e,[{key:"destroy",value:function(){var e=this;e.bufferSetting&&(e.bufferSetting.destroy(),e.bufferSetting=null)}}]),e}();rX.BufferAnalystParameters=kZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var xZ=function(){function e(t){Vi(this,e),this.expectCount=1e3,this.dataset=null,this.dataReturnMode=IX.RECORDSET_ONLY,this.deleteExistResultDataset=!0,hK.extend(this,t),this.CLASS_NAME="SuperMap.DataReturnOption"}return qi(e,[{key:"destroy",value:function(){var e=this;e.expectCount=null,e.dataset=null,e.dataReturnMode=null,e.deleteExistResultDataset=null}}]),e}();rX.DataReturnOption=xZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var jZ=function(){function e(t){Yi(this,e),this.foreignTableName=null,this.joinFilter=null,this.joinType=null,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.JoinItem"}return Xi(e,[{key:"destroy",value:function(){var e=this;e.foreignTableName=null,e.joinFilter=null,e.joinType=null}},{key:"toServerJSONObject",value:function(){var e={};return e=hK.copyAttributes(e,this)}}]),e}();rX.JoinItem=jZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var AZ=function(){function e(t){Ki(this,e),this.alias=null,this.connect=null,this.dataBase=null,this.driver=null,this.engineType=null,this.exclusive=null,this.OpenLinkTable=null,this.password=null,this.readOnly=null,this.server=null,this.user=null,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.DatasourceConnectionInfo"}return $i(e,[{key:"destroy",value:function(){var e=this;e.alias=null,e.connect=null,e.dataBase=null,e.driver=null,e.engineType=null,e.exclusive=null,e.OpenLinkTable=null,e.password=null,e.readOnly=null,e.server=null,e.user=null}}]),e}();rX.DatasourceConnectionInfo=AZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var RZ=function(){function e(t){ea(this,e),this.datasourceConnectionInfo=null,this.foreignKeys=null,this.foreignTable=null,this.linkFields=null,this.linkFilter=null,this.name=null,this.primaryKeys=null,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.LinkItem"}return na(e,[{key:"destroy",value:function(){var e=this;e.datasourceConnectionInfo instanceof AZ&&(e.datasourceConnectionInfo.destroy(),e.datasourceConnectionInfo=null),e.foreignKeys=null,e.foreignTable=null,e.linkFields=null,e.linkFilter=null,e.name=null,e.primaryKeys=null}}]),e}();rX.LinkItem=RZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var LZ=function(){function e(t){ra(this,e),this.attributeFilter=null,this.name=null,this.joinItems=null,this.linkItems=null,this.ids=null,this.orderBy=null,this.groupBy=null,this.fields=null,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.FilterParameter"}return ia(e,[{key:"destroy",value:function(){var e=this;if(e.attributeFilter=null,e.name=null,e.joinItems){for(var t=0,n=e.joinItems,r=n.length;t<r;t++)n[t].destroy();e.joinItems=null}if(e.linkItems){for(var o=0,i=e.linkItems,a=i.length;o<a;o++)i[o].destroy();e.linkItems=null}e.ids=null,e.orderBy=null,e.groupBy=null,e.fields=null}}]),e}();rX.FilterParameter=LZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var NZ=function(e){function t(e){var n;return sa(this,t),n=ca(this,ya(t).call(this,e)),n.dataset=null,n.filterQueryParameter=new LZ,n.resultSetting=new xZ,n.isAttributeRetained=!0,n.isUnion=!1,hK.extend(fa(n),e),n.CLASS_NAME="SuperMap.DatasetBufferAnalystParameters",n}return da(t,e),ua(t,[{key:"destroy",value:function(){pa(ya(t.prototype),"destroy",this).call(this);var e=this;e.dataset=null,e.filterQueryParameter&&(e.filterQueryParameter.destroy(),e.filterQueryParameter=null),e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null),e.isAttributeRetained=null,e.isUnion=null}}],[{key:"toObject",value:function(e,t){for(var n in e)if("bufferSetting"===n)e.bufferSetting.radiusUnit=e.bufferSetting.radiusUnit.toUpperCase(),t.bufferAnalystParameter=e.bufferSetting;else if("resultSetting"===n)t.dataReturnOption=e.resultSetting;else{if("dataset"===n)continue;t[n]=e[n]}}}]),t}(kZ);rX.DatasetBufferAnalystParameters=NZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var MZ=function(e){function t(e){var n;return ba(this,t),n=wa(this,Ca(t).call(this,e)),n.sourceGeometry=null,n.sourceGeometrySRID=null,e&&hK.extend(Oa(n),e),n.CLASS_NAME=" SuperMap.GeometryBufferAnalystParameters",n}return Ta(t,e),Sa(t,[{key:"destroy",value:function(){_a(Ca(t.prototype),"destroy",this).call(this);var e=this;e.sourceGeometry&&(e.sourceGeometry.destroy(),e.sourceGeometry=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)if("bufferSetting"===n){var r={};for(var o in e.bufferSetting)r[o]=e.bufferSetting[o];t.analystParameter=r}else"sourceGeometry"===n?t.sourceGeometry=GK.fromGeometry(e.sourceGeometry):t[n]=e[n]}}]),t}(kZ);rX.GeometryBufferAnalystParameters=MZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var IZ=function(e){function t(e,n){var r;return xa(this,t),r=Ra(this,Ia(t).call(this,e,n)),r.mode=null,n&&hK.extend(La(r),n),r.CLASS_NAME="SuperMap.BufferAnalystService",r}return Fa(t,e),Aa(t,[{key:"destroy",value:function(){Na(Ia(t.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(e){var t={},n=this;"/"!==n.url.substr(n.url.length-1,1)&&(n.url+="/"),e instanceof NZ?(n.mode="datasets",n.url+="datasets/"+e.dataset+"/buffer",NZ.toObject(e,t)):e instanceof MZ&&(n.mode="geometry",n.url+="geometry/buffer",MZ.toObject(e,t));var r=hK.toJSON(t);n.url+=".json?returnContent=true",n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}]),t}(PZ);rX.BufferAnalystService=IZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var FZ=function(){function e(t){Ga(this,e),this.type=LX.UDB,this.datasetName="analystResult",this.datasourceInfo=null,this.outputPath="",hK.extend(this,t),this.CLASS_NAME="SuperMap.OutputSetting"}return Ua(e,[{key:"destroy",value:function(){var e=this;e.type=null,e.datasetName=null,e.outputPath=null,e.datasourceInfo instanceof AZ&&(e.datasourceInfo.destroy(),e.datasourceInfo=null)}}]),e}();rX.OutputSetting=FZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var DZ=function(){function e(t){Ha(this,e),this.items=null,this.numericPrecision=1,this.rangeMode=gX.EQUALINTERVAL,this.rangeCount="",this.colorGradientType=wX.YELLOW_RED,hK.extend(this,t),this.CLASS_NAME="SuperMap.MappingParameters"}return za(e,[{key:"destroy",value:function(){var e=this;if(e.items){if(e.items.length>0)for(var t in e.items)e.items[t].destroy(),e.items[t]=null;e.items=null}e.numericPrecision=null,e.rangeMode=null,e.rangeCount=null,e.colorGradientType=null}}]),e}();rX.MappingParameters=DZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var GZ=function(){function e(t){if(Va(this,e),this.datasetName="",this.bounds="",this.distance="",this.distanceField="",this.distanceUnit=eK.METER,this.dissolveField="",this.output=null,this.mappingParameters=null,!t)return this;hK.extend(this,t),this.CLASS_NAME="SuperMap.BuffersAnalystJobsParameter"}return qa(e,[{key:"destroy",value:function(){this.datasetName=null,this.bounds=null,this.distance=null,this.distanceField=null,this.distanceUnit=null,this.dissolveField=null,this.output instanceof FZ&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof DZ&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},"bounds"===n&&e[n]?t.analyst[n]=e[n].toBBOX():t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();rX.BuffersAnalystJobsParameter=GZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var BZ=function(e){function t(e,n){var r;return Qa(this,t),n=n||{},n.EVENT_TYPES=["processCompleted","processFailed","processRunning"],r=Za(this,ns(t).call(this,e,n)),r.CLASS_NAME="SuperMap.ProcessingServiceBase",r}return rs(t,e),Ka(t,[{key:"destroy",value:function(){es(ns(t.prototype),"destroy",this).call(this)}},{key:"getJobs",value:function(e){var t=this;KK.get(t._processUrl(e),null,{proxy:t.proxy}).then(function(e){return e.json()}).then(function(e){t.events.triggerEvent("processCompleted",{result:e})}).catch(function(e){t.eventListeners.processFailed({error:e})})}},{key:"addJob",value:function(e,t,n,r){var o=this,i=null;t&&t instanceof n&&(i=new Object,n.toObject(t,i));var a=Object.assign({"Content-Type":"application/x-www-form-urlencoded"},o.headers||{}),s={proxy:o.proxy,headers:a,withCredentials:o.withCredentials,crossOrigin:o.crossOrigin,isInTheSameDomain:o.isInTheSameDomain};KK.post(o._processUrl(e),JSON.stringify(i),s).then(function(e){return e.json()}).then(function(e){e.succeed?o.serviceProcessCompleted(e,r):o.serviceProcessFailed(e)}).catch(function(e){o.serviceProcessFailed({error:e})})}},{key:"serviceProcessCompleted",value:function(e,t){e=hK.transformResult(e),t=t||1e3;var n=this;if(e)var r=setInterval(function(){KK.get(n._processUrl(e.newResourceLocation),{_t:(new Date).getTime()}).then(function(e){return e.json()}).then(function(e){n.events.triggerEvent("processRunning",{id:e.id,state:e.state}),"LOST"!==e.state.runState&&"KILLED"!==e.state.runState&&"FAILED"!==e.state.runState||(clearInterval(r),n.events.triggerEvent("processFailed",{error:e.state.errorMsg,state:e.state.runState})),"FINISHED"===e.state.runState&&e.setting.serviceInfo&&(clearInterval(r),n.events.triggerEvent("processCompleted",{result:e}))}).catch(function(e){clearInterval(r),n.events.triggerEvent("processFailed",{error:e})})},t)}},{key:"serviceProcessFailed",value:function(e){es(ns(t.prototype),"serviceProcessFailed",this).call(this,e)}},{key:"_processUrl",value:function(e){return-1===e.indexOf(".json")&&(e+=".json"),ZK.getToken(e)&&(e+="?token="+ZK.getToken(e)),e}}]),t}(mZ);rX.ProcessingServiceBase=BZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var UZ=function(e){function t(e,n){var r;return as(this,t),r=us(this,hs(t).call(this,e,n)),r.url+="/spatialanalyst/buffers",r.CLASS_NAME="SuperMap.BuffersAnalystJobsService",r}return ys(t,e),ls(t,[{key:"destroy",value:function(){fs(hs(t.prototype),"destroy",this).call(this)}},{key:"getBuffersJobs",value:function(){fs(hs(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getBuffersJob",value:function(e){fs(hs(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addBuffersJob",value:function(e,n){fs(hs(t.prototype),"addJob",this).call(this,this.url,e,GZ,n)}}]),t}(BZ);rX.BuffersAnalystJobsService=UZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var HZ=function(){function e(t){vs(this,e);var n=this;this.sourceNodeIDs=null,this.edgeID=null,this.nodeID=null,this.isUncertainDirectionValid=!1,hK.extend(n,t),this.CLASS_NAME="SuperMap.BurstPipelineAnalystParameters"}return bs(e,[{key:"destroy",value:function(){var e=this;e.sourceNodeIDs=null,e.edgeID=null,e.nodeID=null,e.isUncertainDirectionValid=null}}]),e}();rX.BurstPipelineAnalystParameters=HZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var JZ=function(e){function t(e,n){var r;return Ss(this,t),r=_s(this,Es(t).call(this,e,n)),r.format=oX.GEOJSON,r.CLASS_NAME="SuperMap.NetworkAnalystServiceBase",r}return ks(t,e),Os(t,[{key:"destroy",value:function(){Cs(Es(t.prototype),"destroy",this).call(this),this.format=null}},{key:"serviceProcessCompleted",value:function(e){var t,n=this;e=hK.transformResult(e),e&&n.format===oX.GEOJSON&&"function"==typeof n.toGeoJSONResult&&(t=n.toGeoJSONResult(e)),t||(t=e),n.events.triggerEvent("processCompleted",{result:t})}},{key:"toGeoJSONResult",value:function(e){return null}}]),t}(mZ);rX.NetworkAnalystServiceBase=JZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var zZ=function(e){function t(e,n){var r;return As(this,t),r=Ns(this,Ds(t).call(this,e,n)),r.CLASS_NAME="SuperMap.BurstPipelineAnalystService",r}return Gs(t,e),Ls(t,[{key:"destroy",value:function(){Is(Ds(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(!(e instanceof HZ))return null;var t,n=this,r=n.url.substr(n.url.length-1,1);if(n.url=n.url+("/"===r?"burstAnalyse":"/burstAnalyse")+".json?",t={sourceNodeIDs:e.sourceNodeIDs,isUncertainDirectionValid:e.isUncertainDirectionValid},null!==e.edgeID&&null!==e.nodeID)throw new Error("edgeID and nodeID cannot be null at the same time.");if(null===e.edgeID&&null===e.nodeID)throw new Error("edgeID and nodeID cannot be null at the same time.");null!==e.edgeID?t.edgeID=e.edgeID:t.nodeID=e.nodeID,n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}]),t}(JZ);rX.BurstPipelineAnalystService=zZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var VZ=function(e){function t(e,n){var r;return Hs(this,t),r=Vs(this,Qs(t).call(this,e,n)),r.CLASS_NAME="SuperMap.ChartFeatureInfoSpecsService",r}return Xs(t,e),zs(t,[{key:"destroy",value:function(){qs(Qs(t.prototype),"destroy",this).call(this),hK.reset(this)}},{key:"processAsync",value:function(){var e=this,t=e.url.substr(e.url.length-1,1);e.isTempLayers?e.url+=".json?":(e.url+="/"===t?"":"/",e.url+="chartFeatureInfoSpecs.json?"),e.request({method:"GET",params:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}]),t}(mZ);rX.ChartFeatureInfoSpecsService=VZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var WZ=function(){function e(t){Zs(this,e),this.isQueryPoint=null,this.isQueryLine=null,this.isQueryRegion=null,this.attributeFilter=null,this.chartFeatureInfoSpecCode=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.ChartQueryFilterParameter"}return el(e,[{key:"destroy",value:function(){var e=this;e.isQueryPoint=null,e.isQueryLine=null,e.isQueryRegion=null,e.attributeFilter=null,e.chartFeatureInfoSpecCode=null}},{key:"toJson",value:function(){var e="";return e+='"isQueryPoint":'+this.isQueryPoint+",",e+='"isQueryLine":'+this.isQueryLine+",",e+='"isQueryRegion":'+this.isQueryRegion+",",this.attributeFilter&&(e+='"attributeFilter": "'+this.attributeFilter+'",'),e+='"chartFeatureInfoSpecCode":'+this.chartFeatureInfoSpecCode,e="{"+e+"}"}}]),e}();rX.ChartQueryFilterParameter=WZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var qZ=function(){function e(t){tl(this,e),this.queryMode=null,this.bounds=null,this.chartLayerNames=null,this.chartQueryFilterParameters=null,this.returnContent=!0,this.startRecord=0,this.expectCount=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.ChartQueryParameters"}return rl(e,[{key:"destroy",value:function(){var e=this;e.queryMode=null,e.bounds=null,e.chartLayerNames=null,e.chartQueryFilterParameters=null,e.returnContent=!0,e.startRecord=0,e.expectCount=null}},{key:"getVariablesJson",value:function(){var e="";if(e+='"queryMode":"'+this.queryMode+'",',this.chartLayerNames&&this.chartLayerNames.length){for(var t=[],n=this.chartLayerNames.length,r=0;r<n;r++)t.push('"'+this.chartLayerNames[r]+'"');e+='"chartLayerNames":'+("["+t.join(",")+"]")+","}if("ChartBoundsQuery"===this.queryMode&&this.bounds&&(e+='"bounds":{"leftBottom":{"x":'+this.bounds.left+',"y":'+this.bounds.bottom+'},"rightTop":{"x":'+this.bounds.right+',"y":'+this.bounds.top+"}},"),this.chartQueryFilterParameters&&this.chartQueryFilterParameters.length){for(var o=[],i=this.chartQueryFilterParameters.length,a=0;a<i;a++){var s=this.chartQueryFilterParameters[a];s instanceof WZ&&o.push(s.toJson())}var l="["+o.join(",")+"]";l='"chartQueryParams":'+l+",",l+='"startRecord":'+this.startRecord+",",l+='"expectCount":'+this.expectCount,l="{"+l+"}",e+='"chartQueryParameters":'+l}return e="{"+e+"}"}}]),e}();rX.ChartQueryParameters=qZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var YZ=function(){function e(t){ol(this,e),t&&(this.customParams=null,this.prjCoordSys=null,this.expectCount=1e5,this.networkType=aX.LINE,this.queryOption=sX.ATTRIBUTEANDGEOMETRY,this.queryParams=null,this.startRecord=0,this.holdTime=10,this.returnCustomResult=!1,this.returnFeatureWithFieldCaption=!1,hK.extend(this,t),this.CLASS_NAME="SuperMap.QueryParameters")}return al(e,[{key:"destroy",value:function(){var e=this;if(e.customParams=null,e.expectCount=null,e.networkType=null,e.queryOption=null,e.queryParams){for(var t=0,n=e.queryParams,r=n.length;t<r;t++)n[t].destroy();e.queryParams=null}e.startRecord=null,e.holdTime=null,e.returnCustomResult=null,e.prjCoordSys=null}}]),e}();rX.QueryParameters=YZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var QZ=function(e){function t(e,n){var r;ll(this,t),r=fl(this,pl(t).call(this,e,n)),n=n||{},r.returnContent=null,r.format=oX.GEOJSON,hK.extend(hl(r),n);var o,i=hl(r);return n.format&&(i.format=n.format.toUpperCase()),i.url?(o=i.url.substr(i.url.length-1,1),i.url+="/"===o?"queryResults.json?":"/queryResults.json?",r.CLASS_NAME="SuperMap.ChartQueryService",r):fl(r)}return yl(t,e),cl(t,[{key:"destroy",value:function(){var e=this;mZ.prototype.destroy.apply(this,arguments),e.returnContent=null,e.format=null}},{key:"processAsync",value:function(e){if(e instanceof qZ){var t,n=this;n.returnContent=e.returnContent,t=e.getVariablesJson(),n.returnContent&&(n.url+="returnContent="+n.returnContent),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"serviceProcessCompleted",value:function(e){var t=this;if((e=hK.transformResult(e))&&e.recordsets&&t.format===oX.GEOJSON)for(var n=0,r=e.recordsets,o=r.length;n<o;n++)if(r[n].features){var i=new BK;r[n].features=i.toGeoJSON(r[n].features)}t.events.triggerEvent("processCompleted",{result:e})}},{key:"getQueryParameters",value:function(e){return new YZ({queryMode:e.queryMode,bounds:e.bounds,chartLayerNames:e.chartLayerNames,chartQueryFilterParameters:e.chartQueryFilterParameters,returnContent:e.returnContent})}}]),t}(mZ);rX.ChartQueryService=QZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var XZ=function(){function e(t){vl(this,e),this.clipDatasetName=null,this.clipDatasourceName=null,this.clipRegion=null,this.isClipInRegion=!0,this.isExactClip=null,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ClipParameter"}return bl(e,[{key:"destroy",value:function(){var e=this;e.clipDatasetName=null,e.clipDatasourceName=null,e.clipRegion=null,e.isClipInRegion=null,e.isExactClip=null}},{key:"toJSON",value:function(){return hK.toJSON({isClipInRegion:this.isClipInRegion,clipDatasetName:this.clipDatasetName,clipDatasourceName:this.clipDatasourceName,isExactClip:this.isExactClip,clipRegion:GK.fromGeometry(this.clipRegion)})}}]),e}();rX.ClipParameter=XZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var KZ=function(){function e(t){gl(this,e),t=t||{},this.elevation=null,this.color=null,hK.extend(this,t);var n=this,r=n.color;r&&(n.color=new MK(r.red,r.green,r.blue)),this.CLASS_NAME="SuperMap.ColorDictionary"}return wl(e,[{key:"destroy",value:function(){hK.reset(this)}},{key:"toServerJSONObject",value:function(){var e={};return e=hK.copyAttributes(e,this)}}]),e}();rX.ColorDictionary=KZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var ZZ=function(){function e(t){Ol(this,e),t&&(this.returnEdgeFeatures=!1,this.returnEdgeGeometry=!1,this.returnEdgeIDs=!1,this.returnNodeFeatures=!1,this.returnNodeGeometry=!1,this.returnNodeIDs=!1,this.returnPathGuides=!1,this.returnRoutes=!1,hK.extend(this,t),this.CLASS_NAME="SuperMap.TransportationAnalystResultSetting")}return Pl(e,[{key:"destroy",value:function(){var e=this;e.returnEdgeFeatures=null,e.returnEdgeGeometry=null,e.returnEdgeIDs=null,e.returnNodeFeatures=null,e.returnNodeGeometry=null,e.returnNodeIDs=null,e.returnPathGuides=null,e.returnRoutes=null}}]),e}();rX.TransportationAnalystResultSetting=ZZ;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $Z=function(){function e(t){Cl(this,e),t&&(this.barrierEdgeIDs=null,this.barrierNodeIDs=null,this.barrierPoints=null,this.weightFieldName=null,this.turnWeightField=null,this.resultSetting=new ZZ,hK.extend(this,t),this.CLASS_NAME="SuperMap.TransportationAnalystParameter")}return El(e,[{key:"destroy",value:function(){var e=this;if(e.barrierEdgeIDs=null,e.barrierNodeIDs=null,e.weightFieldName=null,e.turnWeightField=null,e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null),e.barrierPoints&&e.barrierPoints.length)for(var t in e.barrierPoints)e.barrierPoints[t].destroy();e.barrierPoints=null}}]),e}();rX.TransportationAnalystParameter=$Z;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var e$=function(){function e(t){kl(this,e),this.isAnalyzeById=!1,this.nodes=null,this.parameter=new $Z,hK.extend(this,t),this.CLASS_NAME="SuperMap.ComputeWeightMatrixParameters"}return jl(e,[{key:"destroy",value:function(){var e=this;e.isAnalyzeById=null,e.nodes=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();rX.ComputeWeightMatrixParameters=e$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var t$=function(e){function t(e,n){var r;return Rl(this,t),r=Ml(this,Gl(t).call(this,e,n)),r.CLASS_NAME="SuperMap.ComputeWeightMatrixService",r}return Bl(t,e),Nl(t,[{key:"destroy",value:function(){Fl(Gl(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof e$){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"weightmatrix":"/weightmatrix")+".json?",t={parameter:hK.toJSON(e.parameter),nodes:n.getJson(e.isAnalyzeById,e.nodes)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJson",value:function(e,t){var n="[",r=t?t.length:0;if(!1===e)for(var o=0;o<r;o++)o>0&&(n+=","),n+='{"x":'+t[o].x+',"y":'+t[o].y+"}";else if(!0===e)for(var i=0;i<r;i++)i>0&&(n+=","),n+=t[i];return n+="]"}}]),t}(JZ);rX.ComputeWeightMatrixService=t$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var n$=function(e){function t(e,n){var r;Jl(this,t),n=n||{},n.EVENT_TYPES=["broadcastSocketConnected","broadcastSocketError","broadcastFailed","broadcastSucceeded","subscribeSocketConnected","subscribeSocketError","messageSucceeded","setFilterParamSucceeded"],r=Wl(this,ql(t).call(this,e,n)),r.geometry=null,r.prjCoordSys=null,r.excludeField=null;var o=Yl(r);return"/"!==o.url.substr(o.url.length-1,1)&&(o.url+="/"),hK.extend(o,n),r.CLASS_NAME="SuperMap.DataFlowService",r}return Ql(t,e),Vl(t,[{key:"initBroadcast",value:function(){var e=this;return this.broadcastWebSocket=this._connect(e.url+"broadcast"),this.broadcastWebSocket.onopen=function(t){e.broadcastWebSocket.isOpen=!0,t.eventType="broadcastSocketConnected",e.events.triggerEvent("broadcastSocketConnected",t)},this.broadcastWebSocket.onclose=function(t){e.broadcastWebSocket.isOpen=!1,t.eventType="broadcastSocketConnected",e.events.triggerEvent("broadcastSocketConnected",t)},this.broadcastWebSocket.onerror=function(t){t.eventType="broadcastSocketError",e.events.triggerEvent("broadcastSocketError",t)},this}},{key:"broadcast",value:function(e){if(!this.broadcastWebSocket||!this.broadcastWebSocket.isOpen)return void this.events.triggerEvent("broadcastFailed");this.broadcastWebSocket.send(JSON.stringify(e)),this.events.triggerEvent("broadcastSucceeded")}},{key:"initSubscribe",value:function(){var e=this;return this.subscribeWebSocket=this._connect(this.url+"subscribe"),this.subscribeWebSocket.onopen=function(t){e.subscribeWebSocket.send(e._getFilterParams()),t.eventType="subscribeSocketConnected",e.events.triggerEvent("subscribeSocketConnected",t)},this.subscribeWebSocket.onerror=function(t){t.eventType="subscribeSocketError",e.events.triggerEvent("subscribeSocketError",t)},this.subscribeWebSocket.onmessage=function(t){e._onMessage(t)},this}},{key:"setExcludeField",value:function(e){return this.excludeField=e,this.subscribeWebSocket.send(this._getFilterParams()),this}},{key:"setGeometry",value:function(e){return this.geometry=e,this.subscribeWebSocket.send(this._getFilterParams()),this}},{key:"unSubscribe",value:function(){this.subscribeWebSocket&&(this.subscribeWebSocket.close(),this.subscribeWebSocket=null)}},{key:"unBroadcast",value:function(){this.broadcastWebSocket&&(this.broadcastWebSocket.close(),this.broadcastWebSocket=null)}},{key:"destroy",value:function(){mZ.prototype.destroy.apply(this,arguments);var e=this;e.geometry=null,e.prjCoordSys=null,e.excludeField=null,this.unBroadcast(),this.unSubscribe()}},{key:"_getFilterParams",value:function(){var e={filterParam:{prjCoordSys:this.prjCoordSys,excludeField:this.excludeField,geometry:this.geometry}};return hK.toJSON(e)}},{key:"_onMessage",value:function(e){if(e.data&&e.data.indexOf("filterParam")>=0){var t=JSON.parse(e.data);return e.filterParam=t,e.eventType="setFilterParamSucceeded",void this.events.triggerEvent("setFilterParamSucceeded",e)}var n=JSON.parse(e.data);e.featureResult=n,e.eventType="messageSucceeded",this.events.triggerEvent("messageSucceeded",e)}},{key:"_connect",value:function(e){if(e=this._appendCredentials(e),"WebSocket"in window)return new WebSocket(e);if("MozWebSocket"in window){return new(0,window.MozWebSocket)(e)}return console.log("no WebSocket"),null}},{key:"_appendCredentials",value:function(e){var t=ZK.getToken(e);return t&&(e+="?token="+t),e}}]),t}(mZ);rX.DataFlowService=n$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var r$=function(){function e(t){Kl(this,e),t=t||{},this.bounds=null,this.dataSourceName=null,this.description=null,this.encodeType=null,this.isReadOnly=null,this.name=null,this.prjCoordSys=null,this.tableName=null,this.type=null,hK.extend(this,t);var n=this.bounds;n&&(this.bounds=new dK(n.leftBottom.x,n.leftBottom.y,n.rightTop.x,n.rightTop.y)),this.CLASS_NAME="SuperMap.DatasetInfo"}return $l(e,[{key:"destroy",value:function(){hK.reset(this)}},{key:"toServerJSONObject",value:function(){var e={};return e=hK.copyAttributes(e,this),e.bounds&&e.bounds.toServerJSONObject&&(e.bounds=e.bounds.toServerJSONObject()),e}}]),e}();rX.DatasetInfo=r$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var o$=function(){function e(t){eu(this,e),this.operation=RX.UNION,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.OverlayAnalystParameters"}return nu(e,[{key:"destroy",value:function(){this.operation=null}}]),e}();rX.OverlayAnalystParameters=o$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var i$=function(e){function t(e){var n;return ou(this,t),n=su(this,fu(t).call(this,e)),n.operateDataset=null,n.operateDatasetFields=[],n.operateDatasetFilter=new LZ,n.operateRegions=[],n.sourceDataset=null,n.sourceDatasetFields=[],n.sourceDatasetFilter=new LZ,n.tolerance=0,n.resultSetting=new xZ,hK.extend(lu(n),e),n.CLASS_NAME="SuperMap.DatasetOverlayAnalystParameters",n}return pu(t,e),au(t,[{key:"destroy",value:function(){uu(fu(t.prototype),"destroy",this).call(this);var e=this;if(e.operateDataset=null,e.operateDatasetFields=null,e.operateDatasetFilter&&(e.operateDatasetFilter.destroy(),e.operateDatasetFilter=null),e.operateRegions){for(var n=0,r=e.operateRegions,o=r.length;n<o;n++)r[n].destroy();e.operateRegions=null}e.sourceDataset=null,e.sourceDatasetFields=null,e.sourceDatasetFilter&&(e.sourceDatasetFilter.destroy(),e.sourceDatasetFilter=null),e.tolerance=null,e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)if("sourceDataset"!==n)if("operateRegions"===n){t.operateRegions=[];var r=e.operateRegions;for(var o in r)r.hasOwnProperty(o)&&(t.operateRegions[o]=GK.fromGeometry(r[o]))}else"resultSetting"===n?t.dataReturnOption=e.resultSetting:t[n]=e[n]}}]),t}(o$);rX.DatasetOverlayAnalystParameters=i$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var a$=function(){function e(t){yu(this,e),this.clipRegion=null,this.datumValue=0,this.expectedZValues=null,this.interval=0,this.resampleTolerance=0,this.smoothMethod=NX.BSPLINE,this.smoothness=0,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.SurfaceAnalystParametersSetting"}return vu(e,[{key:"destroy",value:function(){var e=this;e.clipRegion&&(e.clipRegion.destroy(),e.clipRegion=null),e.datumValue=null,e.expectedZValues=null,e.interval=null,e.resampleTolerance=null,e.smoothMethod=null,e.smoothness=null}},{key:"toJSON",value:function(){var e="'datumValue':"+hK.toJSON(this.datumValue);if(e+=",'interval':"+hK.toJSON(this.interval),e+=",'resampleTolerance':"+hK.toJSON(this.resampleTolerance),e+=",'smoothMethod':"+hK.toJSON(this.smoothMethod),e+=",'smoothness':"+hK.toJSON(this.smoothness),null!=this.expectedZValues&&(e+=",'expectedZValues':"+hK.toJSON(this.expectedZValues)),null!=this.clipRegion){var t=this.clipRegion;this.clipRegion instanceof vK&&this.clipRegion.components&&(t=GK.fromGeometry(this.clipRegion)),e+=",'clipRegion':"+hK.toJSON(t)}return"{"+e+"}"}}]),e}();rX.SurfaceAnalystParametersSetting=a$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var s$=function(){function e(t){mu(this,e),this.resolution=0,this.extractParameter=new a$,this.resultSetting=new xZ,this.surfaceAnalystMethod=MX.ISOLINE,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.SurfaceAnalystParameters"}return gu(e,[{key:"destroy",value:function(){var e=this;e.resolution=null,e.extractParameter&&(e.extractParameter.destroy(),e.extractParameter=null),e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null),e.surfaceAnalystMethod=null}}]),e}();rX.SurfaceAnalystParameters=s$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var l$=function(e){function t(e){var n;return wu(this,t),n=Pu(this,ku(t).call(this,e)),n.dataset=null,n.filterQueryParameter=new LZ,n.zValueFieldName=null,e&&hK.extend(Cu(n),e),n.CLASS_NAME="SuperMap.DatasetSurfaceAnalystParameters",n}return xu(t,e),_u(t,[{key:"destroy",value:function(){Tu(ku(t.prototype),"destroy",this).call(this);var e=this;e.dataset=null,e.filterQueryParameter&&(e.filterQueryParameter.destroy(),e.filterQueryParameter=null),e.zValueFieldName=null}}],[{key:"toObject",value:function(e,t){for(var n in e)if("filterQueryParameter"===n&&(t.filterQueryParameter=e.filterQueryParameter),"extractParameter"===n)e.extractParameter.clipRegion instanceof vK&&e.extractParameter.clipRegion.components&&(e.extractParameter.clipRegion=GK.fromGeometry(e.extractParameter.clipRegion)),t.extractParameter=e.extractParameter;else{if("dataset"===n)continue;if("surfaceAnalystMethod"===n)continue;t[n]=e[n]}}}]),t}(s$);rX.DatasetSurfaceAnalystParameters=l$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var u$=function(){function e(t){Au(this,e),t&&(this.clipRegion=null,this.createResultDataset=!1,this.resultDatasetName=null,this.resultDatasourceName=null,this.returnResultRegion=!0,hK.extend(this,t),this.CLASS_NAME="SuperMap.ThiessenAnalystParameters")}return Lu(e,[{key:"destroy",value:function(){var e=this;e.clipRegion&&(e.clipRegion.destroy(),e.clipRegion=null),e.createResultDataset=null,e.resultDatasetName=null,e.resultDatasourceName=null,e.returnResultRegion=null}}]),e}();rX.ThiessenAnalystParameters=u$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c$=function(e){function t(e){var n;return Mu(this,t),n=Du(this,Hu(t).call(this,e)),n.filterQueryParameter=null,n.dataset=null,e&&hK.extend(Gu(n),e),n.CLASS_NAME="SuperMap.DatasetThiessenAnalystParameters",n}return Ju(t,e),Fu(t,[{key:"destroy",value:function(){Bu(Hu(t.prototype),"destroy",this).call(this);var e=this;e.filterQueryParameter&&(e.filterQueryParameter.destroy(),e.filterQueryParameter=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"clipRegion"===n?t.clipRegion=GK.fromGeometry(e.clipRegion):t[n]=e[n]}}]),t}(u$);rX.DatasetThiessenAnalystParameters=c$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var f$=function(){function e(t){Vu(this,e),this.dataset=null,this.bounds=null,this.fieldName=null,this.resultGridDatasetResolution=null,this.searchRadius=null,this.targetDatasource=null,this.resultGridName=null,this.deleteExistResultDataset=!1,hK.extend(this,t),this.CLASS_NAME="SuperMap.DensityKernelAnalystParameters"}return qu(e,[{key:"destroy",value:function(){var e=this;e.dataset=null,e.bounds=null,e.fieldName=null,e.resultGridDatasetResolution=null,e.searchRadius=null,e.targetDatasource=null,e.resultGridName=null,e.deleteExistResultDataset=null}}],[{key:"toObject",value:function(e,t){for(var n in e)"dataset"!==n&&(t[n]=e[n])}}]),e}();rX.DensityKernelAnalystParameters=f$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var p$=function(e){function t(e,n){var r;return Qu(this,t),r=Zu(this,nc(t).call(this,e,n)),r.mode=null,n&&hK.extend($u(r),n),r.CLASS_NAME="SuperMap.DensityAnalystService",r}return rc(t,e),Ku(t,[{key:"destroy",value:function(){ec(nc(t.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(e){var t=this;"/"!==t.url.substr(t.url.length-1,1)&&(t.url+="/");var n=new Object;e instanceof f$&&(t.url+="datasets/"+e.dataset+"/densityanalyst/kernel",t.mode="kernel"),f$.toObject(e,n);var r=hK.toJSON(n);t.url+=".json?returnContent=true",t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}]),t}(PZ);rX.DensityAnalystService=p$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var h$=function(){function e(t){ic(this,e),this.dataSourceName=null,this.dataSetName=null,this.features=null,this.editType=FX.ADD,this.IDs=null,this.returnContent=!1,this.isUseBatch=!1,hK.extend(this,t),this.CLASS_NAME="SuperMap.EditFeaturesParameters"}return sc(e,[{key:"destroy",value:function(){var e=this;e.dataSourceName=null,e.dataSetName=null,e.features=null,e.editType=null,e.IDs=null,e.returnContent=null}}],[{key:"toJsonParameters",value:function(e){var t,n,r;if(e.editType===FX.DELETE){if(null===e.IDs)return;r={ids:e.IDs}}else if(r=[],e.features){n=e.features.length;for(var o=0;o<n;o++)t=e.features[o],t.geometry=GK.fromGeometry(t.geometry),r.push(t)}return hK.toJSON(r)}}]),e}();rX.EditFeaturesParameters=h$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var y$=function(e){function t(e,n){var r;uc(this,t),r=pc(this,vc(t).call(this,e,n)),r.returnContent=!1,r.isUseBatch=!1,n&&hK.extend(hc(r),n);var o,i=hc(r);return o=i.url.substr(i.url.length-1,1),i.url+="/"==o?"features.json?":"/features.json?",r.CLASS_NAME="SuperMap.EditFeaturesService",r}return mc(t,e),fc(t,[{key:"destroy",value:function(){yc(vc(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.isUseBatch=null,e.fromIndex=null,e.toIndex=null}},{key:"processAsync",value:function(e){if(e instanceof h$){var t=this,n="POST",r="",o=e.editType,i=null;t.returnContent=e.returnContent,t.isUseBatch=e.isUseBatch,i=h$.toJsonParameters(e),o===FX.DELETE?(r=hK.toJSON(e.IDs),t.url+="ids="+r,n="DELETE",i=r):o===FX.UPDATE?n="PUT":(t.isUseBatch&&(t.url+="isUseBatch="+t.isUseBatch,t.returnContent=!1),t.returnContent&&(t.url+="returnContent="+t.returnContent,n="POST")),t.request({method:n,data:i,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}]),t}(mZ);rX.EditFeaturesService=y$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var d$=function(){function e(t){gc(this,e),this.edgeID=null,this.nodeID=null,this.weightName=null,this.isUncertainDirectionValid=!1,hK.extend(this,t),this.CLASS_NAME="SuperMap.FacilityAnalyst3DParameters"}return wc(e,[{key:"destroy",value:function(){var e=this;e.edgeID=null,e.nodeID=null,e.weightName=null,e.isUncertainDirectionValid=null}}]),e}();rX.FacilityAnalyst3DParameters=d$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var v$=function(e){function t(e){var n;return _c(this,t),n=Tc(this,jc(t).call(this,e)),n.CLASS_NAME="SuperMap.FacilityAnalystSinks3DParameters",n}return Ac(t,e),Cc(t,[{key:"destroy",value:function(){kc(jc(t.prototype),"destroy",this).call(this)}}]),t}(d$);rX.FacilityAnalystSinks3DParameters=v$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var m$=function(e){function t(e,n){var r;return Nc(this,t),r=Fc(this,Gc(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystSinks3DService",r}return Bc(t,e),Ic(t,[{key:"destroy",value:function(){mZ.prototype.destroy.apply(this,arguments)}},{key:"processAsync",value:function(e){if(e instanceof v$){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"sinks":"/sinks")+".json?",t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(mZ);rX.FacilityAnalystSinks3DService=m$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b$=function(e){function t(e){var n;return Jc(this,t),n=Wc(this,Xc(t).call(this,e)),n.CLASS_NAME="SuperMap.FacilityAnalystSources3DParameters",n}return Kc(t,e),Vc(t,[{key:"destroy",value:function(){Yc(Xc(t.prototype),"destroy",this).call(this)}}]),t}(d$);rX.FacilityAnalystSources3DParameters=b$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var g$=function(e){function t(e,n){var r;return ef(this,t),r=rf(this,lf(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystSources3DService",r}return uf(t,e),nf(t,[{key:"destroy",value:function(){af(lf(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof b$){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"sources":"/sources")+".json?",t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(mZ);rX.FacilityAnalystSources3DService=g$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var S$=function(){function e(t){ff(this,e),this.sourceNodeIDs=null,this.edgeID=null,this.nodeID=null,this.isUncertainDirectionValid=!1,this.queryType=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.FacilityAnalystStreamParameters"}return hf(e,[{key:"destroy",value:function(){var e=this;e.edgeID=null,e.nodeID=null,e.weightName=null,e.isUncertainDirectionValid=null,e.type=null}}]),e}();rX.FacilityAnalystStreamParameters=S$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var w$=function(e){function t(e,n){var r;return df(this,t),r=bf(this,Of(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystStreamService",r}return _f(t,e),mf(t,[{key:"destroy",value:function(){Sf(Of(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof S$){var t,n=this,r=n.url.substr(n.url.length-1,1);if(0===e.queryType)n.url=n.url+("/"===r?"upstreamcirticalfaclilities":"/upstreamcirticalfaclilities")+".json?";else{if(1!==e.queryType)return;n.url=n.url+("/"===r?"downstreamcirticalfaclilities":"/downstreamcirticalfaclilities")+".json?"}t={sourceNodeIDs:e.sourceNodeIDs,isUncertainDirectionValid:e.isUncertainDirectionValid},null!==e.edgeID&&null!==e.nodeID||null===e.edgeID&&null===e.nodeID||(null!==e.edgeID?t.edgeID=e.edgeID:t.nodeID=e.nodeID,n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed}))}}}]),t}(JZ);rX.FacilityAnalystStreamService=w$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var O$=function(e){function t(e){var n;return Tf(this,t),n=xf(this,Lf(t).call(this,e)),n.CLASS_NAME="SuperMap.FacilityAnalystTracedown3DParameters",n}return Nf(t,e),kf(t,[{key:"destroy",value:function(){Af(Lf(t.prototype),"destroy",this).call(this)}}]),t}(d$);rX.FacilityAnalystTracedown3DParameters=O$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _$=function(e){function t(e,n){var r;return Ff(this,t),r=Bf(this,zf(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystTracedown3DService",r}return Vf(t,e),Gf(t,[{key:"destroy",value:function(){Hf(zf(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof O$){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"tracedownresult":"/tracedownresult")+".json?",t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(mZ);rX.FacilityAnalystTracedown3DService=_$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P$=function(e){function t(e){var n;return Yf(this,t),n=Kf(this,tp(t).call(this,e)),n.CLASS_NAME="SuperMap.FacilityAnalystTraceup3DParameters",n}return np(t,e),Xf(t,[{key:"destroy",value:function(){$f(tp(t.prototype),"destroy",this).call(this)}}]),t}(d$);rX.FacilityAnalystTraceup3DParameters=P$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var C$=function(e){function t(e,n){var r;return ip(this,t),r=lp(this,pp(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystTraceup3DService",r}return hp(t,e),sp(t,[{key:"destroy",value:function(){cp(pp(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof P$){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"traceupresult":"/traceupresult")+".json?",t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(mZ);rX.FacilityAnalystTraceup3DService=C$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var T$=function(e){function t(e){var n;return vp(this,t),n=gp(this,_p(t).call(this,e)),e=e||{},n.sourceNodeIDs=null,hK.extend(Sp(n),e),n.CLASS_NAME="SuperMap.FacilityAnalystUpstream3DParameters",n}return Pp(t,e),bp(t,[{key:"destroy",value:function(){wp(_p(t.prototype),"destroy",this).call(this),this.sourceNodeIDs=null}}]),t}(d$);rX.FacilityAnalystUpstream3DParameters=T$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var E$=function(e){function t(e,n){var r;return Ep(this,t),r=jp(this,Np(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystUpstream3DService",r}return Mp(t,e),xp(t,[{key:"destroy",value:function(){Rp(Np(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof T$){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"upstreamcirticalfaclilities":"/upstreamcirticalfaclilities")+".json?",t={sourceNodeIDs:e.sourceNodeIDs,edgeID:e.edgeID,nodeID:e.nodeID,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(mZ);rX.FacilityAnalystUpstream3DService=E$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var k$=function(e){function t(e){var n;return Dp(this,t),n=Up(this,Vp(t).call(this,e)),n.filterParam=null,n.aggType=oK.FILTER,n.CLASS_NAME="SuperMap.FilterAggParameter",hK.extend(Hp(n),e),n}return Wp(t,e),Bp(t,[{key:"destroy",value:function(){Jp(Vp(t.prototype),"destroy",this).call(this);var e=this;e.filterParam&&(e.filterParam=null)}}]),t}(OZ);rX.FilterAggParameter=k$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var x$=function(){function e(t){Yp(this,e),this.datasource=null,this.dataset=null,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.FieldParameters"}return Xp(e,[{key:"destroy",value:function(){var e=this;e.datasource=null,e.dataset=null}}]),e}();rX.FieldParameters=x$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var j$=function(e){function t(e){var n;return Zp(this,t),n=th(this,nh(t).call(this,e)),n.fieldName=null,n.statisticMode=null,e&&hK.extend(rh(n),e),n.CLASS_NAME="SuperMap.FieldStatisticsParameters",n}return oh(t,e),eh(t,[{key:"destroy",value:function(){var e=this;e.fieldName=null,e.statisticMode=null}}]),t}(x$);rX.FieldStatisticsParameters=j$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var A$=function(e){function t(e,n){var r;return sh(this,t),r=ch(this,yh(t).call(this,e,n)),r.datasource=null,r.dataset=null,r.field=null,r.statisticMode=null,n&&hK.extend(fh(r),n),r.CLASS_NAME="SuperMap.FieldStatisticService",r}return dh(t,e),uh(t,[{key:"destroy",value:function(){ph(yh(t.prototype),"destroy",this).call(this);var e=this;e.datasource=null,e.dataset=null,e.field=null,e.statisticMode=null}},{key:"processAsync",value:function(){var e=this,t=e.url.substr(e.url.length-1,1),n="datasources/"+e.datasource+"/datasets/"+e.dataset+"/fields/"+e.field+"/"+e.statisticMode;e.url+="/"==t?n+".json?":"/"+n+".json?",e.request({method:"GET",data:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}]),t}(mZ);rX.FieldStatisticService=A$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var R$=function(){function e(t){mh(this,e),this.event=null,this.expectFacilityCount=1,this.facilities=null,this.fromEvent=!1,this.isAnalyzeById=!1,this.maxWeight=0,this.parameter=new $Z,hK.extend(this,t),this.CLASS_NAME="SuperMap.FindClosestFacilitiesParameters"}return gh(e,[{key:"destroy",value:function(){var e=this;e.event=null,e.expectFacilityCount=null,e.facilities=null,e.fromEvent=null,e.isAnalyzeById=null,e.maxWeight=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();rX.FindClosestFacilitiesParameters=R$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var L$=function(e){function t(e,n){var r;return wh(this,t),r=Ph(this,kh(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindClosestFacilitiesService",r}return xh(t,e),_h(t,[{key:"destroy",value:function(){Th(kh(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof R$){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"closestfacility":"/closestfacility")+".json?",t={expectFacilityCount:e.expectFacilityCount,fromEvent:e.fromEvent,maxWeight:e.maxWeight,parameter:hK.toJSON(e.parameter),event:hK.toJSON(e.event),facilities:n.getJson(e.isAnalyzeById,e.facilities)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJson",value:function(e,t){var n="[",r=t?t.length:0;if(!1===e)for(var o=0;o<r;o++)o>0&&(n+=","),n+='{"x":'+t[o].x+',"y":'+t[o].y+"}";else if(!0===e)for(var i=0;i<r;i++)i>0&&(n+=","),n+=t[i];return n+="]"}},{key:"toGeoJSONResult",value:function(e){if(!e||!e.facilityPathList)return e;var t=new BK;return e.facilityPathList.map(function(e){return e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures)),e}),e}}]),t}(JZ);rX.FindClosestFacilitiesService=L$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var N$=function(){function e(t){Ah(this,e),this.expectedSupplyCenterCount=null,this.isFromCenter=!1,this.supplyCenters=null,this.turnWeightField=null,this.weightName=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.FindLocationParameters"}return Lh(e,[{key:"destroy",value:function(){var e=this;if(e.expectedSupplyCenterCount=null,e.isFromCenter=null,e.turnWeightField=null,e.weightName=null,e.supplyCenters){for(var t=0,n=e.supplyCenters,r=n.length;t<r;t++)n[t].destroy();e.supplyCenters=null}}}]),e}();rX.FindLocationParameters=N$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var M$=function(e){function t(e,n){var r;return Mh(this,t),r=Dh(this,Hh(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindLocationService",r}return Jh(t,e),Fh(t,[{key:"destroy",value:function(){Bh(Hh(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof N$){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"location":"/location")+".json?",t={isFromCenter:e.isFromCenter,expectedSupplyCenterCount:e.expectedSupplyCenterCount,weightName:e.weightName,turnWeightField:e.turnWeightField,returnEdgeFeature:!0,returnEdgeGeometry:!0,returnNodeFeature:!0,mapParameter:hK.toJSON(e.mapParameter),supplyCenters:n.getCentersJson(e.supplyCenters)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getCentersJson",value:function(e){for(var t="[",n=e?e.length:0,r=0;r<n;r++)r>0&&(t+=","),t+=hK.toJSON(e[r]);return t+="]"}},{key:"toGeoJSONResult",value:function(e){if(!e)return null;var t=new BK;return e.demandResults&&(e.demandResults=t.toGeoJSON(e.demandResults)),e.supplyResults&&(e.supplyResults=t.toGeoJSON(e.supplyResults)),e}}]),t}(JZ);rX.FindLocationService=M$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var I$=function(){function e(t){Vh(this,e),this.centers=null,this.hasLeastTotalCost=!1,this.isAnalyzeById=!1,this.nodes=null,this.parameter=new $Z,hK.extend(this,t),this.CLASS_NAME="SuperMap.FindMTSPPathsParameters"}return qh(e,[{key:"destroy",value:function(){var e=this;e.centers=null,e.hasLeastTotalCost=null,e.isAnalyzeById=null,e.nodes=null,e.maxWeight=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();rX.FindMTSPPathsParameters=I$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var F$=function(e){function t(e,n){var r;return Qh(this,t),r=Zh(this,ny(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindMTSPPathsService",r}return ry(t,e),Kh(t,[{key:"destroy",value:function(){ey(ny(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof I$){var t,n=this,r=n.getJson(e.isAnalyzeById,e.centers),o=n.getJson(e.isAnalyzeById,e.nodes);n.url=n.url+"/mtsppath.json?",t={centers:r,nodes:o,parameter:hK.toJSON(e.parameter),hasLeastTotalCost:e.hasLeastTotalCost},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJson",value:function(e,t){var n="[",r=t?t.length:0;if(!1===e)for(var o=0;o<r;o++)o>0&&(n+=","),n+='{"x":'+t[o].x+',"y":'+t[o].y+"}";else if(!0===e)for(var i=0;i<r;i++)i>0&&(n+=","),n+=t[i];return n+="]"}},{key:"toGeoJSONResult",value:function(e){if(!e||!e.pathList)return null;var t=new BK;return e.pathList.map(function(e){return e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures)),e}),e}}]),t}(JZ);rX.FindMTSPPathsService=F$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var D$=function(){function e(t){iy(this,e),this.isAnalyzeById=!1,this.hasLeastEdgeCount=null,this.nodes=null,this.parameter=new $Z,hK.extend(this,t),this.CLASS_NAME="SuperMap.FindPathParameters"}return sy(e,[{key:"destroy",value:function(){var e=this;e.isAnalyzeById=null,e.hasLeastEdgeCount=null,e.nodes=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();rX.FindPathParameters=D$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var G$=function(e){function t(e,n){var r;return uy(this,t),r=py(this,vy(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindPathService",r}return my(t,e),fy(t,[{key:"destroy",value:function(){yy(vy(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof D$){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"path":"/path")+".json?",t={hasLeastEdgeCount:e.hasLeastEdgeCount,parameter:hK.toJSON(e.parameter),nodes:n.getJson(e.isAnalyzeById,e.nodes)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJson",value:function(e,t){var n="[",r=t?t.length:0;if(!1===e)for(var o=0;o<r;o++)o>0&&(n+=","),n+='{"x":'+t[o].x+',"y":'+t[o].y+"}";else if(!0===e)for(var i=0;i<r;i++)i>0&&(n+=","),n+=t[i];return n+="]"}},{key:"toGeoJSONResult",value:function(e){if(!e||!e.pathList||e.pathList.length<1)return null;var t=new BK;return e.pathList.forEach(function(e){e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures))}),e}}]),t}(JZ);rX.FindPathService=G$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var B$=function(){function e(t){gy(this,e),this.isAnalyzeById=!1,this.isCenterMutuallyExclusive=!1,this.centers=null,this.isFromCenter=!1,this.weights=null,this.parameter=new $Z,hK.extend(this,t),this.CLASS_NAME="SuperMap.FindServiceAreasParameters"}return wy(e,[{key:"destroy",value:function(){var e=this;e.isAnalyzeById=null,e.isCenterMutuallyExclusive=null,e.centers=null,e.isFromCenter=null,e.weights=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();rX.FindServiceAreasParameters=B$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var U$=function(e){function t(e,n){var r;return _y(this,t),r=Ty(this,jy(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindServiceAreasService",r}return Ay(t,e),Cy(t,[{key:"destroy",value:function(){ky(jy(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof B$){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"servicearea":"/servicearea")+".json?",t={isFromCenter:e.isFromCenter,isCenterMutuallyExclusive:e.isCenterMutuallyExclusive,parameter:hK.toJSON(e.parameter),centers:n.getJson(e.isAnalyzeById,e.centers),weights:n.getJson(!0,e.weights)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJson",value:function(e,t){var n="[",r=t?t.length:0;if(!1===e)for(var o=0;o<r;o++)o>0&&(n+=","),n+='{"x":'+t[o].x+',"y":'+t[o].y+"}";else if(!0===e)for(var i=0;i<r;i++)i>0&&(n+=","),n+=t[i];return n+="]"}},{key:"toGeoJSONResult",value:function(e){if(!e||!e.serviceAreaList)return e;var t=new BK;return e.serviceAreaList.map(function(e){return e.serviceRegion&&(e.serviceRegion=t.toGeoJSON(e.serviceRegion)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures)),e.routes&&(e.routes=t.toGeoJSON(e.routes)),e}),e}}]),t}(JZ);rX.FindServiceAreasService=U$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var H$=function(){function e(t){Ly(this,e),this.endNodeAssigned=!1,this.isAnalyzeById=!1,this.nodes=null,this.parameter=new $Z,hK.extend(this,t),this.CLASS_NAME="SuperMap.FindTSPPathsParameters"}return My(e,[{key:"destroy",value:function(){var e=this;e.endNodeAssigned=null,e.isAnalyzeById=null,e.nodes=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();rX.FindTSPPathsParameters=H$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var J$=function(e){function t(e,n){var r;return Fy(this,t),r=By(this,zy(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindTSPPathsService",r}return Vy(t,e),Gy(t,[{key:"destroy",value:function(){Hy(zy(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof H$){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"tsppath":"/tsppath")+".json?",t={parameter:rX.Util.toJSON(e.parameter),endNodeAssigned:e.endNodeAssigned,nodes:n.getNodesJson(e)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getNodesJson",value:function(e){var t,n,r,o,i="";if(!1===e.isAnalyzeById){for(t="[",n=0,o=e.nodes,r=o.length;n<r;n++)n>0&&(t+=","),t+='{"x":'+o[n].x+',"y":'+o[n].y+"}";t+="]",i+=t}else if(!0===e.isAnalyzeById){for(var a="[",s=e.nodes,l=s.length,u=0;u<l;u++)u>0&&(a+=","),a+=s[u];a+="]",i+=a}return i}},{key:"toGeoJSONResult",value:function(e){if(!e||!e.tspPathList)return null;var t=new BK;return e.tspPathList.forEach(function(e){e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures))}),e}}]),t}(JZ);rX.FindTSPPathsService=J$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var z$=function(){function e(t){qy(this,e),this.routeTable=null,this.routeIDField=null,this.attributeFilter=null,this.eventTable=null,this.eventRouteIDField=null,this.measureField=null,this.measureStartField=null,this.measureEndField=null,this.measureOffsetField=null,this.errorInfoField=null,this.retainedFields=null,this.dataReturnOption=null,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.GenerateSpatialDataParameters"}return Qy(e,[{key:"destroy",value:function(){var e=this;e.routeTable&&(e.routeTable=null),e.routeIDField=null,e.attributeFilter=null,e.eventTable=null,e.eventRouteIDField=null,e.measureField=null,e.measureStartField=null,e.measureEndField=null,e.measureOffsetField=null,e.errorInfoField=null,e.dataReturnOption&&(e.dataReturnOption.destroy(),e.dataReturnOption=null)}}]),e}();rX.GenerateSpatialDataParameters=z$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var V$=function(e){function t(e,n){var r;return Ky(this,t),r=ed(this,od(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GenerateSpatialDataService",r}return id(t,e),$y(t,[{key:"destroy",value:function(){nd(od(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof z$){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(e){var t,n="datasets/"+e.routeTable+"/linearreferencing/generatespatialdata",r=this;return t=r.url.substr(r.url.length-1,1),r.url+="/"===t?n+".json":"/"+n+".json",r.url+="?returnContent=true",hK.toJSON(e)}}]),t}(PZ);rX.GenerateSpatialDataService=V$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var W$=function(e){function t(e){var n;return ld(this,t),n=fd(this,dd(t).call(this,e)),n.bounds=null,n.queryType=iK.GEO_BOUNDING_BOX,n.CLASS_NAME="SuperMap.GeoBoundingBoxQueryBuilderParameter",hK.extend(pd(n),e),n}return vd(t,e),cd(t,[{key:"destroy",value:function(){hd(dd(t.prototype),"destroy",this).call(this),this.bounds=null,this.queryType=null}}]),t}(wZ);rX.GeoBoundingBoxQueryBuilderParameter=W$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var q$=function(e){function t(e){var n;return gd(this,t),n=Od(this,Td(t).call(this,e)),n.precision=5,n.aggType=oK.GEOHASH_GRID,hK.extend(_d(n),e),n.CLASS_NAME="SuperMap.GeoHashGridAggParameter",n}return Ed(t,e),wd(t,[{key:"destroy",value:function(){Pd(Td(t.prototype),"destroy",this).call(this),this.aggType=null}}],[{key:"toJsonParameters",value:function(e){var t={aggName:e.aggName,aggFieldName:e.aggFieldName,aggType:e.aggType,precision:e.precision};return e.subAgg&&(t.subAgg=e.subAgg),hK.toJson(t)}}]),t}(OZ);rX.GeoHashGridAggParameter=q$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Y$=function(e){function t(e){var n;return jd(this,t),n=Ld(this,Fd(t).call(this,e)),e&&e.operateGeometry&&(n.operateGeometry=e.operateGeometry),e&&e.sourceGeometry&&(n.sourceGeometry=e.sourceGeometry),e&&e.operateGeometries&&(n.operateGeometries=e.operateGeometries),e&&e.sourceGeometries&&(n.sourceGeometries=e.sourceGeometries),e&&hK.extend(Nd(n),e),n.CLASS_NAME="SuperMap.GeometryOverlayAnalystParameters",n}return Dd(t,e),Rd(t,[{key:"destroy",value:function(){Md(Fd(t.prototype),"destroy",this).call(this);var e=this;e.sourceGeometry&&(e.sourceGeometry.destroy(),e.sourceGeometry=null),e.sourceGeometries&&(e.sourceGeometries.destroy(),e.sourceGeometries=null),e.sourceGeometry&&(e.sourceGeometry.destroy(),e.sourceGeometry=null),e.operateGeometries&&(e.operateGeometries.destroy(),e.operateGeometries=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)if("sourceGeometry"===n)t.sourceGeometry=GK.fromGeometry(e.sourceGeometry);else if("sourceGeometries"===n){for(var r=[],o=0;o<e.sourceGeometries.length;o++)r.push(GK.fromGeometry(e.sourceGeometries[o]));t.sourceGeometries=r}else if("operateGeometry"===n)t.operateGeometry=GK.fromGeometry(e.operateGeometry);else if("operateGeometries"===n){for(var i=[],a=0;a<e.operateGeometries.length;a++)i.push(GK.fromGeometry(e.operateGeometries[a]));t.operateGeometries=i}else t[n]=e[n]}}]),t}(o$);rX.GeometryOverlayAnalystParameters=Y$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Q$=function(e){function t(e){var n;return Ud(this,t),n=zd(this,Yd(t).call(this,e)),n.points=null,n.zValues=null,e&&hK.extend(Vd(n),e),n.CLASS_NAME="SuperMap.GeometrySurfaceAnalystParameters",n}return Qd(t,e),Jd(t,[{key:"destroy",value:function(){Wd(Yd(t.prototype),"destroy",this).call(this);var e=this;if(e.points){for(var n=0,r=e.points,o=r.length;n<o;n++)r[n].destroy();e.points=null}e.zValues=null}}]),t}(s$);rX.GeometrySurfaceAnalystParameters=Q$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var X$=function(e){function t(e){var n;return Zd(this,t),n=tv(this,iv(t).call(this,e)),n.points=null,e&&hK.extend(nv(n),e),n.CLASS_NAME="SuperMap.GeometryThiessenAnalystParameters",n}return av(t,e),ev(t,[{key:"destroy",value:function(){rv(iv(t.prototype),"destroy",this).call(this);var e=this;if(e.points){for(var n=e.points.length-1;n>=0;n--)e.points[n].destroy();e.points=null}}}],[{key:"toObject",value:function(e,t){for(var n in e)"clipRegion"===n?t.clipRegion=GK.fromGeometry(e.clipRegion):t[n]=e[n]}}]),t}(u$);rX.GeometryThiessenAnalystParameters=X$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var K$=function(){function e(t){lv(this,e),this.dataset=null,this.sourceFilter=null,this.referenceFilter=null,this.spatialRelationType=null,this.isBorderInside=null,this.returnFeature=null,this.returnGeoRelatedOnly=null,this.startRecord=0,this.expectCount=500,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.GeoRelationAnalystParameters"}return cv(e,[{key:"destroy",value:function(){var e=this;e.sourceFilter&&e.sourceFilter.destroy(),e.sourceFilter=null,e.referenceFilter&&e.referenceFilter.destroy(),e.referenceFilter=null,e.dataset=null,e.spatialRelationType=null,e.isBorderInside=null,e.returnFeature=null,e.returnGeoRelatedOnly=null,e.startRecord=null,e.expectCount=null}}]),e}();rX.GeoRelationAnalystParameters=K$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Z$=function(e){function t(e,n){var r;return pv(this,t),r=dv(this,gv(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GeoRelationAnalystService",r}return Sv(t,e),yv(t,[{key:"destroy",value:function(){mv(gv(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof K$){var t=this,n=t.url.substr(t.url.length-1,1);t.url+="/"===n?"datasets/"+e.dataset+"/georelation":"/datasets/"+e.dataset+"/georelation";var r=rX.Util.toJSON(e);t.url+=".json?returnContent=true",t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}]),t}(PZ);rX.GeoRelationAnalystService=Z$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $$=function(){function e(t){Ov(this,e),this.datasetNames=null,this.returnContent=!0,this.fromIndex=0,this.toIndex=19,this.returnCountOnly=!1,this.maxFeatures=null,this.aggregations=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.GetFeaturesParametersBase"}return Pv(e,[{key:"destroy",value:function(){var e=this;e.datasetNames=null,e.returnContent=null,e.fromIndex=null,e.toIndex=null,e.maxFeatures=null,e.aggregation&&(e.aggregation=null)}}]),e}();rX.GetFeaturesParametersBase=$$;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var e0=function(e){function t(e){var n;return Tv(this,t),n=xv(this,Lv(t).call(this,e)),n.getFeatureMode=t.getFeatureMode.BOUNDS,n.bounds=null,n.fields=null,n.attributeFilter=null,n.spatialQueryMode=uX.CONTAIN,hK.extend(jv(n),e),n.CLASS_NAME="SuperMap.GetFeaturesByBoundsParameters",n}return Nv(t,e),kv(t,[{key:"destroy",value:function(){Av(Lv(t.prototype),"destroy",this).call(this);var e=this;if(e.bounds&&(e.bounds.destroy(),e.bounds=null),e.fields){for(;e.fields.length>0;)e.fields.pop();e.fields=null}e.attributeFilter=null,e.spatialQueryMode=null,e.getFeatureMode=null}}],[{key:"toJsonParameters",value:function(e){var n,r,o;return r={leftBottom:{x:e.bounds.left,y:e.bounds.bottom},rightTop:{x:e.bounds.right,y:e.bounds.top}},o={datasetNames:e.datasetNames,getFeatureMode:t.getFeatureMode.BOUNDS,bounds:r,spatialQueryMode:e.spatialQueryMode},e.fields&&(n=new LZ,n.name=e.datasetNames,n.fields=e.fields,o.queryParameter=n),e.attributeFilter&&(o.attributeFilter=e.attributeFilter,o.getFeatureMode=t.getFeatureMode.BOUNDS_ATTRIBUTEFILTER),e.maxFeatures&&!isNaN(e.maxFeatures)&&(o.maxFeatures=e.maxFeatures),hK.toJSON(o)}}]),t}($$);e0.getFeatureMode={BOUNDS:"BOUNDS",BOUNDS_ATTRIBUTEFILTER:"BOUNDS_ATTRIBUTEFILTER"},rX.GetFeaturesByBoundsParameters=e0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var t0=function(e){function t(e,n){var r;Fv(this,t),r=Bv(this,zv(t).call(this,e,n)),n=n||{},r.returnContent=!0,r.fromIndex=0,r.toIndex=19,r.maxFeatures=null,r.format=oX.GEOJSON,hK.extend(Uv(r),n);var o,i=Uv(r);return n.format&&(i.format=n.format.toUpperCase()),o=i.url.substr(i.url.length-1,1),i.url+="/"==o?"featureResults.json?":"/featureResults.json?",r.CLASS_NAME="SuperMap.GetFeaturesServiceBase",r}return Vv(t,e),Gv(t,[{key:"destroy",value:function(){Hv(zv(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.fromIndex=null,e.toIndex=null,e.maxFeatures=null,e.format=null}},{key:"processAsync",value:function(e){if(e){var t=this,n=null,r=!0;t.returnContent=e.returnContent,t.fromIndex=e.fromIndex,t.toIndex=e.toIndex,t.maxFeatures=e.maxFeatures,t.returnContent&&(t.url+="returnContent="+t.returnContent,r=!1);null!=t.fromIndex&&null!=t.toIndex&&!isNaN(t.fromIndex)&&!isNaN(t.toIndex)&&t.fromIndex>=0&&t.toIndex>=0&&!r&&(t.url+="&fromIndex="+t.fromIndex+"&toIndex="+t.toIndex),e.returnCountOnly&&(t.url+="&returnCountOnly="+e.returnContent),n=t.getJsonParameters(e),t.request({method:"POST",data:n,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}},{key:"serviceProcessCompleted",value:function(e){var t=this;if(e=hK.transformResult(e),t.format===oX.GEOJSON&&e.features){var n=new BK;e.features=n.toGeoJSON(e.features)}t.events.triggerEvent("processCompleted",{result:e})}}]),t}(mZ);rX.GetFeaturesServiceBase=t0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var n0=function(e){function t(e,n){var r;return Yv(this,t),r=Kv(this,tm(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GetFeaturesByBoundsService",r}return nm(t,e),Xv(t,[{key:"destroy",value:function(){$v(tm(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){return e0.toJsonParameters(e)}}]),t}(t0);rX.GetFeaturesByBoundsService=n0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var r0=function(e){function t(e){var n;return im(this,t),n=lm(this,pm(t).call(this,e)),n.bufferDistance=null,n.attributeFilter=null,n.geometry=null,n.fields=null,hK.extend(um(n),e),n.CLASS_NAME="SuperMap.GetFeaturesByBufferParameters",n}return hm(t,e),sm(t,[{key:"destroy",value:function(){cm(pm(t.prototype),"destroy",this).call(this);var e=this;if(e.bufferDistance=null,e.attributeFilter=null,e.fields){for(;e.fields.length>0;)e.fields.pop();e.fields=null}e.geometry&&(e.geometry.destroy(),e.geometry=null)}}],[{key:"toJsonParameters",value:function(e){var t,n,r;return r=GK.fromGeometry(e.geometry),n={datasetNames:e.datasetNames,getFeatureMode:"BUFFER",bufferDistance:e.bufferDistance,geometry:r},e.fields&&(t=new LZ,t.name=e.datasetNames,t.fields=e.fields,n.queryParameter=t),e.attributeFilter&&(n.attributeFilter=e.attributeFilter,n.getFeatureMode="BUFFER_ATTRIBUTEFILTER"),e.maxFeatures&&!isNaN(e.maxFeatures)&&(n.maxFeatures=e.maxFeatures),hK.toJSON(n)}}]),t}($$);rX.GetFeaturesByBufferParameters=r0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var o0=function(e){function t(e,n){var r;return vm(this,t),r=gm(this,_m(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GetFeaturesByBufferService",r}return Pm(t,e),bm(t,[{key:"destroy",value:function(){wm(_m(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){if(e instanceof r0)return rX.GetFeaturesByBufferParameters.toJsonParameters(e)}}]),t}(t0);rX.GetFeaturesByBufferService=o0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var i0=function(e){function t(e){var n;return Em(this,t),n=jm(this,Nm(t).call(this,e)),n.getFeatureMode="SPATIAL",n.geometry=null,n.fields=null,n.attributeFilter=null,n.spatialQueryMode=uX.CONTAIN,hK.extend(Am(n),e),n.CLASS_NAME="SuperMap.GetFeaturesByGeometryParameters",n}return Mm(t,e),xm(t,[{key:"destroy",value:function(){Rm(Nm(t.prototype),"destroy",this).call(this);var e=this;if(e.geometry&&(e.geometry.destroy(),e.geometry=null),e.fields){for(;e.fields.length>0;)e.fields.pop();e.fields=null}e.attributeFilter=null,e.spatialQueryMode=null,e.getFeatureMode=null}}],[{key:"toJsonParameters",value:function(e){var t,n,r;return n=GK.fromGeometry(e.geometry),r={datasetNames:e.datasetNames,getFeatureMode:"SPATIAL",geometry:n,spatialQueryMode:e.spatialQueryMode},e.fields&&(t=new LZ,t.name=e.datasetNames,t.fields=e.fields,r.queryParameter=t),e.attributeFilter&&(r.attributeFilter=e.attributeFilter,r.getFeatureMode="SPATIAL_ATTRIBUTEFILTER"),e.maxFeatures&&!isNaN(e.maxFeatures)&&(r.maxFeatures=e.maxFeatures),hK.toJSON(r)}}]),t}($$);rX.GetFeaturesByGeometryParameters=i0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var a0=function(e){function t(e,n){var r;return Dm(this,t),r=Um(this,Vm(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GetFeaturesByGeometryService",r}return Wm(t,e),Bm(t,[{key:"destroy",value:function(){Jm(Vm(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){return i0.toJsonParameters(e)}}]),t}(t0);rX.GetFeaturesByGeometryService=a0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var s0=function(e){function t(e){var n;return Qm(this,t),n=Zm(this,nb(t).call(this,e)),n.getFeatureMode="ID",n.IDs=null,n.fields=null,hK.extend($m(n),e),n.CLASS_NAME="SuperMap.GetFeaturesByIDsParameters",n}return rb(t,e),Km(t,[{key:"destroy",value:function(){eb(nb(t.prototype),"destroy",this).call(this);var e=this;if(e.IDs=null,e.getFeatureMode=null,e.fields){for(;e.fields.length>0;)e.fields.pop();e.fields=null}}}],[{key:"toJsonParameters",value:function(e){var t,n;return t={datasetNames:e.datasetNames,getFeatureMode:"ID",ids:e.IDs},e.fields&&(n=new LZ,n.name=e.datasetNames,n.fields=e.fields,t.queryParameter=n),hK.toJSON(t)}}]),t}($$);rX.GetFeaturesByIDsParameters=s0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var l0=function(e){function t(e,n){var r;return ab(this,t),r=ub(this,hb(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GetFeaturesByIDsService",r}return yb(t,e),lb(t,[{key:"destroy",value:function(){fb(hb(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){return s0.toJsonParameters(e)}}]),t}(t0);rX.GetFeaturesByIDsService=l0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var u0=function(e){function t(e){var n;return mb(this,t),n=Sb(this,Pb(t).call(this,e)),n.getFeatureMode="SQL",n.queryParameter=null,hK.extend(wb(n),e),n.CLASS_NAME="SuperMap.GetFeaturesBySQLParameters",n}return Cb(t,e),gb(t,[{key:"destroy",value:function(){Ob(Pb(t.prototype),"destroy",this).call(this);var e=this;e.getFeatureMode=null,e.queryParameter&&(e.queryParameter.destroy(),e.queryParameter=null)}}],[{key:"toJsonParameters",value:function(e){var t={datasetNames:e.datasetNames,getFeatureMode:"SQL",queryParameter:e.queryParameter};return e.maxFeatures&&!isNaN(e.maxFeatures)&&(t.maxFeatures=e.maxFeatures),e.aggregations&&(t.aggregations=e.aggregations),hK.toJSON(t)}}]),t}($$);rX.GetFeaturesBySQLParameters=u0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c0=function(e){function t(e,n){var r;return kb(this,t),r=Ab(this,Mb(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GetFeaturesBySQLService",r}return Ib(t,e),jb(t,[{key:"destroy",value:function(){Lb(Mb(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){return u0.toJsonParameters(e)}}]),t}(t0);rX.GetFeaturesBySQLService=c0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var f0=function(e){function t(e,n){var r;return Gb(this,t),r=Hb(this,Wb(t).call(this,e,n)),r.datasource=null,r.dataset=null,n&&hK.extend(Jb(r),n),r.CLASS_NAME="SuperMap.GetFieldsService",r}return qb(t,e),Ub(t,[{key:"destroy",value:function(){zb(Wb(t.prototype),"destroy",this).call(this);var e=this;e.datasource=null,e.dataset=null}},{key:"processAsync",value:function(){var e=this,t=e.url.substr(e.url.length-1,1),n="datasources/"+e.datasource+"/datasets/"+e.dataset;e.url+="/"==t?n+"/fields.json?":"/"+n+"/fields.json?",e.request({method:"GET",data:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}]),t}(mZ);rX.GetFieldsService=f0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var p0=function(){function e(t){Qb(this,e),this.datasetName=null,this.dataSourceName=null,this.X=null,this.Y=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.GetGridCellInfosParameters"}return Kb(e,[{key:"destroy",value:function(){var e=this;e.datasetName=null,e.dataSourceName=null,e.X=null,e.Y=null}}]),e}();rX.GetGridCellInfosParameters=p0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var h0=function(e){function t(e,n){var r;return $b(this,t),r=ng(this,ag(t).call(this,e,n)),r.datasetName=null,r.dataSourceName=null,r.datasetType=null,r.X=null,r.Y=null,n&&hK.extend(rg(r),n),r.CLASS_NAME="SuperMap.GetGridCellInfosService",r}return sg(t,e),tg(t,[{key:"destroy",value:function(){og(ag(t.prototype),"destroy",this).call(this);var e=this;e.X=null,e.Y=null,e.datasetName=null,e.dataSourceName=null,e.datasetType=null}},{key:"processAsync",value:function(e){if(e instanceof p0){hK.extend(this,e);var t=this,n=t.url.substr(t.url.length-1,1);t.url+="/"==n?"datasources/"+t.dataSourceName+"/datasets/"+t.datasetName+".json":"/datasources/"+t.dataSourceName+"/datasets/"+t.datasetName+".json",t.queryRequest(t.getDatasetInfoCompleted,t.getDatasetInfoFailed)}}},{key:"queryRequest",value:function(e,t){var n=this;n.request({method:"GET",data:null,scope:n,success:e,failure:t})}},{key:"getDatasetInfoCompleted",value:function(e){var t=this;e=hK.transformResult(e),t.datasetType=e.datasetInfo.type,t.queryGridInfos()}},{key:"queryGridInfos",value:function(){var e=this,t=/\.json/,n=t.exec(e.url).index,r=e.url.substring(n),o=e.url.substring(0,e.url.length-r.length);"GRID"==e.datasetType?e.url=o+"/gridValue"+r:e.url=o+"/imageValue"+r,null!=e.X&&null!=e.Y&&(e.url+="?x="+e.X+"&y="+e.Y),e.queryRequest(e.serviceProcessCompleted,e.serviceProcessFailed)}},{key:"getDatasetInfoFailed",value:function(e){this.serviceProcessFailed(e)}}]),t}(mZ);rX.GetGridCellInfosService=h0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var y0=function(){function e(t,n){ug(this,e),this.srcData=t,this.targetData=n,this.CLASS_NAME="SuperMap.ThemeMemoryData"}return fg(e,[{key:"destroy",value:function(){var e=this;e.srcData=null,e.targetData=null}},{key:"toJSON",value:function(){if(this.srcData&&this.targetData){for(var e="",t=Math.min(this.srcData.length,this.targetData.length),n=0;n<t;n++)e+="'"+this.srcData[n]+"':'"+this.targetData[n]+"',";return n>0&&(e=e.substring(0,e.length-1)),"{"+e+"}"}return null}}]),e}();rX.ThemeMemoryData=y0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var d0=function(){function e(t,n){if(pg(this,e),!t)return this;this.memoryData=null,this.type=t,n&&hK.extend(this,n),this.CLASS_NAME="SuperMap.Theme"}return yg(e,[{key:"destroy",value:function(){var e=this;e.memoryData&&(e.memoryData.destroy(),e.memoryData=null),e.type=null}},{key:"toServerJSONObject",value:function(){}}]),e}();rX.Theme=d0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var v0=function(){function e(t){dg(this,e),this.align=OX.BASELINECENTER,this.backColor=new MK(255,255,255),this.foreColor=new MK(0,0,0),this.backOpaque=!1,this.sizeFixed=!0,this.fontHeight=6,this.fontWidth=0,this.fontWeight=400,this.fontName="Times New Roman",this.bold=!1,this.italic=!1,this.italicAngle=0,this.shadow=!1,this.strikeout=!1,this.outline=!1,this.opaqueRate=0,this.underline=!1,this.rotation=0,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ServerTextStyle"}return mg(e,[{key:"destroy",value:function(){var e=this;e.align=null,e.backColor&&(e.backColor.destroy(),e.backColor=null),e.foreColor&&(e.foreColor.destroy(),e.foreColor=null),e.backOpaque=null,e.sizeFixed=null,e.fontHeight=null,e.fontWidth=null,e.fontWeight=null,e.fontName=null,e.bold=null,e.italic=null,e.italicAngle=null,e.shadow=null,e.strikeout=null,e.outline=null,e.opaqueRate=null,e.underline=null,e.rotation=null}}],[{key:"fromObj",value:function(t){var n=new e(t);return hK.copy(n,t),n.backColor=MK.fromJson(t.backColor),n.foreColor=MK.fromJson(t.foreColor),n}}]),e}();rX.ServerTextStyle=v0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var m0=function(){function e(t){bg(this,e),this.caption=null,this.end=0,this.start=0,this.visible=!0,this.style=new v0,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeLabelItem"}return Sg(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.end=null,e.start=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return hK.copy(n,t),n}}}]),e}();rX.ThemeLabelItem=m0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b0=function(){function e(t){wg(this,e),this.caption=null,this.style=new IK,this.unique=null,this.visible=!0,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeUniqueItem"}return _g(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.unique=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}},{key:"toServerJSONObject",value:function(){var e={};return e=hK.copyAttributes(e,this),e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}}],[{key:"fromObj",value:function(t){var n=new e;return hK.copy(n,t),n.style=IK.fromJson(t.style),n}}]),e}();rX.ThemeUniqueItem=b0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var g0=function(){function e(t){Pg(this,e),this.flowEnabled=!1,this.leaderLineDisplayed=!1,this.leaderLineStyle=new IK,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeFlow"}return Tg(e,[{key:"destroy",value:function(){var e=this;e.flowEnabled=null,e.leaderLineDisplayed=null,e.leaderLineStyle&&(e.leaderLineStyle.destroy(),e.leaderLineStyle=null)}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return hK.copy(n,t),n.leaderLineStyle=IK.fromJson(t.leaderLineStyle),n}}}]),e}();rX.ThemeFlow=g0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var S0=function(){function e(t){Eg(this,e),this.offsetFixed=!1,this.offsetX="0.0",this.offsetY="0.0",t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeOffset"}return xg(e,[{key:"destroy",value:function(){var e=this;e.offsetFixed=null,e.offsetX=null,e.offsetY=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return hK.copy(n,t),n}}}]),e}();rX.ThemeOffset=S0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var w0=function(){function e(t){jg(this,e),this.defaultStyle=null,this.separator=null,this.separatorEnabled=!1,this.splitIndexes=null,this.styles=new v0,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.LabelMixedTextStyle"}return Rg(e,[{key:"destroy",value:function(){var e=this;if(e.defaultStyle&&(e.defaultStyle.destroy(),e.defaultStyle=null),e.separator=null,e.separatorEnabled=null,e.splitIndexes&&(e.splitIndexes=null),e.styles){for(var t=0,n=e.styles,r=n.length;t<r;t++)n[t].destroy();e.styles=null}}}],[{key:"fromObj",value:function(t){if(t){var n=new e,r=t.styles;if(hK.copy(n,t),n.defaultStyle=new v0(t.defaultStyle),r){n.styles=[];for(var o=0,i=r.length;o<i;o++)n.styles.push(new v0(r[o]))}return n}}}]),e}();rX.LabelMixedTextStyle=w0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var O0=function(){function e(t){Lg(this,e),this.maxTextHeight=0,this.maxTextWidth=0,this.minTextHeight=0,this.minTextWidth=0,this.uniformStyle=new v0,this.uniformMixedStyle=null,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeLabelText"}return Mg(e,[{key:"destroy",value:function(){var e=this;e.maxTextHeight=null,e.maxTextWidth=null,e.minTextHeight=null,e.minTextWidth=null,e.uniformStyle&&(e.uniformStyle.destroy(),e.uniformStyle=null),e.uniformMixedStyle&&(e.uniformMixedStyle.destroy(),e.uniformMixedStyle=null)}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return hK.copy(n,t),n.uniformStyle=v0.fromObj(t.uniformStyle),n.uniformMixedStyle=w0.fromObj(t.uniformMixedStyle),n}}}]),e}();rX.ThemeLabelText=O0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _0=function(){function e(t){Ig(this,e),this.isAlongLine=!0,this.alongLineDirection=PX.LB_TO_RT,this.angleFixed=!1,this.repeatedLabelAvoided=!1,this.repeatIntervalFixed=!1,this.labelRepeatInterval=0,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeLabelAlongLine"}return Dg(e,[{key:"destroy",value:function(){var e=this;e.isAlongLine=null,e.alongLineDirection=null,e.angleFixed=null,e.repeatedLabelAvoided=null,e.repeatIntervalFixed=null,e.labelRepeatInterval=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return hK.copy(n,t),n}}}]),e}();rX.ThemeLabelAlongLine=_0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P0=function(){function e(t){Gg(this,e),this.labelBackShape=CX.NONE,this.backStyle=new IK,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeLabelBackground"}return Ug(e,[{key:"destroy",value:function(){var e=this;e.labelBackShape=null,e.backStyle&&(e.backStyle.destroy(),e.backStyle=null)}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return n.labelBackShape=t.labelBackShape,n.backStyle=IK.fromJson(t.backStyle),n}}}]),e}();rX.ThemeLabelBackground=P0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var C0=function(e){function t(e){var n;return Jg(this,t),n=Wg(this,Xg(t).call(this,"LABEL",e)),n.alongLine=new _0,n.background=new P0,n.flow=new g0,n.items=null,n.uniqueItems=null,n.labelExpression=null,n.labelOverLengthMode=TX.NONE,n.matrixCells=null,n.maxLabelLength=256,n.numericPrecision=0,n.offset=new S0,n.overlapAvoided=!0,n.rangeExpression=null,n.uniqueExpression=null,n.smallGeometryLabeled=!1,n.text=new O0,n.textSpace=0,e&&hK.extend(qg(n),e),n.CLASS_NAME="SuperMap.ThemeLabel",n}return Kg(t,e),Vg(t,[{key:"destroy",value:function(){Yg(Xg(t.prototype),"destroy",this).call(this);var e=this;if(e.alongLine=null,e.background&&(e.background.destroy(),e.background=null),e.flow=null,e.items){for(var n=0,r=e.items,o=r.length;n<o;n++)r[n].destroy();e.items=null}if(e.uniqueItems){for(var i=0,a=e.uniqueItems,s=a.length;i<s;i++)a[i].destory();e.uniqueItems=null}e.labelExpression=null,e.labelOverLengthMode=null,e.matrixCells=null,e.maxLabelLength=null,e.numericPrecision=null,e.overlapAvoided=null,e.rangeExpression=null,e.uniqueExpression=null,e.offset&&(e.offset.destroy(),e.offset=null),e.overlapAvoided=null,e.smallGeometryLabeled=null,e.text&&(e.text.destroy(),e.text=null),e.textSpace=null}},{key:"toJSON",value:function(){return hK.toJSON(this.toServerJSONObject())}},{key:"toServerJSONObject",value:function(){var e={};return e.type=this.type,e.memoryData=this.memoryData,this.alongLine&&(e.alongLine=this.alongLine.isAlongLine,e.alongLineDirection=this.alongLine.alongLineDirection,e.angleFixed=this.alongLine.angleFixed,e.isLabelRepeated=this.alongLine.isLabelRepeated,e.labelRepeatInterval=this.alongLine.labelRepeatInterval,e.repeatedLabelAvoided=this.alongLine.repeatedLabelAvoided,e.repeatIntervalFixed=this.alongLine.repeatIntervalFixed),this.offset&&(e.offsetFixed=this.offset.offsetFixed,e.offsetX=this.offset.offsetX,e.offsetY=this.offset.offsetY),this.flow&&(e.flowEnabled=this.flow.flowEnabled,e.leaderLineDisplayed=this.flow.leaderLineDisplayed,e.leaderLineStyle=this.flow.leaderLineStyle),this.text&&(e.maxTextHeight=this.text.maxTextHeight,e.maxTextWidth=this.text.maxTextWidth,e.minTextHeight=this.text.minTextHeight,e.minTextWidth=this.text.minTextWidth,e.uniformStyle=this.text.uniformStyle,e.uniformMixedStyle=this.text.uniformMixedStyle),this.background&&(e.labelBackShape=this.background.labelBackShape,e.backStyle=this.background.backStyle),e.labelOverLengthMode=this.labelOverLengthMode,e.maxLabelLength=this.maxLabelLength,e.smallGeometryLabeled=this.smallGeometryLabeled,e.rangeExpression=this.rangeExpression,e.uniqueExpression=this.uniqueExpression,e.numericPrecision=this.numericPrecision,e.items=this.items,e.uniqueItems=this.uniqueItems,e.labelExpression=this.labelExpression,e.overlapAvoided=this.overlapAvoided,e.matrixCells=this.matrixCells,e.textSpace=this.textSpace,e}}],[{key:"fromObj",value:function(e){if(e){var n=new t,r=e.items,o=e.uniqueItems,i=e.matrixCells;if(e.matrixCells=null,hK.copy(n,e),n.alongLine=_0.fromObj(e),n.background=P0.fromObj(e),n.flow=new g0({flowEnabled:e.flowEnabled,leaderLineDisplayed:e.leaderLineDisplayed,leaderLineStyle:e.leaderLineStyle}),r){n.items=[];for(var a=0,s=r.length;a<s;a++)n.items.push(m0.fromObj(r[a]))}if(o){n.uniqueItems=[];for(var l=0,u=o.length;l<u;l++)n.uniqueItems.push(b0.fromObj(o[l]))}if(i){n.matrixCells=[];for(var c=0,f=i.length;c<f;c++);}return n.offset=S0.fromObj(e),n.text=O0.fromObj(e),n}}}]),t}(d0);rX.ThemeLabel=C0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var T0=function(e){function t(e){var n;return eS(this,t),n=rS(this,sS(t).call(this,"UNIQUE",e)),n.defaultStyle=new IK,n.items=null,n.uniqueExpression=null,n.colorGradientType=wX.YELLOW_RED,e&&hK.extend(oS(n),e),n.CLASS_NAME="SuperMap.ThemeUnique",n}return lS(t,e),nS(t,[{key:"destroy",value:function(){iS(sS(t.prototype),"destroy",this).call(this);var e=this;if(e.uniqueExpression=null,e.colorGradientType=null,e.items){if(e.items.length>0)for(var n in e.items)e.items[n].destroy(),e.items[n]=null;e.items=null}e.defaultStyle&&(e.defaultStyle.destroy(),e.defaultStyle=null)}},{key:"toServerJSONObject",value:function(){var e={};if(e=hK.copyAttributes(e,this),e.defaultStyle&&e.defaultStyle.toServerJSONObject&&(e.defaultStyle=e.defaultStyle.toServerJSONObject()),e.items){for(var t=[],n=e.items.length,r=0;r<n;r++)t.push(e.items[r].toServerJSONObject());e.items=t}return e}}],[{key:"fromObj",value:function(e){var n=new t,r=e.items,o=r?r.length:0;hK.extend(n,e),n.items=[],n.defaultStyle=IK.fromJson(e.defaultStyle);for(var i=0;i<o;i++)n.items.push(b0.fromObj(r[i]));return n}}]),t}(d0);rX.ThemeUnique=T0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var E0=function(){function e(t){cS(this,e),this.axesColor=new MK(0,0,0),this.axesDisplayed=!1,this.axesGridDisplayed=!1,this.axesTextDisplayed=!1,this.axesTextStyle=new v0,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGraphAxes"}return pS(e,[{key:"destroy",value:function(){var e=this;e.axesColor&&(e.axesColor.destroy(),e.axesColor=null),e.axesDisplayed=null,e.axesGridDisplayed=null,e.axesTextDisplayed=null,e.axesTextStyle&&(e.axesTextStyle.destroy(),e.axesTextStyle=null)}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return hK.copy(n,t),n.axesColor=MK.fromJson(t.axesColor),n.axesTextStyle=v0.fromObj(t.axesTextStyle),n}}}]),e}();rX.ThemeGraphAxes=E0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var k0=function(){function e(t){hS(this,e),this.maxGraphSize=0,this.minGraphSize=0,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGraphSize"}return dS(e,[{key:"destroy",value:function(){var e=this;e.maxGraphSize=null,e.minGraphSize=null}}],[{key:"fromObj",value:function(t){var n=new e;return hK.copy(n,t),n}}]),e}();rX.ThemeGraphSize=k0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var x0=function(){function e(t){vS(this,e),this.graphTextDisplayed=!1,this.graphTextFormat=dX.CAPTION,this.graphTextStyle=new v0,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGraphText"}return bS(e,[{key:"destroy",value:function(){var e=this;e.graphTextDisplayed=null,e.graphTextFormat=null,e.graphTextStyle&&(e.graphTextStyle.destroy(),e.graphTextStyle=null)}}],[{key:"fromObj",value:function(t){var n=new e;return hK.copy(n,t),n.graphTextStyle=v0.fromObj(t.graphTextStyle),n}}]),e}();rX.ThemeGraphText=x0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var j0=function(){function e(t){gS(this,e),this.caption=null,this.graphExpression=null,this.memoryDoubleValues=null,this.uniformStyle=new IK,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGraphItem"}return wS(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.graphExpression=null,e.memoryDoubleValues=null,e.uniformStyle=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return hK.copy(n,t),n.uniformStyle=IK.fromJson(t.uniformStyle),n}}}]),e}();rX.ThemeGraphItem=j0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var A0=function(e){function t(e){var n;return _S(this,t),n=TS(this,jS(t).call(this,"GRAPH",e)),n.barWidth=0,n.flow=new g0,n.graduatedMode=bX.CONSTANT,n.graphAxes=new E0,n.graphSize=new k0,n.graphSizeFixed=!1,n.graphText=new x0,n.graphType=vX.AREA,n.graphAxesTextDisplayMode=mX.NONE,n.items=null,n.memoryKeys=null,n.negativeDisplayed=!1,n.offset=new S0,n.overlapAvoided=!0,n.roseAngle=0,n.startAngle=0,e&&hK.extend(ES(n),e),n.CLASS_NAME="SuperMap.ThemeGraph",n}return AS(t,e),CS(t,[{key:"destroy",value:function(){kS(jS(t.prototype),"destroy",this).call(this);var e=this;if(e.barWidth=null,e.flow&&(e.flow.destroy(),e.flow=null),e.graduatedMode=null,e.graphAxes&&(e.graphAxes.destroy(),e.graphAxes=null),e.graphSize&&(e.graphSize.destroy(),e.graphSize=null),e.graphSizeFixed=null,e.graphText&&(e.graphText.destroy(),e.graphText=null),e.graphType=null,e.items){for(var n=0,r=e.items,o=r.length;n<o;n++)r[n].destroy();e.items=null}e.memoryKeys=null,e.negativeDisplayed=null,e.offset&&(e.offset.destroy(),e.offset=null),e.overlapAvoided=null,e.roseAngle=null,e.startAngle=null,e.graphAxesTextDisplayMode=null}},{key:"toJSON",value:function(){return hK.toJSON(this.toServerJSONObject())}},{key:"toServerJSONObject",value:function(){var e={};return e.type=this.type,this.graphText&&(e.graphTextDisplayed=this.graphText.graphTextDisplayed,e.graphTextFormat=this.graphText.graphTextFormat,e.graphTextStyle=this.graphText.graphTextStyle),this.flow&&(e.flowEnabled=this.flow.flowEnabled,e.leaderLineDisplayed=this.flow.leaderLineDisplayed,e.leaderLineStyle=this.flow.leaderLineStyle),this.graphAxes&&(e.axesColor=this.graphAxes.axesColor,e.axesDisplayed=this.graphAxes.axesDisplayed,e.axesGridDisplayed=this.graphAxes.axesGridDisplayed,e.axesTextDisplayed=this.graphAxes.axesTextDisplayed,e.axesTextStyle=this.graphAxes.axesTextStyle),this.graphSize&&(e.maxGraphSize=this.graphSize.maxGraphSize,e.minGraphSize=this.graphSize.minGraphSize),this.offset&&(e.offsetFixed=this.offset.offsetFixed,e.offsetX=this.offset.offsetX,e.offsetY=this.offset.offsetY),e.barWidth=this.barWidth,e.graduatedMode=this.graduatedMode,e.graphSizeFixed=this.graphSizeFixed,e.graphType=this.graphType,e.graphAxesTextDisplayMode=this.graphAxesTextDisplayMode,e.items=this.items,e.memoryKeys=this.memoryKeys,e.negativeDisplayed=this.negativeDisplayed,e.overlapAvoided=this.overlapAvoided,e.roseAngle=this.roseAngle,e.startAngle=this.startAngle,e}}],[{key:"fromObj",value:function(e){var n=new t,r=e.items,o=r?r.length:0;hK.copy(n,e),n.items=[],n.flow=g0.fromObj(e),n.graphAxes=E0.fromObj(e),n.graphSize=k0.fromObj(e),n.graphText=x0.fromObj(e),n.offset=S0.fromObj(e);for(var i=0;i<o;i++)n.items.push(j0.fromObj(r[i]));return n}}]),t}(d0);rX.ThemeGraph=A0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var R0=function(e){function t(e){var n;return NS(this,t),n=FS(this,DS(t).call(this,"DOTDENSITY",e)),n.dotExpression=null,n.style=new IK,n.value=null,e&&hK.extend(GS(n),e),n.CLASS_NAME="SuperMap.ThemeDotDensity",n}return BS(t,e),IS(t,[{key:"destroy",value:function(){var e=this;e.dotExpression=null,e.value=null,e.style&&(e.style.destroy(),e.style=null)}},{key:"toServerJSONObject",value:function(){var e={};return e=hK.copyAttributes(e,this),e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}}],[{key:"fromObj",value:function(e){if(e){var n=new t;return hK.copy(n,e),n.style=IK.fromJson(e.style),n}}}]),t}(d0);rX.ThemeDotDensity=R0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var L0=function(){function e(t){HS(this,e),this.negativeDisplayed=!1,this.negativeStyle=new IK,this.positiveStyle=new IK,this.zeroDisplayed=!1,this.zeroStyle=new IK,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGraduatedSymbolStyle"}return zS(e,[{key:"destroy",value:function(){var e=this;e.negativeDisplayed=null,e.negativeStyle=null,e.positiveStyle=null,e.zeroDisplayed=null,e.zeroStyle=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return hK.copy(n,t),n.negativeStyle=IK.fromJson(t.negativeStyle),n.positiveStyle=IK.fromJson(t.positiveStyle),n.zeroStyle=IK.fromJson(t.zeroStyle),n}}}]),e}();rX.ThemeGraduatedSymbolStyle=L0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var N0=function(e){function t(e){var n;return WS(this,t),n=QS(this,$S(t).call(this,"GRADUATEDSYMBOL",e)),n.baseValue=0,n.expression=null,n.flow=new g0,n.graduatedMode=rX.GraduatedMode.CONSTAN,n.offset=new S0,n.style=new L0,e&&hK.extend(XS(n),e),n.CLASS_NAME="SuperMap.ThemeGraduatedSymbol",n}return ew(t,e),YS(t,[{key:"destroy",value:function(){KS($S(t.prototype),"destroy",this).call(this);var e=this;e.expression=null,e.flow&&(e.flow.destroy(),e.flow=null),e.graduatedMode=bX.CONSTANT,e.offset&&(e.offset.destroy(),e.offset=null),e.style&&(e.style.destroy(),e.style=null)}},{key:"toJSON",value:function(){return hK.toJSON(this.toServerJSONObject())}},{key:"toServerJSONObject",value:function(){var e={};return e.type=this.type,e.memoryData=this.memoryData,e.baseValue=this.baseValue,e.expression=this.expression,e.graduatedMode=this.graduatedMode,this.flow&&(e.flowEnabled=this.flow.flowEnabled,e.leaderLineDisplayed=this.flow.leaderLineDisplayed,e.leaderLineStyle=this.flow.leaderLineStyle),this.offset&&(e.offsetFixed=this.offset.offsetFixed,e.offsetX=this.offset.offsetX,e.offsetY=this.offset.offsetY),this.style&&(e.negativeStyle=this.style.negativeStyle,e.negativeDisplayed=this.style.negativeDisplayed,e.positiveStyle=this.style.positiveStyle,e.zeroDisplayed=this.style.zeroDisplayed,e.zeroStyle=this.style.zeroStyle),e}}],[{key:"fromObj",value:function(e){if(e){var t=new rX.ThemeGraduatedSymbol;return hK.copy(t,e),t.flow=g0.fromObj(e),t.offset=S0.fromObj(e),t.style=L0.fromObj(e),t}}}]),t}(d0);rX.ThemeGraduatedSymbol=N0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var M0=function(){function e(t){nw(this,e),this.caption=null,this.end=0,this.start=0,this.style=new IK,this.visible=!0,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeRangeItem"}return ow(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.end=null,e.start=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}},{key:"toServerJSONObject",value:function(){var e={};return e=hK.copyAttributes(e,this),e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return hK.copy(n,t),n.style=IK.fromJson(t.style),n}}}]),e}();rX.ThemeRangeItem=M0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var I0=function(e){function t(e){var n;return aw(this,t),n=uw(this,hw(t).call(this,"RANGE",e)),n.precision="1.0E-12",n.items=null,n.rangeExpression=null,n.rangeMode=gX.EQUALINTERVAL,n.rangeParameter=0,n.colorGradientType=wX.YELLOW_RED,e&&hK.extend(cw(n),e),n.CLASS_NAME="SuperMap.ThemeRange",n}return yw(t,e),lw(t,[{key:"destroy",value:function(){fw(hw(t.prototype),"destroy",this).call(this);var e=this;if(e.items){if(e.items.length>0)for(var n in e.items)e.items[n].destroy(),e.items[n]=null;e.items=null}e.rangeExpression=null,e.rangeMode=null,e.rangeParameter=null,e.colorGradientType=null}}],[{key:"fromObj",value:function(e){if(e){var n=new t;hK.copy(n,e);var r=e.items,o=r?r.length:0;n.items=[];for(var i=0;i<o;i++)n.items.push(M0.fromObj(r[i]));return n}}}]),t}(d0);rX.ThemeRange=I0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var F0=function(){function e(t){vw(this,e),t=t||{},this.bounds=null,this.caption=null,this.description=null,this.name=null,this.queryable=null,this.subLayers=null,this.type=null,this.visible=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.UGCLayer"}return bw(e,[{key:"destroy",value:function(){var e=this;hK.reset(e)}},{key:"fromJson",value:function(e){e=e||{},hK.extend(this,e);var t=this.bounds;t&&(this.bounds=new dK(t.leftBottom.x,t.leftBottom.y,t.rightTop.x,t.rightTop.y))}},{key:"toServerJSONObject",value:function(){var e={};return e=hK.copyAttributes(e,this),e.bounds&&e.bounds.toServerJSONObject&&(e.bounds=e.bounds.toServerJSONObject()),e}}]),e}();rX.UGCLayer=F0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var D0=function(){function e(t){gw(this,e),t=t||{},this.allowPointOverlap=!0,this.allowPointWithTextDisplay=!0,this.allowTextOverlap=!1,this.allowTextAndPointOverlap=!0,this.allowThemeGraduatedSymbolOverlap=!1,this.allowThemeGraphOverlap=!1,this.horizontalOverlappedSpaceSize=0,this.verticalOverlappedSpaceSize=0,hK.extend(this,t),this.ugcLayer=new F0(t),this.CLASS_NAME="SuperMap.OverlapDisplayedOptions"}return ww(e,[{key:"destroy",value:function(){hK.reset(this)}},{key:"fromJson",value:function(e){this.ugcLayer.fromJson.apply(this,[e])}},{key:"toServerJSONObject",value:function(){return this.ugcLayer.toServerJSONObject.apply(this,arguments)}},{key:"toString",value:function(){var e=this.ugcLayer.toServerJSONObject.apply(this,arguments),t="{";for(var n in e)e.hasOwnProperty(n)&&(t+="'"+n+"':"+e[n]+",");return t=t.substr(0,t.length-1),t+="}"}}]),e}();rX.OverlapDisplayedOptions=D0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var G0=function(e){function t(e){var n;return _w(this,t),e=e||{},n=Tw(this,jw(t).call(this,e)),n.completeLineSymbolDisplayed=null,n.maxScale=null,n.minScale=null,n.minVisibleGeometrySize=null,n.opaqueRate=null,n.symbolScalable=null,n.symbolScale=null,n.overlapDisplayed=null,n.overlapDisplayedOptions=null,n.CLASS_NAME="SuperMap.UGCMapLayer",n}return Aw(t,e),Cw(t,[{key:"destroy",value:function(){kw(jw(t.prototype),"destroy",this).call(this),hK.reset(this)}},{key:"fromJson",value:function(e){kw(jw(t.prototype),"fromJson",this).call(this,e)}},{key:"toServerJSONObject",value:function(){return kw(jw(t.prototype),"toServerJSONObject",this).call(this)}}]),t}(F0);rX.UGCMapLayer=G0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var B0=function(e){function t(e){var n;return Nw(this,t),e=e||{},n=Fw(this,Uw(t).call(this,e)),n.datasetInfo=null,n.displayFilter=null,n.joinItems=null,n.representationField=null,n.ugcLayerType=null,n.CLASS_NAME="SuperMap.UGCSubLayer",n}return Hw(t,e),Iw(t,[{key:"fromJson",value:function(e){if(Gw(Uw(t.prototype),"fromJson",this).call(this,e),this.datasetInfo&&(this.datasetInfo=new r$(this.datasetInfo)),this.joinItems&&this.joinItems.length){for(var n=[],r=0;r<this.joinItems.length;r++)n[r]=new jZ(this.joinItems[r]);this.joinItems=n}}},{key:"destroy",value:function(){Gw(Uw(t.prototype),"destroy",this).call(this),hK.reset(this)}},{key:"toServerJSONObject",value:function(){var e=Gw(Uw(t.prototype),"toServerJSONObject",this).call(this);if(e.joinItems){for(var n=[],r=0;r<e.joinItems.length;r++)e.joinItems[r].toServerJSONObject&&(n[r]=e.joinItems[r].toServerJSONObject());e.joinItems=n}return e.datasetInfo&&e.datasetInfo.toServerJSONObject&&(e.datasetInfo=e.datasetInfo.toServerJSONObject()),e}}]),t}(G0);rX.UGCSubLayer=B0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var U0=function(e){function t(e){var n;return Vw(this,t),e=e||{},n=Yw(this,Zw(t).call(this,e)),n.theme=null,n.themeElementPosition=null,n.CLASS_NAME="SuperMap.ServerTheme",n}return $w(t,e),qw(t,[{key:"destroy",value:function(){Xw(Zw(t.prototype),"destroy",this).call(this),hK.reset(this)}},{key:"fromJson",value:function(e){Xw(Zw(t.prototype),"fromJson",this).call(this,e);var n=this.theme;switch(n&&n.type){case"LABEL":this.theme=C0.fromObj(n);break;case"UNIQUE":this.theme=T0.fromObj(n);break;case"GRAPH":this.theme=A0.fromObj(n);break;case"DOTDENSITY":this.theme=R0.fromObj(n);break;case"GRADUATEDSYMBOL":this.theme=N0.fromObj(n);break;case"RANGE":this.theme=I0.fromObj(n)}this.themeElementPosition&&(this.themeElementPosition=new yK(this.themeElementPosition.x,this.themeElementPosition.y))}},{key:"toServerJSONObject",value:function(){var e=Xw(Zw(t.prototype),"toServerJSONObject",this).call(this);return e.themeElementPosition&&e.themeElementPosition.toServerJSONObject&&(e.themeElementPosition=e.themeElementPosition.toServerJSONObject()),e.theme&&e.theme.toServerJSONObject&&(e.theme=e.theme.toServerJSONObject()),e}}]),t}(B0);rX.ServerTheme=U0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var H0=function(e){function t(e){var n;return nO(this,t),e=e||{},n=iO(this,uO(t).call(this,e)),n.colorDictionarys=null,n.brightness=null,n.colorGradientType=null,n.colors=null,n.contrast=null,n.dashStyle=null,n.gridType=null,n.horizontalSpacing=null,n.sizeFixed=null,n.solidStyle=null,n.specialColor=null,n.specialValue=null,n.specialValueTransparent=null,n.verticalSpacing=null,n.CLASS_NAME="SuperMap.Grid",n}return cO(t,e),oO(t,[{key:"destroy",value:function(){sO(uO(t.prototype),"destroy",this).call(this),hK.reset(this)}},{key:"fromJson",value:function(e){if(sO(uO(t.prototype),"fromJson",this).call(this,e),this.specialColor&&(this.specialColor=new MK(this.specialColor.red,this.specialColor.green,this.specialColor.blue)),this.colors){var n,r=[];for(var o in this.colors)n=this.colors[o],r.push(new MK(n.red,n.green,n.blue));this.colors=r}if(this.dashStyle&&(this.dashStyle=new IK(this.dashStyle)),this.solidStyle&&(this.solidStyle=new IK(this.solidStyle)),this.colorDictionary){var i,a=[];for(var s in this.colorDictionary)i=this.colorDictionary[s],a.push(new KZ({elevation:s,color:i}));this.colorDictionarys=a}delete this.colorDictionary}},{key:"toServerJSONObject",value:function(){var e=sO(uO(t.prototype),"toServerJSONObject",this).call(this);return e.dashStyle&&e.dashStyle.toServerJSONObject&&(e.dashStyle=e.dashStyle.toServerJSONObject()),e.solidStyle&&e.solidStyle.toServerJSONObject&&(e.solidStyle=e.solidStyle.toServerJSONObject()),e}}]),t}(B0);rX.Grid=H0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var J0=function(e){function t(e){var n;return hO(this,t),e=e||{},n=vO(this,SO(t).call(this,e)),n.brightness=null,n.colorSpaceType=null,n.contrast=null,n.displayBandIndexes=null,n.transparent=null,n.transparentColor=null,n.transparentColorTolerance=null,n.CLASS_NAME="SuperMap.Image",n}return wO(t,e),dO(t,[{key:"destroy",value:function(){bO(SO(t.prototype),"destroy",this).call(this),hK.reset(this)}},{key:"fromJson",value:function(e){bO(SO(t.prototype),"fromJson",this).call(this,e),this.transparentColor&&(this.transparentColor=new MK(this.transparentColor.red,this.transparentColor.green,this.transparentColor.blue))}},{key:"toServerJSONObject",value:function(){return bO(SO(t.prototype),"toServerJSONObject",this).call(this)}}]),t}(B0);rX.Image=J0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var z0=function(e){function t(e){var n;return PO(this,t),e=e||{},n=EO(this,AO(t).call(this,e)),n.style=null,n.CLASS_NAME="SuperMap.Vector",n}return RO(t,e),TO(t,[{key:"destroy",value:function(){xO(AO(t.prototype),"destroy",this).call(this),hK.reset(this)}},{key:"fromJson",value:function(e){xO(AO(t.prototype),"fromJson",this).call(this,e);var n=this.style;n&&(this.style=new IK(n))}},{key:"toServerJSONObject",value:function(){var e=rX.toServerJSONObject();return e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}}]),t}(B0);rX.Vector=z0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var V0=function(e){function t(e,n){var r;return MO(this,t),r=DO(this,HO(t).call(this,e,n)),r.isTempLayers=!1,n&&hK.extend(GO(r),n),r.CLASS_NAME="SuperMap.GetLayersInfoService",r}return JO(t,e),FO(t,[{key:"destroy",value:function(){BO(HO(t.prototype),"destroy",this).call(this),hK.reset(this)}},{key:"processAsync",value:function(){var e=this,t=e.url.substr(e.url.length-1,1);e.isTempLayers?e.url+=".json?":(e.url+="/"===t?"":"/",e.url+="layers.json?"),e.request({method:"GET",params:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}},{key:"serviceProcessCompleted",value:function(e){var t,n,r,o=this;e=hK.transformResult(e),t=!!e&&e.length>0,n=t?e[0].subLayers.layers:null,r=n?n.length:0,o.handleLayers(r,n),o.events.triggerEvent("processCompleted",{result:e[0]})}},{key:"handleLayers",value:function(e,t){var n,r=this;if(e)for(var o=0;o<e;o++)if(t[o].subLayers&&t[o].subLayers.layers&&t[o].subLayers.layers.length>0)r.handleLayers(t[o].subLayers.layers.length,t[o].subLayers.layers);else{var i=t[o].ugcLayerType;switch(i){case"THEME":n=new U0,n.fromJson(t[o]),t[o]=n;break;case"GRID":n=new H0,n.fromJson(t[o]),t[o]=n;break;case"IMAGE":n=new J0,n.fromJson(t[o]),t[o]=n;break;case"VECTOR":n=new z0,n.fromJson(t[o]),t[o]=n}}}}]),t}(mZ);rX.GetLayersInfoService=V0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var W0=function(){function e(t){VO(this,e),t&&(this.bounds=null,this.searchRadius=0,this.zValueFieldName=null,this.zValueScale=1,this.resolution=null,this.filterQueryParameter=null,this.outputDatasetName=null,this.outputDatasourceName=null,this.pixelFormat=null,this.dataset=null,this.inputPoints=null,this.InterpolationAnalystType="dataset",this.clipParam=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.InterpolationAnalystParameters")}return qO(e,[{key:"destroy",value:function(){var e=this;e.bounds=null,e.searchRadius=null,e.zValueFieldName=null,e.zValueScale=null,e.resolution=null,e.filterQueryParameter=null,e.outputDatasetName=null,e.pixelFormat=null}}],[{key:"toObject",value:function(e,t){for(var n in e)if("inputPoints"===n&&"geometry"===e.InterpolationAnalystType){for(var r=[],o=0;o<e.inputPoints.length;o++){var i=e.inputPoints[o],a={x:i.x,y:i.y,z:i.tag};r.push(a)}t[n]=r}else t[n]=e[n]}}]),e}();rX.InterpolationAnalystParameters=W0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var q0=function(e){function t(e){var n;return QO(this,t),n=ZO(this,n_(t).call(this,e)),n.smooth=.1,n.tension=40,n.searchMode=null,n.expectedCount=12,n.maxPointCountForInterpolation=200,n.maxPointCountInNode=50,e&&hK.extend($O(n),e),n.CLASS_NAME="SuperMap.InterpolationRBFAnalystParameters",n}return r_(t,e),KO(t,[{key:"destroy",value:function(){e_(n_(t.prototype),"destroy",this).call(this);var e=this;e.smooth=null,e.tension=null,e.searchMode=null,e.expectedCount=null,e.maxPointCountForInterpolation=null,e.maxPointCountInNode=null}}],[{key:"toObject",value:function(e,t){for(var n in e)t[n]=e[n]}}]),t}(W0);rX.InterpolationRBFAnalystParameters=q0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Y0=function(e){function t(e){var n;return a_(this,t),n=u_(this,h_(t).call(this,e)),e&&hK.extend(c_(n),e),n.CLASS_NAME="SuperMap.InterpolationDensityAnalystParameters",n}return y_(t,e),l_(t,[{key:"destroy",value:function(){f_(h_(t.prototype),"destroy",this).call(this)}}]),t}(W0);rX.InterpolationDensityAnalystParameters=Y0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Q0=function(e){function t(e){var n;return m_(this,t),n=S_(this,P_(t).call(this,e)),n.power=2,n.searchMode=null,n.expectedCount=12,e&&hK.extend(w_(n),e),n.CLASS_NAME="SuperMap.InterpolationIDWAnalystParameters",n}return C_(t,e),g_(t,[{key:"destroy",value:function(){O_(P_(t.prototype),"destroy",this).call(this);var e=this;e.power=null,e.searchMode=null,e.expectedCount=null}}]),t}(W0);rX.InterpolationIDWAnalystParameters=Q0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var X0=function(e){function t(e){var n;return k_(this,t),n=A_(this,M_(t).call(this,e)),n.type=null,n.mean=null,n.angle=0,n.nugget=0,n.range=0,n.sill=0,n.variogramMode=YX.SPHERICAL,n.exponent=QX.EXP1,n.searchMode=null,n.expectedCount=12,n.maxPointCountForInterpolation=200,n.maxPointCountInNode=50,e&&hK.extend(R_(n),e),n.CLASS_NAME="SuperMap.InterpolationKrigingAnalystParameters",n}return I_(t,e),j_(t,[{key:"destroy",value:function(){L_(M_(t.prototype),"destroy",this).call(this);var e=this;e.type=null,e.mean=null,e.angle=null,e.nugget=null,e.range=null,e.sill=null,e.variogramMode=null,e.exponent=null,e.searchMode=null,e.expectedCount=null,e.maxPointCountForInterpolation=null,e.maxPointCountInNode=null}}]),t}(W0);rX.InterpolationKrigingAnalystParameters=X0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var K0=function(e){function t(e,n){var r;return G_(this,t),r=H_(this,W_(t).call(this,e,n)),r.mode=null,n&&hK.extend(J_(r),n),r}return q_(t,e),U_(t,[{key:"destroy",value:function(){z_(W_(t.prototype),"destroy",this).call(this),this.mode=null,this.CLASS_NAME="SuperMap.InterpolationAnalystService"}},{key:"processAsync",value:function(e){var t={},n=this;"/"!==n.url.substr(n.url.length-1,1)&&(n.url+="/"),e instanceof Y0?(n.mode="Density","geometry"===e.InterpolationAnalystType?n.url+="geometry/interpolation/density":n.url+="datasets/"+e.dataset+"/interpolation/density"):e instanceof Q0?(n.mode="IDW","geometry"===e.InterpolationAnalystType?n.url+="geometry/interpolation/idw":n.url+="datasets/"+e.dataset+"/interpolation/idw"):e instanceof q0?(n.mode="RBF","geometry"===e.InterpolationAnalystType?n.url+="geometry/interpolation/rbf":n.url+="datasets/"+e.dataset+"/interpolation/rbf"):e instanceof X0&&(n.mode="Kriging","geometry"===e.InterpolationAnalystType?n.url+="geometry/interpolation/kriging":n.url+="datasets/"+e.dataset+"/interpolation/kriging"),W0.toObject(e,t);var r=hK.toJSON(t);n.url+=".json?returnContent=true",n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}]),t}(PZ);rX.InterpolationAnalystService=K0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Z0=function(){function e(t){Q_(this,e),t&&(this.datasetName="",this.query="",this.resolution=80,this.method=0,this.meshType=0,this.fields="",this.radius=300,this.meshSizeUnit=eK.METER,this.radiusUnit=eK.METER,this.areaUnit=$X.SQUAREMILE,this.output=null,this.mappingParameters=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.KernelDensityJobParameter")}return K_(e,[{key:"destroy",value:function(){this.datasetName=null,this.query=null,this.resolution=null,this.method=null,this.radius=null,this.meshType=null,this.fields=null,this.meshSizeUnit=null,this.radiusUnit=null,this.areaUnit=null,this.output instanceof FZ&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof DZ&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},"query"===n&&e[n]?t.analyst[n]=e[n].toBBOX():t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();rX.KernelDensityJobParameter=Z0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $0=function(e){function t(e,n){var r;return $_(this,t),r=nP(this,aP(t).call(this,e,n)),r.url+="/spatialanalyst/density",r.CLASS_NAME="SuperMap.KernelDensityJobsService",r}return sP(t,e),tP(t,[{key:"destroy",value:function(){oP(aP(t.prototype),"destroy",this).call(this)}},{key:"getKernelDensityJobs",value:function(){oP(aP(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getKernelDensityJob",value:function(e){oP(aP(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addKernelDensityJob",value:function(e,n){oP(aP(t.prototype),"addJob",this).call(this,this.url,e,Z0,n)}}]),t}(BZ);rX.KernelDensityJobsService=$0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var e1=function e(){uP(this,e),this.CLASS_NAME="LabelMatrixCell"};rX.LabelMatrixCell=e1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var t1=function(e){function t(e){var n;return fP(this,t),n=yP(this,dP(t).call(this,e)),n.height=0,n.pathField=null,n.rotation=0,n.width=0,n.sizeFixed=!1,n.type="IMAGE",e&&hK.extend(vP(n),e),n.CLASS_NAME="SuperMap.LabelImageCell",n}return mP(t,e),hP(t,[{key:"destroy",value:function(){var e=this;e.height=null,e.pathField=null,e.rotation=null,e.width=null,e.sizeFixed=null}}]),t}(e1);rX.LabelImageCell=t1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var n1=function(e){function t(e){var n;return SP(this,t),n=_P(this,PP(t).call(this,e)),n.style=new IK,n.symbolIDField=null,n.type="SYMBOL",e&&hK.extend(CP(n),e),n.CLASS_NAME="SuperMap.LabelSymbolCell",n}return TP(t,e),OP(t,[{key:"destroy",value:function(){var e=this;e.style&&(e.style.destroy(),e.style=null),e.symbolIDField=null}}]),t}(e1);rX.LabelSymbolCell=n1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var r1=function(e){function t(e){var n;return xP(this,t),n=RP(this,LP(t).call(this,e)),n.themeLabel=new C0,n.type="THEME",e&&hK.extend(NP(n),e),n.CLASS_NAME=" SuperMap.LabelThemeCell",n}return MP(t,e),AP(t,[{key:"destroy",value:function(){var e=this;e.themeLabel&&(e.themeLabel.destroy(),e.themeLabel=null)}}]),t}(e1);rX.LabelThemeCell=r1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var o1=function(){function e(t){FP(this,e),this.layerName=null,this.isVisible=null,this.displayFilter=null,this.fieldValuesDisplayFilter=null,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.LayerStatus"}return GP(e,[{key:"destroy",value:function(){var e=this;e.layerName=null,e.isVisible=null,e.displayFilter=null}},{key:"toJSON",value:function(){var e="{";e+='"type":"UGC",';var t=[];return this.layerName&&(t.push('"name":"'+this.layerName+'"'),t.push('"visible":'+this.isVisible)),this.displayFilter&&t.push('"displayFilter":"'+this.displayFilter+'"'),(this.minScale||0==this.minScale)&&t.push('"minScale":'+this.minScale),(this.maxScale||0==this.maxScale)&&t.push('"maxScale":'+this.maxScale),this.fieldValuesDisplayFilter&&t.push('"fieldValuesDisplayFilter":'+hK.toJSON(this.fieldValuesDisplayFilter)),e+=t,e+="}"}}]),e}();rX.LayerStatus=o1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var i1=function(e){function t(e,n){var r;UP(this,t),r=zP(this,YP(t).call(this,e,n)),r.projection=null,r.CLASS_NAME="SuperMap.MapService",n&&hK.extend(VP(r),n);var o=VP(r);if(o.projection){var i=o.projection.split(":");i instanceof Array&&(2===i.length&&(o.url+='?prjCoordSys={"epsgCode":'+i[1]+"}"),1===i.length&&(o.url+='?prjCoordSys={"epsgCode":'+i[0]+"}"))}return r}return QP(t,e),JP(t,[{key:"destroy",value:function(){WP(YP(t.prototype),"destroy",this).call(this);var e=this;e.events&&(e.events.un(e.eventListeners),e.events.listeners=null,e.events.destroy(),e.events=null,e.eventListeners=null)}},{key:"processAsync",value:function(){var e=this;e.request({method:"GET",scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}},{key:"serviceProcessCompleted",value:function(e){var t=this;e=hK.transformResult(e);var n=e.code>=200&&e.code<300||0==e.code||304===e.code,r=e.code&&n;!e.code||r?t.events&&t.events.triggerEvent("processCompleted",{result:e}):t.events.triggerEvent("processFailed",{error:e})}}]),t}(mZ);rX.MapService=i1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var a1=function(){function e(t){KP(this,e),t&&(this.dataset=null,this.extractRegion=null,this.expression=null,this.isZip=!1,this.ignoreNoValue=!1,this.targetDatasource=null,this.resultGridName=null,this.deleteExistResultDataset=!1,hK.extend(this,t),this.CLASS_NAME="SuperMap.MathExpressionAnalysisParameters")}return $P(e,[{key:"destroy",value:function(){var e=this;e.dataset=null,e.bounds=null,e.expression=null,e.isZip=!0,e.ignoreNoValue=!0,e.targetDatasource=null,e.resultGridName=null,e.deleteExistResultDataset=null}}],[{key:"toObject",value:function(e,t){for(var n in e)if("dataset"!==n&&(t[n]=e[n]),"extractRegion"===n&&e[n]){for(var r=e[n].components[0].components,o={},i=[],a=r.length,s=0;s<a-1;s++){var l={};l.x=r[s].x,l.y=r[s].y,i.push(l)}o.points=i,o.type="REGION",t[n]=o}}}]),e}();rX.MathExpressionAnalysisParameters=a1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var s1=function(e){function t(e,n){var r;return tC(this,t),r=oC(this,lC(t).call(this,e,n)),r.CLASS_NAME="SuperMap.MathExpressionAnalysisService",r}return uC(t,e),rC(t,[{key:"destroy",value:function(){aC(lC(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){var t=this;"/"!==t.url.substr(t.url.length-1,1)&&(t.url+="/");var n={};e instanceof a1&&(t.url+="datasets/"+e.dataset+"/mathanalyst"),a1.toObject(e,n);var r=hK.toJSON(n);t.url+=".json?returnContent=true",t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}]),t}(PZ);rX.MathExpressionAnalysisService=s1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var l1=function(){function e(t,n){fC(this,e),t&&(this.geometry=t,this.unit=pX.METER,this.prjCoordSys=null,this.distanceMode=null,n&&hK.extend(this,n),this.CLASS_NAME="SuperMap.MeasureParameters")}return hC(e,[{key:"destroy",value:function(){var e=this;e.geometry=null,e.unit=null,e.prjCoordSys=null}}]),e}();rX.MeasureParameters=l1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var u1=function(e){function t(e,n){var r;return dC(this,t),r=bC(this,OC(t).call(this,e,n)),r.measureMode=fX.DISTANCE,n&&hK.extend(gC(r),n),r.CLASS_NAME="SuperMap.MeasureService",r}return _C(t,e),mC(t,[{key:"destroy",value:function(){SC(OC(t.prototype),"destroy",this).call(this),this.measureMode=null}},{key:"processAsync",value:function(e){if(e instanceof l1){var t=this,n=e.geometry,r=0,o=null,i=null;if(n){i=t.url.substr(t.url.length-1,1),t.measureMode===fX.AREA?t.url+="/"===i?"area.json?":"/area.json?":t.url+="/"===i?"distance.json?":"/distance.json?";var a=GK.fromGeometry(n);if(a){r=a.parts[0],o=a.points.splice(0,r);var s,l,u;e.prjCoordSys?("object"===yC(e.prjCoordSys)?(l=e.prjCoordSys.projCode,s='{"epsgCode"'+l.substring(l.indexOf(":"),l.length)+"}"):"string"==typeof e.prjCoordSys&&(s='{"epsgCode"'+e.prjCoordSys.substring(e.prjCoordSys.indexOf(":"),e.prjCoordSys.length)+"}"),u={point2Ds:hK.toJSON(o),unit:e.unit,prjCoordSys:s}):u={point2Ds:hK.toJSON(o),unit:e.unit},t.request({method:"GET",params:u,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}}}]),t}(mZ);rX.MeasureService=u1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c1=function(e){function t(e,n){var r;return TC(this,t),r=xC(this,LC(t).call(this,e,n)),r.mode=null,n&&hK.extend(jC(r),n),r.CLASS_NAME="SuperMap.OverlayAnalystService",r}return NC(t,e),kC(t,[{key:"destroy",value:function(){AC(LC(t.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(e){var t={},n=this;"/"!==n.url.substr(n.url.length-1,1)&&(n.url+="/"),e instanceof i$?(n.mode="datasets",n.url+="datasets/"+e.sourceDataset+"/overlay.json?returnContent=true",i$.toObject(e,t)):e instanceof Y$&&(n.mode="geometry",e.operateGeometries&&e.sourceGeometries?n.url+="geometry/overlay/batch.json?returnContent=true&ignoreAnalystParam=true":n.url+="geometry/overlay.json?returnContent=true",Y$.toObject(e,t));var r=hK.toJSON(t);n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}]),t}(PZ);rX.OverlayAnalystService=c1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var f1=function(){function e(t){IC(this,e),t&&(this.datasetName="",this.datasetOverlay="",this.mode="",this.srcFields="",this.overlayFields="",this.output=null,this.mappingParameters=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.OverlayGeoJobParameter")}return DC(e,[{key:"destroy",value:function(){this.datasetName=null,this.datasetOverlay=null,this.mode=null,this.srcFields=null,this.overlayFields=null,this.output instanceof FZ&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof DZ&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!=n?"output"!==n?(t.analyst=t.analyst||{},t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();rX.OverlayGeoJobParameter=f1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var p1=function(e){function t(e,n){var r;return BC(this,t),r=JC(this,qC(t).call(this,e,n)),r.url+="/spatialanalyst/overlay",r.CLASS_NAME="SuperMap.OverlayGeoJobsService",r}return YC(t,e),HC(t,[{key:"destroy",value:function(){VC(qC(t.prototype),"destroy",this).call(this)}},{key:"getOverlayGeoJobs",value:function(){VC(qC(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getOverlayGeoJob",value:function(e){VC(qC(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addOverlayGeoJob",value:function(e,n){VC(qC(t.prototype),"addJob",this).call(this,this.url,e,f1,n)}}]),t}(BZ);rX.OverlayGeoJobsService=p1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var h1=function(e){function t(e){var n;return KC(this,t),e?(n=eT(this,oT(t).call(this,e)),n.returnContent=!0,n.bounds=null,hK.extend(tT(n),e),n.CLASS_NAME="SuperMap.QueryByBoundsParameters",n):eT(n)}return iT(t,e),$C(t,[{key:"destroy",value:function(){nT(oT(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.bounds&&(e.bounds=null)}}]),t}(YZ);rX.QueryByBoundsParameters=h1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var y1=function(e){function t(e,n){var r;lT(this,t),r=fT(this,dT(t).call(this,e,n)),r.returnContent=!1,r.format=oX.GEOJSON,r.returnFeatureWithFieldCaption=!1,n&&hK.extend(pT(r),n),r.CLASS_NAME="SuperMap.QueryService";var o,i=pT(r);return i.url?(n&&n.format&&(i.format=n.format.toUpperCase()),o=i.url.substr(i.url.length-1,1),i.url+="/"===o?"queryResults.json?":"/queryResults.json?",r):fT(r)}return vT(t,e),cT(t,[{key:"destroy",value:function(){hT(dT(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.format=null}},{key:"processAsync",value:function(e){if(e instanceof YZ){var t=this,n=null,r=null;t.returnContent=e.returnContent,r=t.getJsonParameters(e),t.returnContent?t.url+="returnContent="+t.returnContent:(n=e.returnCustomResult)&&(t.url+="returnCustomResult="+n),t.returnFeatureWithFieldCaption=e.returnFeatureWithFieldCaption,t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}},{key:"serviceProcessCompleted",value:function(e){var t=this;e=hK.transformResult(e);var n=new BK;if(e&&e.recordsets)for(var r=0,o=e.recordsets,i=o.length;r<i;r++)o[r].features&&(!0===t.returnFeatureWithFieldCaption&&o[r].features.map(function(e){return e.fieldNames=o[r].fieldCaptions,e}),t.format===oX.GEOJSON&&(o[r].features=n.toGeoJSON(o[r].features)));t.events.triggerEvent("processCompleted",{result:e})}},{key:"getQueryParameters",value:function(e){return new YZ({customParams:e.customParams,expectCount:e.expectCount,networkType:e.networkType,queryOption:e.queryOption,queryParams:e.queryParams,startRecord:e.startRecord,prjCoordSys:e.prjCoordSys,holdTime:e.holdTime})}}]),t}(mZ);rX.QueryService=y1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var d1=function(e){function t(e,n){var r;return gT(this,t),r=OT(this,TT(t).call(this,e,n)),r.CLASS_NAME="SuperMap.QueryByBoundsService",r}return ET(t,e),wT(t,[{key:"destroy",value:function(){PT(TT(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){if(!(e instanceof h1))return null;var t=this,n="",r=null,o=e.bounds;return r=t.getQueryParameters(e),n+="'queryMode':'BoundsQuery','queryParameters':",n+=hK.toJSON(r),n+=",'bounds': {'rightTop':{'y':"+o.top+",'x':"+o.right+"},'leftBottom':{'y':"+o.bottom+",'x':"+o.left+"}}",n="{"+n+"}"}}]),t}(y1);rX.QueryByBoundsService=d1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var v1=function(e){function t(e){var n;return jT(this,t),e?(n=LT(this,FT(t).call(this,e)),n.distance=0,n.geometry=null,n.isNearest=null,n.returnContent=!0,hK.extend(NT(n),e),n.CLASS_NAME="SuperMap.QueryByDistanceParameters",n):LT(n)}return DT(t,e),RT(t,[{key:"destroy",value:function(){MT(FT(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.distance=null,e.isNearest=null,e.geometry&&(e.geometry.destroy(),e.geometry=null)}}]),t}(YZ);rX.QueryByDistanceParameters=v1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var m1=function(e){function t(e,n){var r;return UT(this,t),r=zT(this,YT(t).call(this,e,n)),r.CLASS_NAME="SuperMap.QueryByDistanceService",r}return QT(t,e),JT(t,[{key:"destroy",value:function(){WT(YT(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){if(e instanceof v1){var t=this,n="",r=t.getQueryParameters(e),o=GK.fromGeometry(e.geometry);return n+=e.isNearest?"'queryMode':'FindNearest','queryParameters':":"'queryMode':'DistanceQuery','queryParameters':",n+=hK.toJSON(r),n+=",'geometry':"+hK.toJSON(o)+",'distance':"+e.distance,n="{"+n+"}"}}}]),t}(y1);rX.QueryByDistanceService=m1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b1=function(e){function t(e){var n;return ZT(this,t),e?(n=tE(this,iE(t).call(this,e)),n.returnContent=!0,n.geometry=null,n.spatialQueryMode=uX.INTERSECT,hK.extend(nE(n),e),n.CLASS_NAME="SuperMap.QueryByGeometryParameters",n):tE(n)}return aE(t,e),eE(t,[{key:"destroy",value:function(){rE(iE(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.geometry=null,e.spatialQueryMode=null}}]),t}(YZ);rX.QueryByGeometryParameters=b1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var g1=function(e){function t(e,n){var r;return uE(this,t),r=pE(this,vE(t).call(this,e,n)),r.CLASS_NAME="SuperMap.QueryByGeometryService",r}return mE(t,e),fE(t,[{key:"destroy",value:function(){yE(vE(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){if(e instanceof b1){var t=this,n="",r=null,o=e.geometry,i=GK.fromGeometry(o);return r=t.getQueryParameters(e),n+="'queryMode':'SpatialQuery','queryParameters':",n+=hK.toJSON(r)+",'geometry':"+hK.toJSON(i)+",'spatialQueryMode':"+hK.toJSON(e.spatialQueryMode),n="{"+n+"}"}}}]),t}(y1);rX.QueryByGeometryService=g1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var S1=function(e){function t(e){var n;return SE(this,t),e?(n=_E(this,EE(t).call(this,e)),n.returnContent=!0,hK.extend(PE(n),e),n.CLASS_NAME="SuperMap.QueryBySQLParameters",n):_E(n)}return kE(t,e),OE(t,[{key:"destroy",value:function(){CE(EE(t.prototype),"destroy",this).call(this),this.returnContent=null}}]),t}(YZ);rX.QueryBySQLParameters=S1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var w1=function(e){function t(e,n){var r;return AE(this,t),r=NE(this,DE(t).call(this,e,n)),r.CLASS_NAME="SuperMap.QueryBySQLService",r}return GE(t,e),LE(t,[{key:"destroy",value:function(){IE(DE(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){if(e instanceof S1){var t=this,n="",r=null;return r=t.getQueryParameters(e),n+="'queryMode':'SqlQuery','queryParameters':",n+=hK.toJSON(r),n="{"+n+"}"}}}]),t}(y1);rX.QueryBySQLService=w1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var O1=function(){function e(t){if(UE(this,e),!t)return this;this.sourceRoute=null,this.point=null,this.tolerance=null,this.isIgnoreGap=!1,hK.extend(this,t),this.CLASS_NAME="SuperMap.RouteCalculateMeasureParameters"}return JE(e,[{key:"destroy",value:function(){var e=this;e.sourceRoute=null,e.point=null,e.tolerance&&(e.tolerance=null),e.isIgnoreGap&&(e.isIgnoreGap=!1)}}]),e}();rX.RouteCalculateMeasureParameters=O1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _1=function(e){function t(e,n){var r;return VE(this,t),r=YE(this,ZE(t).call(this,e,n)),r.CLASS_NAME="SuperMap.RouteCalculateMeasureService",r}return $E(t,e),qE(t,[{key:"destroy",value:function(){XE(ZE(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof O1){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(e){var t,n="geometry/calculatemeasure",r=this;return t=r.url.substr(r.url.length-1,1),r.url+="/"===t?n+".json":"/"+n+".json",r.url+="?returnContent=true",hK.toJSON(e)}}]),t}(PZ);rX.RouteCalculateMeasureService=_1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P1=function(){function e(t){if(tk(this,e),!t)return this;this.sourceRoute=null,this.dataset=null,this.routeIDField=null,this.routeID=null,this.type=null,this.measure=null,this.offset=0,this.isIgnoreGap=!1,this.startMeasure=null,this.endMeasure=null;var n=t.sourceRoute,r={};if(n&&n instanceof vK&&n.components){r.type=n.type,r.parts=n.parts;for(var o=[],i=0,a=n.components.length;i<a;i++)o=o.concat(n.components[i].components);r.points=o,t.sourceRoute=r}hK.extend(this,t),this.CLASS_NAME="SuperMap.RouteLocatorParameters"}return rk(e,[{key:"destroy",value:function(){var e=this;e.sourceRoute=null,e.type=null,e.measure=null,e.offset=0,e.isIgnoreGap=!1,e.startMeasure=null,e.endMeasure=null,e.dataset=null,e.routeID=null,e.routeIDField=null}}]),e}();rX.RouteLocatorParameters=P1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var C1=function(e){function t(e,n){var r;return ik(this,t),r=lk(this,pk(t).call(this,e,n)),r.CLASS_NAME="SuperMap.RouteLocatorService",r}return hk(t,e),sk(t,[{key:"destroy",value:function(){ck(pk(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof P1){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(e){var t,n="geometry/routelocator",r=this;return t=r.url.substr(r.url.length-1,1),e.dataset&&(n="datasets/"+e.dataset+"/linearreferencing/routelocator",e.sourceRoute=null),r.url+="/"===t?n+".json":"/"+n+".json",r.url+="?returnContent=true",hK.toJSON(e)}}]),t}(PZ);rX.RouteLocatorService=C1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var T1=function(){function e(t){dk(this,e),this.fieldNames=null,this.fieldValues=null,this.geometry=null,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ServerFeature"}return mk(e,[{key:"destroy",value:function(){var e=this;e.fieldNames=null,e.fieldValues=null,e.geometry&&(e.geometry.destroy(),e.geometry=null)}},{key:"toFeature",value:function(){var e,t,n,r,o={},i=this;e=i.fieldNames,t=i.fieldValues;for(var a in e)o[e[a]]=t[a];return i.geometry&&(n=i.geometry.toGeometry()),r=new RK(n,o),i.geometry&&i.geometry.id&&(r.fid=i.geometry.id),r}}],[{key:"fromJson",value:function(t){var n=null;if(t)return n=t.geometry,n&&(n=GK.fromJson(n)),new e({fieldNames:t.fieldNames,fieldValues:t.fieldValues,geometry:n})}}]),e}();rX.ServerFeature=T1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var E1=function(){function e(t){bk(this,e),t=t||{},this.resourceID=null,this.tempLayerName=null,this.layerInfo=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.SetLayerInfoParameters"}return Sk(e,[{key:"destroy",value:function(){var e=this;e.resourceID=null,e.tempLayerName=null,e.layerInfo=null}}]),e}();rX.SetLayerInfoParameters=E1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var k1=function(e){function t(e,n){var r;return Ok(this,t),r=Ck(this,xk(t).call(this,e,n)),n&&hK.extend(Tk(r),n),r.CLASS_NAME="SuperMap.SetLayerInfoService",r}return jk(t,e),Pk(t,[{key:"destroy",value:function(){Ek(xk(t.prototype),"destroy",this).call(this),hK.reset(this)}},{key:"processAsync",value:function(e){if(e){var t=this;t.url+=".json";var n=hK.toJSON(e);t.request({method:"PUT",data:n,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}]),t}(mZ);rX.SetLayerInfoService=k1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var x1=function(){function e(t){Rk(this,e),t=t||{},this.isTempLayers=null,this.resourceID=null,this.layersInfo=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.SetLayersInfoParameters"}return Nk(e,[{key:"destroy",value:function(){var e=this;e.isTempLayers=null,e.resourceID=null,e.layersInfo=null}}]),e}();rX.SetLayersInfoParameters=x1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var j1=function(e){function t(e,n){var r;return Ik(this,t),r=Gk(this,Jk(t).call(this,e,n)),r.resourceID=null,r.isTempLayers=!1,n&&rX.Util.extend(Bk(r),n),r.CLASS_NAME="SuperMap.SetLayersInfoService",r}return zk(t,e),Dk(t,[{key:"destroy",value:function(){Uk(Jk(t.prototype),"destroy",this).call(this),hK.reset(this)}},{key:"processAsync",value:function(e){if(e){var t,n,r=[],o=this,i="";n=o.url.substr(o.url.length-1,1),o.url+="/"===n?"":"/",o.isTempLayers?(o.url+="tempLayersSet/"+o.resourceID,i="PUT"):(o.url+="tempLayersSet",i="POST"),o.url+=".json?",e.subLayers||(e.subLayers={layers:[]}),e.subLayers.layers||(e.subLayers.layers=[]);var a=e.subLayers.layers,s=a.length;for(var l in a){if("GRID"===a[l].ugcLayerType){var u={},c=a[l].colorDictionarys;for(var f in c){u[c[f].elevation]=c[f].color}}a[l].colorDictionary=u,delete a[l].colorDictionarys}for(var p=0;p<s;p++)a[p].toJsonObject?r.push(a[p].toJsonObject()):r.push(a[p]);t=hK.extend(t,e),t.subLayers={layers:r},t.object=null;var h=hK.toJSON([t]);o.request({method:i,data:h,scope:o,success:o.serviceProcessCompleted,failure:o.serviceProcessFailed})}}}]),t}(mZ);rX.SetLayersInfoService=j1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var A1=function(){function e(t){Wk(this,e),this.layerStatusList=[],this.holdTime=15,this.resourceID=null,t&&hK.extend(this,t)}return Yk(e,[{key:"destroy",value:function(){var e=this;e.layerStatusList=null,e.holdTime=null,e.resourceID=null}},{key:"toJSON",value:function(){var e="{";e+='"layers":[';for(var t=[],n=0,r=this.layerStatusList.length;n<r;n++)t.push(this.layerStatusList[n].toJSON());return e+=t,e+="]",e+="}"}}]),e}();rX.SetLayerStatusParameters=A1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var R1=function(e){function t(e,n){var r;return Xk(this,t),r=$k(this,rx(t).call(this,e,n)),r.lastparams=null,r.mapUrl=e,n&&hK.extend(ex(r),n),r.CLASS_NAME="SuperMap.SetLayerStatusService",r}return ox(t,e),Zk(t,[{key:"destroy",value:function(){tx(rx(t.prototype),"destroy",this).call(this),hK.reset(this)}},{key:"processAsync",value:function(e){if(e instanceof A1){var t=this;t.url=t.mapUrl;var n=t.url.substr(t.url.length-1,1);if(t.url+="/"===n?"":"/",null==e.resourceID)t.url+="tempLayersSet",t.url+=".json?",t.lastparams=e,t.request({method:"POST",scope:t,success:t.createTempLayerComplete,failure:t.serviceProcessFailed});else{t.url+="tempLayersSet/"+e.resourceID,t.url+=".json?",t.url+="elementRemain=true&reference="+e.resourceID+"&holdTime="+e.holdTime.toString();var r="[{";r+='"type":"UGC",',null!=e.layerStatusList&&e.layerStatusList.length>0&&(r+='"subLayers":'+e.toJSON()),r+=',"visible":true,',r+='"name":"'+this.getMapName(this.mapUrl)+'"',r+="}]",t.request({method:"PUT",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}},{key:"createTempLayerComplete",value:function(e){var t=this;e=hK.transformResult(e),e.succeed&&(t.lastparams.resourceID=e.newResourceID),t.processAsync(t.lastparams)}},{key:"getMapName",value:function(e){var t=e;"/"===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1));var n=t.lastIndexOf("/");return t.substring(n+1,t.length)}},{key:"serviceProcessCompleted",value:function(e){var t=this;e=hK.transformResult(e),null!=e&&null!=t.lastparams&&(e.newResourceID=t.lastparams.resourceID),t.events.triggerEvent("processCompleted",{result:e})}}]),t}(mZ);rX.SetLayerStatusService=R1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var L1=function(){function e(t){ax(this,e),t&&(this.datasetName="",this.datasetQuery="",this.geometryQuery="",this.mode=uX.CONTAIN,this.output=null,this.mappingParameters=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.SingleObjectQueryJobsParameter")}return lx(e,[{key:"destroy",value:function(){this.datasetName=null,this.datasetQuery=null,this.geometryQuery=null,this.mode=null,this.output instanceof FZ&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof DZ&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();rX.SingleObjectQueryJobsParameter=L1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var N1=function(e){function t(e,n){var r;return cx(this,t),r=hx(this,mx(t).call(this,e,n)),r.url+="/spatialanalyst/query",r.CLASS_NAME="SuperMap.SingleObjectQueryJobsService",r}return bx(t,e),px(t,[{key:"destroy",value:function(){dx(mx(t.prototype),"destroy",this).call(this)}},{key:"getQueryJobs",value:function(){dx(mx(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getQueryJob",value:function(e){dx(mx(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addQueryJob",value:function(e,n){dx(mx(t.prototype),"addJob",this).call(this,this.url,e,L1,n)}}]),t}(BZ);rX.SingleObjectQueryJobsService=N1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var M1=function(){function e(t){Sx(this,e),t=t||{},this.keyWord=null,this.returnPosition=!1,hK.extend(this,t),this.CLASS_NAME="SuperMap.StopQueryParameters"}return Ox(e,[{key:"destroy",value:function(){hK.reset(this)}}]),e}();rX.StopQueryParameters=M1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var I1=function(e){function t(e,n){var r;return Px(this,t),r=Ex(this,Ax(t).call(this,e,n)),n=n||{},hK.extend(kx(r),n),r.CLASS_NAME="SuperMap.StopQueryService",r}return Rx(t,e),Tx(t,[{key:"destroy",value:function(){xx(Ax(t.prototype),"destroy",this).call(this),hK.reset(this)}},{key:"processAsync",value:function(e){if(e instanceof M1){var t,n=this;t=n.url.substr(n.url.length-1,1),n.url+="/"===t?"":"/",n.url+="stops/keyword/"+e.keyWord,n.url+=".json?",n.request({method:"GET",params:{returnPosition:e.returnPosition},scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(mZ);rX.StopQueryService=I1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var F1=function(){function e(t){Nx(this,e),t&&(this.datasetName="",this.groupField="",this.attributeField="",this.statisticModes="",this.output=null,this.mappingParameters=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.SummaryAttributesJobsParameter")}return Ix(e,[{key:"destroy",value:function(){this.datasetName=null,this.groupField=null,this.attributeField=null,this.statisticModes=null,this.output instanceof FZ&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof DZ&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();rX.SummaryAttributesJobsParameter=F1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var D1=function(e){function t(e,n){var r;return Dx(this,t),r=Ux(this,Vx(t).call(this,e,n)),r.url+="/spatialanalyst/summaryattributes",r.CLASS_NAME="SuperMap.SummaryAttributesJobsService",r}return Wx(t,e),Bx(t,[{key:"destroy",value:function(){Jx(Vx(t.prototype),"destroy",this).call(this)}},{key:"getSummaryAttributesJobs",value:function(){Jx(Vx(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getSummaryAttributesJob",value:function(e){Jx(Vx(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addSummaryAttributesJob",value:function(e,n){Jx(Vx(t.prototype),"addJob",this).call(this,this.url,e,F1,n)}}]),t}(BZ);rX.SummaryAttributesJobsService=D1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var G1=function(){function e(t){Yx(this,e),t&&(this.datasetName="",this.regionDataset="",this.query="",this.resolution=100,this.meshType=0,this.statisticModes=tK.AVERAGE,this.fields="",this.type=nK.SUMMARYMESH,this.output=null,this.mappingParameters=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.SummaryMeshJobParameter")}return Xx(e,[{key:"destroy",value:function(){this.datasetName=null,this.query=null,this.resolution=null,this.statisticModes=null,this.meshType=null,this.fields=null,this.regionDataset=null,this.type=null,this.output instanceof FZ&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof DZ&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"type"!==n?"output"!==n?("SUMMARYMESH"===e.type&&"regionDataset"!==n||"SUMMARYREGION"===e.type&&!function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}(["meshType","resolution","query"],n))&&(t.analyst=t.analyst||{},"query"===n&&e[n]?t.analyst[n]=e[n].toBBOX():t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):t.type=e[n]:(t.input=t.input||{},t.input[n]=e[n])}}]),e}();rX.SummaryMeshJobParameter=G1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var B1=function(e){function t(e,n){var r;return Zx(this,t),r=tj(this,ij(t).call(this,e,n)),r.url+="/spatialanalyst/aggregatepoints",r.CLASS_NAME="SuperMap.SummaryMeshJobsService",r}return aj(t,e),ej(t,[{key:"destroy",value:function(){rj(ij(t.prototype),"destroy",this).call(this)}},{key:"getSummaryMeshJobs",value:function(){rj(ij(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getSummaryMeshJob",value:function(e){rj(ij(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addSummaryMeshJob",value:function(e,n){rj(ij(t.prototype),"addJob",this).call(this,this.url,e,G1,n)}}]),t}(BZ);rX.SummaryMeshJobsService=B1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var U1=function(){function e(t){lj(this,e),t&&(this.datasetName="",this.regionDataset="",this.sumShape=!0,this.query="",this.standardSummaryFields=!1,this.standardFields="",this.standardStatisticModes="",this.weightedSummaryFields=!1,this.weightedFields="",this.weightedStatisticModes="",this.meshType=0,this.resolution=100,this.meshSizeUnit=eK.METER,this.type=nK.SUMMARYMESH,this.output=null,this.mappingParameters=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.SummaryRegionJobParameter")}return cj(e,[{key:"destroy",value:function(){this.datasetName=null,this.sumShape=null,this.regionDataset=null,this.query=null,this.standardSummaryFields=null,this.standardFields=null,this.standardStatisticModes=null,this.weightedSummaryFields=null,this.weightedFields=null,this.weightedStatisticModes=null,this.meshType=null,this.resolution=null,this.meshSizeUnit=null,this.type=null,this.output instanceof FZ&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof DZ&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"type"!==n&&"type"!==n?"output"!==n?("SUMMARYREGION"===e.type||"SUMMARYMESH"===e.type&&"regionDataset"!==n)&&(t.analyst=t.analyst||{},"query"===n&&e[n]?t.analyst[n]=e[n].toBBOX():t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):t.type=e[n]:(t.input=t.input||{},t.input[n]=e[n])}}]),e}();rX.SummaryRegionJobParameter=U1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var H1=function(e){function t(e,n){var r;return pj(this,t),r=dj(this,gj(t).call(this,e,n)),r.url+="/spatialanalyst/summaryregion",r.CLASS_NAME="SuperMap.SummaryRegionJobsService",r}return Sj(t,e),yj(t,[{key:"destroy",value:function(){mj(gj(t.prototype),"destroy",this).call(this)}},{key:"getSummaryRegionJobs",value:function(){mj(gj(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getSummaryRegionJob",value:function(e){mj(gj(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addSummaryRegionJob",value:function(e,n){mj(gj(t.prototype),"addJob",this).call(this,this.url,e,U1,n)}}]),t}(BZ);rX.SummaryRegionJobsService=H1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var J1=function(){function e(t){Oj(this,e),this.maxWeight=null,this.nodeID=null,this.resourceValue=null,this.type=null,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.SupplyCenter"}return Pj(e,[{key:"destroy",value:function(){var e=this;e.maxWeight=null,e.nodeID=null,e.resourceValue=null,e.type=null}}],[{key:"fromJson",value:function(t){if(t)return new e({maxWeight:t.maxWeight,nodeID:t.nodeID,resourceValue:t.resourceValue,type:t.type})}}]),e}();rX.SupplyCenter=J1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var z1=function(e){function t(e,n){var r;return Tj(this,t),r=xj(this,Lj(t).call(this,e,n)),r.CLASS_NAME="SuperMap.SurfaceAnalystService",r}return Nj(t,e),kj(t,[{key:"destroy",value:function(){Aj(Lj(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof s$){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(e){var t,n="",r={},o=this;if(e instanceof l$)t=o.url.substr(o.url.length-1,1),o.url+="/"===t?"datasets/"+e.dataset+"/"+e.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true":"/datasets/"+e.dataset+"/"+e.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true",l$.toObject(e,r),n=hK.toJSON(r);else{if(!(e instanceof Q$))return;t=o.url.substr(o.url.length-1,1),o.url+="/"===t?"geometry/"+e.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true":"/geometry/"+e.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true",n=hK.toJSON(e)}return n}}]),t}(PZ);rX.SurfaceAnalystService=z1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var V1=function(){function e(t){Ij(this,e),t&&(this.dataset=null,this.zFactor=1,this.averageCurvatureName=null,this.profileCurvatureName="",this.planCurvatureName="",this.deleteExistResultDataset=!1,hK.extend(this,t),this.CLASS_NAME="SuperMap.TerrainCurvatureCalculationParameters")}return Dj(e,[{key:"destroy",value:function(){var e=this;e.dataset=null,e.zFactor=1,e.averageCurvatureName=null,e.profileCurvatureName=null,e.planCurvatureName=null,e.deleteExistResultDataset=!0}}],[{key:"toObject",value:function(e,t){for(var n in e)"dataset"!==n&&(t[n]=e[n])}}]),e}();rX.TerrainCurvatureCalculationParameters=V1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var W1=function(e){function t(e,n){var r;return Bj(this,t),r=Jj(this,qj(t).call(this,e,n)),r.CLASS_NAME="SuperMap.TerrainCurvatureCalculationService",r}return Yj(t,e),Hj(t,[{key:"destroy",value:function(){Vj(qj(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){var t=this;"/"!==t.url.substr(t.url.length-1,1)&&(t.url+="/");var n={};e instanceof V1&&(t.url+="datasets/"+e.dataset+"/terraincalculation/curvature"),V1.toObject(e,n);var r=rX.Util.toJSON(n);t.url+=".json?returnContent=true",t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}]),t}(PZ);rX.TerrainCurvatureCalculationService=W1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var q1=function(){function e(t){Xj(this,e),this.caption=null,this.color=new MK,this.end=0,this.start=0,this.visible=!0,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGridRangeItem"}return Zj(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.end=null,e.start=null,e.color&&(e.color.destroy(),e.color=null),e.visible=null}},{key:"toServerJSONObject",value:function(){var e={};return e=hK.copyAttributes(e,this),e.color&&e.color.toServerJSONObject&&(e.color=e.color.toServerJSONObject()),e}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return hK.copy(n,t),n.color=MK.fromJson(t.color),n}}}]),e}();rX.ThemeGridRangeItem=q1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Y1=function(e){function t(e){var n;return eA(this,t),n=rA(this,sA(t).call(this,"GRIDRANGE",e)),n.items=null,n.rangeMode=gX.EQUALINTERVAL,n.rangeParameter=0,n.colorGradientType=wX.YELLOW_RED,n.reverseColor=!1,e&&hK.extend(oA(n),e),n.CLASS_NAME="SuperMap.ThemeGridRange",n}return lA(t,e),nA(t,[{key:"destroy",value:function(){iA(sA(t.prototype),"destroy",this).call(this);var e=this;if(e.items){if(e.items.length>0)for(var n in e.items)e.items[n].destroy(),e.items[n]=null;e.items=null}e.reverseColor=null,e.rangeMode=null,e.rangeParameter=null,e.colorGradientType=null}}],[{key:"fromObj",value:function(e){if(e){var n=new t;hK.copy(n,e);var r=e.items,o=r?r.length:0;n.items=[];for(var i=0;i<o;i++)n.items.push(q1.fromObj(r[i]));return n}}}]),t}(d0);rX.ThemeGridRange=Y1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Q1=function(){function e(t){cA(this,e),this.caption=null,this.color=new MK,this.unique=null,this.visible=!0,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGridUniqueItem"}return pA(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.unique=null,e.color&&(e.color.destroy(),e.color=null),e.visible=null}},{key:"toServerJSONObject",value:function(){var e={};return e=hK.copyAttributes(e,this),e.color&&e.color.toServerJSONObject&&(e.color=e.color.toServerJSONObject()),e}}],[{key:"fromObj",value:function(t){var n=new e;return hK.copy(n,t),n.color=MK.fromJson(t.color),n}}]),e}();rX.ThemeGridUniqueItem=Q1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var X1=function(e){function t(e){var n;return yA(this,t),n=mA(this,wA(t).call(this,"GRIDUNIQUE",e)),n.defaultcolor=new MK,n.items=null,e&&hK.extend(bA(n),e),n.CLASS_NAME="SuperMap.ThemeGridUnique",n}return OA(t,e),vA(t,[{key:"destroy",value:function(){gA(wA(t.prototype),"destroy",this).call(this);var e=this;if(e.items){if(e.items.length>0)for(var n in e.items)e.items[n].destroy(),e.items[n]=null;e.items=null}e.defaultcolor&&(e.defaultcolor.destroy(),e.defaultcolor=null)}},{key:"toServerJSONObject",value:function(){var e={};if(e=hK.copyAttributes(e,this),e.defaultcolor&&e.defaultcolor.toServerJSONObject&&(e.defaultcolor=e.defaultcolor.toServerJSONObject()),e.items){for(var t=[],n=e.items.length,r=0;r<n;r++)t.push(e.items[r].toServerJSONObject());e.items=t}return e}}],[{key:"fromObj",value:function(e){var n=new t,r=e.items,o=r?r.length:0;hK.extend(n,e),n.items=[],n.defaultcolor=MK.fromJson(e.defaultcolor);for(var i=0;i<o;i++)n.items.push(Q1.fromObj(r[i]));return n}}]),t}(d0);rX.ThemeGridUnique=X1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var K1=function(){function e(t){PA(this,e),this.caption=null,this.unique=null,this.offsetX=0,this.offsetY=0,this.visible=!0,this.style=new v0,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeLabelUniqueItem"}return TA(e,[{key:"destroy",value:function(){var e=this;e.unique=null,e.caption=null,e.offsetX=null,e.offsetY=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return hK.copy(n,t),n}}}]),e}();rX.ThemeLabelUniqueItem=K1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Z1=function(){function e(t){EA(this,e),this.datasetNames=null,this.dataSourceNames=null,this.joinItems=null,this.themes=null,this.displayFilters=null,this.displayOrderBys=null,this.fieldValuesDisplayFilter=null,t&&hK.extend(this,t),this.CLASS_NAME="SuperMap.ThemeParameters"}return xA(e,[{key:"destroy",value:function(){var e=this;if(e.datasetNames=null,e.dataSourceNames=null,e.joinItems){for(var t=0,n=e.joinItems,r=n.length;t<r;t++)n[t].destroy();e.joinItems=null}if(e.themes){for(var o=0,i=e.themes,a=i.length;o<a;o++)i[o].destroy();e.themes=null}}}]),e}();rX.ThemeParameters=Z1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $1=function(e){function t(e,n){var r;AA(this,t),r=NA(this,DA(t).call(this,e,n)),n&&rX.Util.extend(MA(r),n);var o,i=MA(r);return o=i.url.substr(i.url.length-1,1),i.url+="/"===o?"tempLayersSet.json?":"/tempLayersSet.json?",r.CLASS_NAME="SuperMap.ThemeService",r}return GA(t,e),LA(t,[{key:"destroy",value:function(){IA(DA(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof Z1){var t=this,n=null;n=t.getJsonParameters(e),t.request({method:"POST",data:n,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(e){var t,n="",r=null,o=null,i=null;n+="[{'type': 'UGC','subLayers': {'layers': [";for(var a=0;a<e.themes.length;a++){r=e.themes[a];var s=hK.toJSON(r);if(s=s.slice(0,-1),n+="{'theme': "+s+"},'type': 'UGC','ugcLayerType': 'THEME',",o=e.displayFilters,o&&o.length>0&&(1===o.length?n+="'displayFilter':\""+o[0]+'",':n+="'displayFilter':\""+o[a]+'",'),i=e.displayOrderBy,i&&i.length>0&&(1===i.length?n+="'displayOrderBy':'"+i[0]+"',":n+="'displayOrderBy':'"+i[a]+"',"),t=e.fieldValuesDisplayFilter,t&&(n+="'fieldValuesDisplayFilter':"+hK.toJSON(t)+","),e.joinItems&&e.joinItems.length>0&&e.joinItems[a]&&(n+="'joinItems':["+hK.toJSON(e.joinItems[a])+"],"),e.datasetNames&&e.dataSourceNames){var l=e.datasetNames[a]?a:e.datasetNames.length-1,u=e.dataSourceNames[a]?a:e.dataSourceNames.length-1;n+="'datasetInfo': {'name': '"+e.datasetNames[l]+"','dataSourceName': '"+e.dataSourceNames[u]+"'}},"}else n+="},"}e.themes&&e.themes.length>0&&(n=n.substring(0,n.length-1)),n+="]},";var c=this.url.split("/");return n+="'name': '"+c[c.length-2]+"'}]"}}]),t}(mZ);rX.ThemeService=$1;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var e2=function(e){function t(e,n){var r;return HA(this,t),r=VA(this,QA(t).call(this,e,n)),r.mode=null,n&&hK.extend(WA(r),n),r.CLASS_NAME="SuperMap.ThiessenAnalystService",r}return XA(t,e),zA(t,[{key:"destroy",value:function(){qA(QA(t.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(e){var t={},n=this;"/"!==n.url.substr(n.url.length-1,1)&&(n.url+="/"),e instanceof c$?(n.mode="datasets",n.url+="datasets/"+e.dataset+"/thiessenpolygon",c$.toObject(e,t)):e instanceof X$&&(n.mode="geometry",n.url+="geometry/thiessenpolygon",X$.toObject(e,t));var r=hK.toJSON(t);n.url+=".json?returnContent=true",n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}]),t}(PZ);rX.ThiessenAnalystService=e2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var t2=function(e){function t(e,n){var r;return $A(this,t),r=nR(this,aR(t).call(this,e,n)),n&&hK.extend(rR(r),n),r.CLASS_NAME="SuperMap.GeometryBatchAnalystService",r}return sR(t,e),tR(t,[{key:"processAsync",value:function(e){var t=this;"/"!==t.url.substr(t.url.length-1,1)&&(t.url+="/"),t.url+="geometry/batchanalyst.json?returnContent=true&ignoreAnalystParam=true";var n=t._processParams(e),r=hK.toJSON(n);t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}},{key:"_processParams",value:function(e){var t=this;if(hK.isArray(e)){var n=[];return e.map(function(e){return n.push(t._toJSON(e)),e}),n}}},{key:"_toJSON",value:function(e){var t={};if("buffer"===e.analystName)t.analystName="buffer",t.param={},MZ.toObject(e.param,t.param);else if("overlay"===e.analystName)t.analystName="overlay",t.param={},Y$.toObject(e.param,t.param);else if("interpolationDensity"===e.analystName)t.analystName="interpolationDensity",t.param={},W0.toObject(e.param,t.param);else if("interpolationidw"===e.analystName)t.analystName="interpolationidw",t.param={},W0.toObject(e.param,t.param);else if("interpolationRBF"===e.analystName)t.analystName="interpolationRBF",t.param={},W0.toObject(e.param,t.param);else if("interpolationKriging"===e.analystName)t.analystName="interpolationKriging",t.param={},W0.toObject(e.param,t.param);else{if("thiessenpolygon"!==e.analystName)return e;t.analystName="thiessenpolygon",t.param={},X$.toObject(e.param,t.param)}return t}},{key:"destroy",value:function(){oR(aR(t.prototype),"destroy",this).call(this)}}]),t}(PZ);rX.GeometryBatchAnalystService=t2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var n2=function(e){function t(e,n){var r;return cR(this,t),r=hR(this,mR(t).call(this,e,n)),r.CLASS_NAME="SuperMap.TilesetsService",r}return bR(t,e),pR(t,[{key:"destroy",value:function(){dR(mR(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(){if(this.url){var e=this,t=e.url.substr(e.url.length-1,1);e.url=e.url+("/"===t?"tilesets":"/tilesets")+".json?",e.request({method:"GET",scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}}]),t}(mZ);rX.TilesetsService=n2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var r2=function(){function e(t){SR(this,e),t&&(this.datasetName="",this.datasetTopology="",this.tolerance="",this.rule=rK.REGIONNOOVERLAP,this.output=null,this.mappingParameters=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.TopologyValidatorJobsParameter")}return OR(e,[{key:"destroy",value:function(){this.datasetName=null,this.datasetTopology=null,this.tolerance=null,this.rule=null,this.output instanceof FZ&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof DZ&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();rX.TopologyValidatorJobsParameter=r2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var o2=function(e){function t(e,n){var r;return PR(this,t),r=ER(this,AR(t).call(this,e,n)),r.url+="/spatialanalyst/topologyvalidator",r.CLASS_NAME="SuperMap.TopologyValidatorJobsService",r}return RR(t,e),TR(t,[{key:"destroy",value:function(){xR(AR(t.prototype),"destroy",this).call(this)}},{key:"getTopologyValidatorJobs",value:function(){xR(AR(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getTopologyValidatorJob",value:function(e){xR(AR(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addTopologyValidatorJob",value:function(e,n){xR(AR(t.prototype),"addJob",this).call(this,this.url,e,r2,n)}}]),t}(BZ);rX.TopologyValidatorJobsService=o2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var i2=function(){function e(t){NR(this,e),t=t||{},this.lineID=null,this.lineName=null,this.lineAliasName=null,this.startStopIndex=null,this.startStopName=null,this.startStopAliasName=null,this.endStopIndex=null,this.endStopName=null,this.endStopAliasName=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.TransferLine"}return IR(e,[{key:"destroy",value:function(){hK.reset(this)}}],[{key:"fromJson",value:function(t){if(t)return new e({lineID:t.lineID,lineName:t.lineName,lineAliasName:t.lineAliasName,startStopIndex:t.startStopIndex,startStopName:t.startStopName,startStopAliasName:t.startStopAliasName,endStopIndex:t.endStopIndex,endStopName:t.endStopName,endStopAliasName:t.endStopAliasName})}}]),e}();rX.TransferLine=i2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var a2=function(){function e(t){FR(this,e),t=t||{},this.transferLines=null,this.points=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.TransferPathParameters"}return GR(e,[{key:"destroy",value:function(){hK.reset(this)}}],[{key:"toJson",value:function(e){if(e)return hK.toJSON(e)}}]),e}();rX.TransferPathParameters=a2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var s2=function(e){function t(e,n){var r;return UR(this,t),r=zR(this,YR(t).call(this,e,n)),r.CLASS_NAME="SuperMap.TransferPathService",r}return QR(t,e),JR(t,[{key:"destroy",value:function(){WR(YR(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof a2){var t,n,r=this;n=r.url.substr(r.url.length-1,1),r.url+="/"===n?"":"/",r.url+="path.json?",t={points:hK.toJSON(e.points),transferLines:hK.toJSON(e.transferLines)},r.request({method:"GET",params:t,scope:r,success:r.serviceProcessCompleted,failure:r.serviceProcessFailed})}}}]),t}(mZ);rX.TransferPathService=s2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var l2=function(){function e(t){KR(this,e),t=t||{},this.solutionCount=6,this.transferPreference=GX.NONE,this.transferTactic=DX.LESS_TIME,this.walkingRatio=null,this.points=!1,this.evadeLines=null,this.evadeStops=null,this.priorLines=null,this.priorStops=null,this.travelTime=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.TransferSolutionParameters"}return $R(e,[{key:"destroy",value:function(){hK.reset(this)}}],[{key:"toJson",value:function(e){if(e)return hK.toJSON(e)}}]),e}();rX.TransferSolutionParameters=l2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var u2=function(e){function t(e,n){var r;return tL(this,t),r=oL(this,lL(t).call(this,e,n)),r.CLASS_NAME="SuperMap.TransferSolutionService",r}return uL(t,e),rL(t,[{key:"destroy",value:function(){aL(lL(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof l2){var t,n,r=this;n=r.url.substr(r.url.length-1,1),r.url+="/"===n?"":"/",r.url+="solutions.json?",t={points:hK.toJSON(e.points),walkingRatio:e.walkingRatio,transferTactic:e.transferTactic,solutionCount:e.solutionCount,transferPreference:e.transferPreference},e.evadeLines&&(t.evadeLines=hK.toJSON(e.evadeLines)),e.evadeStops&&(t.evadeStops=hK.toJSON(e.evadeStops)),e.priorLines&&(t.priorLines=hK.toJSON(e.priorLines)),e.priorStops&&(t.priorStops=hK.toJSON(e.priorStops)),e.travelTime&&(t.travelTime=e.travelTime),r.request({method:"GET",params:t,scope:r,success:r.serviceProcessCompleted,failure:r.serviceProcessFailed})}}}]),t}(mZ);rX.TransferSolutionService=u2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c2=function(){function e(t){fL(this,e),t&&(this.edgeId="",this.fromNodeId="",this.toNodeId="",this.weightField="",this.edgeWeight="",hK.extend(this,t),this.CLASS_NAME="SuperMap.UpdateEdgeWeightParameters")}return hL(e,[{key:"destroy",value:function(){this.edgeId=null,this.fromNodeId=null,this.toNodeId=null,this.weightField=null,this.edgeWeight=null}}]),e}();rX.UpdateEdgeWeightParameters=c2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var f2=function(e){function t(e,n){var r;return dL(this,t),r=bL(this,OL(t).call(this,e,n)),r.CLASS_NAME="SuperMap.UpdateEdgeWeightService",r}return _L(t,e),mL(t,[{key:"destroy",value:function(){SL(OL(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof c2){var t=this,n=t.url.substr(t.url.length-1,1),r=t.parse(e);"/"===n&&t.url.splice(t.url.length-1,1),t.url=t.url+r+".json?";var o=e.edgeWeight?e.edgeWeight:null;t.request({method:"PUT",scope:t,data:o,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}},{key:"parse",value:function(e){if(e){var t="";for(var n in e)if(""!==e[n]&&"edgeWeight"!==e[n])switch(n){case"edgeId":t+="/edgeweight/"+e[n];break;case"fromNodeId":t+="/fromnode/"+e[n];break;case"toNodeId":t+="/tonode/"+e[n];break;case"weightField":t+="/weightfield/"+e[n]}return t}}}]),t}(JZ);rX.UpdateEdgeWeightService=f2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var p2=function(){function e(t){CL(this,e),t&&(this.nodeId="",this.fromEdgeId="",this.toEdgeId="",this.weightField="",this.turnNodeWeight="",hK.extend(this,t),this.CLASS_NAME="SuperMap.UpdateTurnNodeWeightParameters")}return EL(e,[{key:"destroy",value:function(){this.nodeId=null,this.fromEdgeId=null,this.toEdgeId=null,this.weightField=null,this.turnNodeWeight=null}}]),e}();rX.UpdateTurnNodeWeightParameters=p2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var h2=function(e){function t(e,n){var r;return xL(this,t),r=RL(this,IL(t).call(this,e,n)),r.CLASS_NAME="SuperMap.UpdateTurnNodeWeightService",r}return FL(t,e),AL(t,[{key:"destroy",value:function(){NL(IL(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof p2){var t=this,n=t.url.substr(t.url.length-1,1),r=t.parse(e);"/"===n&&t.url.splice(t.url.length-1,1),t.url=t.url+r+".json?";var o=e.turnNodeWeight?e.turnNodeWeight:null;t.request({method:"PUT",scope:t,data:o,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}},{key:"parse",value:function(e){if(e){var t="";for(var n in e)if(""!==e[n]&&"turnNodeWeight"!==e[n])switch(n){case"nodeId":t+="/turnnodeweight/"+e[n];break;case"fromEdgeId":t+="/fromedge/"+e[n];break;case"toEdgeId":t+="/toedge/"+e[n];break;case"weightField":t+="/weightfield/"+e[n]}return t}}}]),t}(JZ);rX.UpdateTurnNodeWeightService=h2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var y2=function(){function e(t){GL(this,e),t=t||{},this.datasetName="",this.datasetVectorClip="",this.geometryClip="",this.mode=ZX.CLIP,this.output=null,this.mappingParameters=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.VectorClipJobsParameter"}return UL(e,[{key:"destroy",value:function(){this.datasetName=null,this.datasetVectorClip=null,this.geometryClip=null,this.mode=null,this.output instanceof FZ&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof DZ&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();rX.VectorClipJobsParameter=y2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var d2=function(e){function t(e,n){var r;return JL(this,t),r=WL(this,XL(t).call(this,e,n)),r.url+="/spatialanalyst/vectorclip",r.CLASS_NAME="SuperMap.VectorClipJobsService",r}return KL(t,e),VL(t,[{key:"destroy",value:function(){YL(XL(t.prototype),"destroy",this).call(this)}},{key:"getVectorClipJobs",value:function(){YL(XL(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getVectorClipJob",value:function(e){YL(XL(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addVectorClipJob",value:function(e,n){YL(XL(t.prototype),"addJob",this).call(this,this.url,e,y2,n)}}]),t}(BZ);rX.VectorClipJobsService=d2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var v2=function(){function e(t){$L(this,e),t=t||{},this.type=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.RasterFunctionParameter"}return tN(e,[{key:"destroy",value:function(){this.type=null}}]),e}();rX.RasterFunctionParameter=v2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var m2=function(e){function t(e){var n;return rN(this,t),n=aN(this,cN(t).call(this,e)),n.redIndex=0,n.nirIndex=1,n.colorMap="0:ffffe5ff;0.1:f7fcb9ff;0.2:d9f0a3ff;0.3:addd8eff;0.4:78c679ff;0.5:41ab5dff;0.6:238443ff;0.7:006837ff;1:004529ff",n.type=sK.NDVI,hK.extend(sN(n),e),n.CLASS_NAME="SuperMap.NDVIParameter",n}return fN(t,e),iN(t,[{key:"destroy",value:function(){lN(cN(t.prototype),"destroy",this).call(this),this.redIndex=null,this.nirIndex=null,this.colorMap=null}},{key:"toJSON",value:function(){return{redIndex:this.redIndex,nirIndex:this.nirIndex,colorMap:this.colorMap,type:this.type}}}]),t}(v2);rX.NDVIParameter=m2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b2=function(e){function t(e){var n;return yN(this,t),n=mN(this,wN(t).call(this,e)),n.altitude=45,n.azimuth=315,n.zFactor=1,n.type=sK.HILLSHADE,hK.extend(bN(n),e),n.CLASS_NAME="SuperMap.HillshadeParameter",n}return ON(t,e),vN(t,[{key:"destroy",value:function(){gN(wN(t.prototype),"destroy",this).call(this),this.altitude=null,this.azimuth=null,this.zFactor=null}},{key:"toJSON",value:function(){return{altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,type:this.type}}}]),t}(v2);rX.HillshadeParameter=b2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var g2=rX.ServiceStatus={DOES_NOT_INVOLVE:"DOES_NOT_INVOLVE",PUBLISH_FAILED:"PUBLISH_FAILED",PUBLISHED:"PUBLISHED",PUBLISHING:"PUBLISHING",UNPUBLISHED:"UNPUBLISHED",UNPUBLISHED_FAILED:"UNPUBLISHED_FAILED"},S2=rX.DataItemType={AUDIO:"AUDIO",COLOR:"COLOR",COLORSCHEME:"COLORSCHEME",CSV:"CSV",EXCEL:"EXCEL",FILLSYMBOL:"FILLSYMBOL",IMAGE:"IMAGE",LAYERTEMPLATE:"LAYERTEMPLATE",LAYOUTTEMPLATE:"LAYOUTTEMPLATE",LINESYMBOL:"LINESYMBOL",MAPTEMPLATE:"MAPTEMPLATE",MARKERSYMBOL:"MARKERSYMBOL",MBTILES:"MBTILES",PHOTOS:"PHOTOS",SHP:"SHP",SMTILES:"SMTILES",SVTILES:"SVTILES",THEMETEMPLATE:"THEMETEMPLATE",TPK:"TPK",UDB:"UDB",UGCV5:"UGCV5",UNKNOWN:"UNKNOWN",VIDEO:"VIDEO",WORKENVIRONMENT:"WORKENVIRONMENT",WORKSPACE:"WORKSPACE"},w2=rX.DataItemOrderBy={FILENAME:"FILENAME",ID:"ID",LASTMODIFIEDTIME:"LASTMODIFIEDTIME",NICKNAME:"NICKNAME",SERVICESTATUS:"SERVICESTATUS",SIZE:"SIZE",STATUS:"STATUS",TYPE:"TYPE",UPDATETIME:"UPDATETIME",USERNAME:"USERNAME"},O2=rX.FilterField={LINKPAGE:"LINKPAGE",MAPTITLE:"MAPTITLE",NICKNAME:"NICKNAME",RESTITLE:"RESTITLE",USERNAME:"USERNAME"},_2=function(){function e(t){PN(this,e),t=t||{},hK.extend(this,t),this.serverType=iX.ONLINE,this.CLASS_NAME="SuperMap.OnlineServiceBase"}return TN(e,[{key:"request",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t=this.createCredentialUrl(t),r.crossOrigin=this.options.crossOrigin,r.headers=this.options.headers,KK.commit(e,t,n,r).then(function(e){return e.json()})}},{key:"createCredentialUrl",value:function(e){var t=e,n=this.getCredential();if(n){var r="key="+n,o=t.substring(t.length-1,t.length);t.indexOf("?")>-1&&"?"===o?t+=r:t.indexOf("?")>-1&&"?"!==o?t+="&"+r:t+="?"+r}return t}},{key:"getCredential",value:function(){}}]),e}();rX.OnlineServiceBase=_2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P2=function(e){function t(e,n){var r;return kN(this,t),r=AN(this,RN(t).call(this,e)),n=n||{},r.MD5=null,r.type=null,r.userName=null,r.fileName=null,r.size=null,r.serviceStatus=null,r.serviceId=null,r.id=null,r.lastModfiedTime=null,r.status=null,r.storageId=null,r.publishInfo=null,r.authorizeSetting=null,r.nickname=null,r.tags=[],r.description=null,r.dataItemServices=null,r.coordType=null,r.dataCheckResult=null,r.dataMetaInfo=null,r.thumbnail=null,hK.extend(LN(r),n),r.id&&(r.serviceUrl=e+"/"+r.id),r.CLASS_NAME="SuperMap.OnlineData",r}return NN(t,e),jN(t,[{key:"load",value:function(){if(this.serviceUrl){var e=this;return e.request("GET",this.serviceUrl).then(function(t){hK.extend(e,t)})}}},{key:"getPublishedServices",value:function(){return this.dataItemServices}},{key:"getAuthorizeSetting",value:function(){return this.authorizeSetting}}]),t}(_2);rX.OnlineData=P2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var C2=function(){function e(){IN(this,e),this.rootUrl="http://www.supermapol.com",this.webUrl=this.rootUrl+"/web";var t=this.webUrl+"/mycontent";this.mDatasUrl=t+"/datas",this.CLASS_NAME="SuperMap.Online"}return DN(e,[{key:"load",value:function(){return KK.get(this.rootUrl).then(function(e){return e})}},{key:"login",value:function(){ZK.loginOnline(this.rootUrl,!0)}},{key:"queryDatas",value:function(e){var t=this,n=t.mDatasUrl;return e&&(e=e.toJSON()),KK.get(n,e).then(function(e){if(e&&e.content&&!(e.content.length<1)){for(var n=[],r=e.content,o=r.length,i=0;i<o;i++){var a=r[i],s=new P2(t.mDatasUrl,a);n.push(s)}return n}})}}]),e}();rX.Online=C2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var T2=function(){function e(t){GN(this,e),t=t||{},this.userNames=null,this.types=null,this.fileName=null,this.serviceStatuses=null,this.serviceId=null,this.ids=null,this.keywords=null,this.orderBy=null,this.tags=null,this.filterFields=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.OnlineQueryDatasParameter"}return UN(e,[{key:"toJSON",value:function(){var e=this,t={types:e.types,fileName:e.fileName,serviceStatuses:e.serviceStatuses,serviceId:e.serviceId,ids:e.ids,keywords:e.keywords,orderBy:e.orderBy,tags:e.tags,filterFields:e.filterFields};for(var n in t)null==t[n]&&delete t[n];return t}}]),e}();rX.OnlineQueryDatasParameter=T2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var E2=function(){function e(t){HN(this,e),this.name=null,this.serviceIds=null,this.clientType=XX.SERVER,this.limitation=null,hK.extend(this,t),this.CLASS_NAME="SuperMap.KeyServiceParameter"}return zN(e,[{key:"toJSON",value:function(){return{name:this.name,serviceIds:this.serviceIds,clientType:this.clientType,limitation:this.limitation}}}]),e}();rX.KeyServiceParameter=E2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var k2=function e(t,n){VN(this,e),this.type=t,this.server=null,this.tokenServiceUrl=null,this.keyServiceUrl=null,hK.extend(this,n),this.CLASS_NAME="SuperMap.ServerInfo",this.type=this.type||iX.ISERVER,this.server||console.error("server url require is not  undefined");var r="/services/security/tokens.json";this.type===iX.ISERVER&&this.server.indexOf("iserver")<0&&(r="/iserver"+r),this.tokenServiceUrl||(this.tokenServiceUrl=this.server+r),this.keyServiceUrl||(this.type===iX.IPORTAL?this.keyServiceUrl=this.server+"/web/mycontent/keys/register.json":this.type===iX.ONLINE&&(this.keyServiceUrl=this.server+"/web/mycontent/keys.json"))};rX.ServerInfo=k2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var x2=function(){function e(t){WN(this,e),this.userName=null,this.password=null,this.clientType=XX.NONE,this.ip=null,this.referer=null,this.expiration=60,hK.extend(this,t),this.CLASS_NAME="SuperMap.TokenServiceParameter"}return YN(e,[{key:"toJSON",value:function(){return{userName:this.userName,password:this.password,clientType:this.clientType,ip:this.ip,referer:this.referer,expiration:this.expiration}}}]),e}();rX.TokenServiceParameter=x2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var j2=n(8),A2=n.n(j2),R2=function(){function e(t,n){QN(this,e),n=n||{},this.url=t,this.client=new A2.a.Client({host:this.url}),this.change=null,this.openGeoFence=!1,this.outOfGeoFence=null,this.geoFence=null,this.EVENT_TYPES=["change","error","outOfGeoFence"],this.events=new jK(this,null,this.EVENT_TYPES),this.eventListeners=null,hK.extend(this,n),this.eventListeners instanceof Object&&this.events.on(this.eventListeners)}return KN(e,[{key:"setGeoFence",value:function(e){this.geoFence=e}},{key:"bulk",value:function(e,t){return this.client.bulk(e,t)}},{key:"clearScroll",value:function(e,t){return this.client.clearScroll(e,t)}},{key:"count",value:function(e,t){return this.client.count(e,t)}},{key:"create",value:function(e,t){return this.client.create(e,t)}},{key:"delete",value:function(e,t){return this.client.delete(e,t)}},{key:"deleteByQuery",value:function(e,t){return this.client.deleteByQuery(e,t)}},{key:"deleteScript",value:function(e,t){return this.client.deleteScript(e,t)}},{key:"deleteTemplate",value:function(e,t){return this.client.deleteTemplate(e,t)}},{key:"exists",value:function(e,t){return this.client.exists(e,t)}},{key:"existsSource",value:function(e,t){return this.client.existsSource(e,t)}},{key:"explain",value:function(e,t){return this.client.explain(e,t)}},{key:"fieldCaps",value:function(e,t){return this.client.fieldCaps(e,t)}},{key:"get",value:function(e,t){return this.client.get(e,t)}},{key:"getScript",value:function(e,t){return this.client.getScript(e,t)}},{key:"getSource",value:function(e,t){return this.client.getSource(e,t)}},{key:"getTemplate",value:function(e,t){return this.client.getTemplate(e,t)}},{key:"index",value:function(e,t){return this.client.index(e,t)}},{key:"info",value:function(e,t){return this.client.info(e,t)}},{key:"mget",value:function(e,t){return this.client.mget(e,t)}},{key:"msearch",value:function(e,t){var n=this;return n.client.msearch(e).then(function(e){return n._update(e.responses,t),e},function(e){return t(e),n.events.triggerEvent("error",{error:e}),e})}},{key:"msearchTemplate",value:function(e,t){return this.client.msearchTemplate(e,t)}},{key:"mtermvectors",value:function(e,t){return this.client.mtermvectors(e,t)}},{key:"ping",value:function(e,t){return this.client.ping(e,t)}},{key:"putScript",value:function(e,t){return this.client.putScript(e,t)}},{key:"putTemplate",value:function(e,t){return this.client.putTemplate(e,t)}},{key:"reindex",value:function(e,t){return this.client.reindex(e,t)}},{key:"reindexRessrottle",value:function(e,t){return this.client.reindexRessrottle(e,t)}},{key:"renderSearchTemplate",value:function(e,t){return this.client.renderSearchTemplate(e,t)}},{key:"scroll",value:function(e,t){return this.client.scroll(e,t)}},{key:"search",value:function(e,t){var n=this;return n.client.search(e).then(function(e){return n._update(e.responses,t),e},function(e){return t(e),n.events.triggerEvent("error",{error:e}),e})}},{key:"searchShards",value:function(e,t){return this.client.searchShards(e,t)}},{key:"searchTemplate",value:function(e,t){return this.client.searchTemplate(e,t)}},{key:"suggest",value:function(e,t){return this.client.suggest(e,t)}},{key:"termvectors",value:function(e,t){return this.client.termvectors(e,t)}},{key:"update",value:function(e,t){return this.client.update(e,t)}},{key:"updateByQuery",value:function(e,t){return this.client.updateByQuery(e,t)}},{key:"_update",value:function(e,t){var n=this;e&&(n.data=e,n.openGeoFence&&n.geoFence&&n._validateDatas(e),n.events.triggerEvent("change",{data:n.data}),n.change?n.change&&n.change(e):t&&t(void 0,{responses:e}))}},{key:"_validateDatas",value:function(e){if(e){e instanceof Array||(e=[e]);var t,n=e.length;for(t=0;t<n;t++)this._validateData(e[t])}}},{key:"_validateData",value:function(e){var t=this;e.hits.hits.map(function(n){var r=n._source,o=t._getMeterPerMapUnit(t.geoFence.unit),i=t.geoFence.center[0]*o,a=t.geoFence.center[1]*o,s=r.x*o,l=r.y*o;return t._distance(s,l,i,a)>t.geoFence.radius&&(t.outOfGeoFence&&t.outOfGeoFence(e),t.events.triggerEvent("outOfGeoFence",{data:e})),n})}},{key:"_distance",value:function(e,t,n,r){return Math.sqrt((e-n)*(e-n)+(t-r)*(t-r))}},{key:"_getMeterPerMapUnit",value:function(e){var t;return"meter"===e?t=1:"degree"===e&&(t=2*Math.PI*6378137/360),t}}]),e}();rX.ElasticSearch=R2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var L2=function(){function e(){$N(this,e),this.BUILTIN_OBJECT={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},this._ctx=null,this._canvas=null,this._pixelCtx=null,this._width=null,this._height=null,this._offsetX=0,this._offsetY=0,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Util"}return tM(e,[{key:"clone",value:function(e){var t=this.BUILTIN_OBJECT;if("object"==ZN(e)&&null!==e){var n=e;if(e instanceof Array){n=[];for(var r=0,o=e.length;r<o;r++)n[r]=this.clone(e[r])}else if(!t[Object.prototype.toString.call(e)]){n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=this.clone(e[i]))}return n}return e}},{key:"mergeItem",value:function(e,t,n,r){var o=this.BUILTIN_OBJECT;t.hasOwnProperty(n)&&("object"!=ZN(e[n])||o[Object.prototype.toString.call(e[n])]?!r&&n in e||(e[n]=t[n]):this.merge(e[n],t[n],r))}},{key:"merge",value:function(e,t,n){for(var r in t)this.mergeItem(e,t,r,n);return e}},{key:"getContext",value:function(){return this._ctx||(this._ctx=document.createElement("canvas").getContext("2d")),this._ctx}},{key:"getPixelContext",value:function(){return this._pixelCtx||(this._canvas=document.createElement("canvas"),this._width=this._canvas.width,this._height=this._canvas.height,this._pixelCtx=this._canvas.getContext("2d")),this._pixelCtx}},{key:"adjustCanvasSize",value:function(e,t){var n,r=this._canvas,o=this._pixelCtx,i=this._width,a=this._height,s=this._offsetX,l=this._offsetY;e+s>i&&(i=e+s+100,r.width=i,n=!0),t+l>a&&(a=t+l+100,r.height=a,n=!0),e<-s&&(s=100*Math.ceil(-e/100),i+=s,r.width=i,n=!0),t<-l&&(l=100*Math.ceil(-t/100),a+=l,r.height=a,n=!0),n&&o.translate(s,l)}},{key:"getPixelOffset",value:function(){return{x:this._offsetX,y:this._offsetY}}},{key:"indexOf",value:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}},{key:"inherits",value:function(e,t){function n(){}var r=e.prototype;n.prototype=t.prototype,e.prototype=new n;for(var o in r)e.prototype[o]=r[o];e.constructor=e}}]),e}(),N2=function(){function e(){nM(this,e),this.util=new L2,this._ctx=null,this.palette=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],this._palette=this.palette,this.highlightColor="rgba(0,0,255,1)",this._highlightColor=this.highlightColor,this.colorRegExp=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,this._nameColors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"},this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Color"}return oM(e,[{key:"customPalette",value:function(e){this.palette=e}},{key:"resetPalette",value:function(){this.palette=this._palette}},{key:"getColor",value:function(e,t){return e|=0,t=t||this.palette,t[e%t.length]}},{key:"customHighlight",value:function(e){this.highlightColor=e}},{key:"resetHighlight",value:function(){this.highlightColor=this._highlightColor}},{key:"getHighlightColor",value:function(){return this.highlightColor}},{key:"getRadialGradient",value:function(e,t,n,r,o,i,a){var s=this.util;this._ctx||(this._ctx=s.getContext());for(var l=this._ctx.createRadialGradient(e,t,n,r,o,i),u=0,c=a.length;u<c;u++)l.addColorStop(a[u][0],a[u][1]);return l.__nonRecursion=!0,l}},{key:"getLinearGradient",value:function(e,t,n,r,o){var i=this.util;this._ctx||(this._ctx=i.getContext());for(var a=this._ctx.createLinearGradient(e,t,n,r),s=0,l=o.length;s<l;s++)a.addColorStop(o[s][0],o[s][1]);return a.__nonRecursion=!0,a}},{key:"getStepColors",value:function(e,t,n){e=this.toRGBA(e),t=this.toRGBA(t),e=this.getData(e),t=this.getData(t);for(var r=[],o=(t[0]-e[0])/n,i=(t[1]-e[1])/n,a=(t[2]-e[2])/n,s=(t[3]-e[3])/n,l=0,u=e[0],c=e[1],f=e[2],p=e[3];l<n;l++)r[l]=this.toColor([this.adjust(Math.floor(u),[0,255]),this.adjust(Math.floor(c),[0,255]),this.adjust(Math.floor(f),[0,255]),p.toFixed(4)-0],"rgba"),u+=o,c+=i,f+=a,p+=s;return u=t[0],c=t[1],f=t[2],p=t[3],r[l]=this.toColor([u,c,f,p],"rgba"),r}},{key:"getGradientColors",value:function(e,t){var n=[],r=e.length;if(void 0===t&&(t=20),1===r)n=this.getStepColors(e[0],e[0],t);else if(r>1)for(var o=0,i=r-1;o<i;o++){var a=this.getStepColors(e[o],e[o+1],t);o<i-1&&a.pop(),n=n.concat(a)}return n}},{key:"toColor",value:function(e,t){if(t=t||"rgb",e&&(3===e.length||4===e.length)){if(e=this.map(e,function(e){return e>1?Math.ceil(e):e}),t.indexOf("hex")>-1)return"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1);if(t.indexOf("hs")>-1){var n=this.map(e.slice(1,3),function(e){return e+"%"});e[1]=n[0],e[2]=n[1]}return t.indexOf("a")>-1?(3===e.length&&e.push(1),e[3]=this.adjust(e[3],[0,1]),t+"("+e.slice(0,4).join(",")+")"):t+"("+e.slice(0,3).join(",")+")"}}},{key:"toArray",value:function(e){e=this.trim(e),e.indexOf("rgba")<0&&(e=this.toRGBA(e));var t=[],n=0;return e.replace(/[\d.]+/g,function(e){n<3?e|=0:e=+e,t[n++]=e}),t}},{key:"convert",value:function(e,t){if(!this.isCalculableColor(e))return e;var n=this.getData(e),r=n[3];return void 0===r&&(r=1),e.indexOf("hsb")>-1?n=this._HSV_2_RGB(n):e.indexOf("hsl")>-1&&(n=this._HSL_2_RGB(n)),t.indexOf("hsb")>-1||t.indexOf("hsv")>-1?n=this._RGB_2_HSB(n):t.indexOf("hsl")>-1&&(n=this._RGB_2_HSL(n)),n[3]=r,this.toColor(n,t)}},{key:"toRGBA",value:function(e){return this.convert(e,"rgba")}},{key:"toRGB",value:function(e){return this.convert(e,"rgb")}},{key:"toHex",value:function(e){return this.convert(e,"hex")}},{key:"toHSVA",value:function(e){return this.convert(e,"hsva")}},{key:"toHSV",value:function(e){return this.convert(e,"hsv")}},{key:"toHSBA",value:function(e){return this.convert(e,"hsba")}},{key:"toHSB",value:function(e){return this.convert(e,"hsb")}},{key:"toHSLA",value:function(e){return this.convert(e,"hsla")}},{key:"toHSL",value:function(e){return this.convert(e,"hsl")}},{key:"toName",value:function(e){for(var t in this._nameColors)if(this.toHex(this._nameColors[t])===this.toHex(e))return t;return null}},{key:"trim",value:function(e){return String(e).replace(/\s+/g,"")}},{key:"normalize",value:function(e){if(this._nameColors[e]&&(e=this._nameColors[e]),e=this.trim(e),e=e.replace(/hsv/i,"hsb"),/^#[\da-f]{3}$/i.test(e)){e=parseInt(e.slice(1),16);var t=(3840&e)<<8,n=(240&e)<<4,r=15&e;e="#"+((1<<24)+(t<<4)+t+(n<<4)+n+(r<<4)+r).toString(16).slice(1)}return e}},{key:"lift",value:function(e,t){if(!this.isCalculableColor(e))return e;var n=t>0?1:-1;void 0===t&&(t=0),t=Math.abs(t)>1?1:Math.abs(t),e=this.toRGB(e);for(var r=this.getData(e),o=0;o<3;o++)r[o]=1===n?r[o]*(1-t)|0:(255-r[o])*t+r[o]|0;return"rgb("+r.join(",")+")"}},{key:"reverse",value:function(e){if(!this.isCalculableColor(e))return e;var t=this.getData(this.toRGBA(e));return t=this.map(t,function(e){return 255-e}),this.toColor(t,"rgb")}},{key:"mix",value:function(e,t,n){if(!this.isCalculableColor(e)||!this.isCalculableColor(t))return e;void 0===n&&(n=.5),n=1-this.adjust(n,[0,1]);for(var r=2*n-1,o=this.getData(this.toRGBA(e)),i=this.getData(this.toRGBA(t)),a=o[3]-i[3],s=((r*a==-1?r:(r+a)/(1+r*a))+1)/2,l=1-s,u=[],c=0;c<3;c++)u[c]=o[c]*s+i[c]*l;var f=o[3]*n+i[3]*(1-n);return f=Math.max(0,Math.min(1,f)),1===o[3]&&1===i[3]?this.toColor(u,"rgb"):(u[3]=f,this.toColor(u,"rgba"))}},{key:"random",value:function(){return"#"+Math.random().toString(16).slice(2,8)}},{key:"getData",value:function(t){t=this.normalize(t);var n=t.match(this.colorRegExp);if(null===n)throw new Error("The color format error");var r,o,i,a=[];if(n[2])r=n[2].replace("#","").split(""),i=[r[0]+r[1],r[2]+r[3],r[4]+r[5]],a=this.map(i,function(t){return e.prototype.adjust.call(this,parseInt(t,16),[0,255])});else if(n[4]){var s=n[4].split(",");o=s[3],i=s.slice(0,3),a=this.map(i,function(t){return t=Math.floor(t.indexOf("%")>0?2.55*parseInt(t,0):t),e.prototype.adjust.call(this,t,[0,255])}),void 0!==o&&a.push(this.adjust(parseFloat(o),[0,1]))}else if(n[5]||n[6]){var l=(n[5]||n[6]).split(","),u=parseInt(l[0],0)/360,c=l[1],f=l[2];o=l[3],a=this.map([c,f],function(t){return e.prototype.adjust.call(this,parseFloat(t)/100,[0,1])}),a.unshift(u),void 0!==o&&a.push(this.adjust(parseFloat(o),[0,1]))}return a}},{key:"alpha",value:function(e,t){if(!this.isCalculableColor(e))return e;null===t&&(t=1);var n=this.getData(this.toRGBA(e));return n[3]=this.adjust(Number(t).toFixed(4),[0,1]),this.toColor(n,"rgba")}},{key:"map",value:function(e,t){if("function"!=typeof t)throw new TypeError;for(var n=e?e.length:0,r=0;r<n;r++)e[r]=t(e[r]);return e}},{key:"adjust",value:function(e,t){return e<=t[0]?e=t[0]:e>=t[1]&&(e=t[1]),e}},{key:"isCalculableColor",value:function(e){return e instanceof Array||"string"==typeof e}},{key:"_HSV_2_RGB",value:function(e){var t,n,r,o=e[0],i=e[1],a=e[2];if(0===i)t=255*a,n=255*a,r=255*a;else{var s=6*o;6===s&&(s=0);var l=0|s,u=a*(1-i),c=a*(1-i*(s-l)),f=a*(1-i*(1-(s-l))),p=0,h=0,y=0;0===l?(p=a,h=f,y=u):1===l?(p=c,h=a,y=u):2===l?(p=u,h=a,y=f):3===l?(p=u,h=c,y=a):4===l?(p=f,h=u,y=a):(p=a,h=u,y=c),t=255*p,n=255*h,r=255*y}return[t,n,r]}},{key:"_HSL_2_RGB",value:function(e){var t,n,r,o=e[0],i=e[1],a=e[2];if(0===i)t=255*a,n=255*a,r=255*a;else{var s;s=a<.5?a*(1+i):a+i-i*a;var l=2*a-s;t=255*this._HUE_2_RGB(l,s,o+1/3),n=255*this._HUE_2_RGB(l,s,o),r=255*this._HUE_2_RGB(l,s,o-1/3)}return[t,n,r]}},{key:"_HUE_2_RGB",value:function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),6*n<1?e+6*(t-e)*n:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}},{key:"_RGB_2_HSB",value:function(e){var t,n,r=e[0]/255,o=e[1]/255,i=e[2]/255,a=Math.min(r,o,i),s=Math.max(r,o,i),l=s-a,u=s;if(0===l)t=0,n=0;else{n=l/s;var c=((s-r)/6+l/2)/l,f=((s-o)/6+l/2)/l,p=((s-i)/6+l/2)/l;r===s?t=p-f:o===s?t=1/3+c-p:i===s&&(t=2/3+f-c),t<0&&(t+=1),t>1&&(t-=1)}return t*=360,n*=100,u*=100,[t,n,u]}},{key:"_RGB_2_HSL",value:function(e){var t,n,r=e[0]/255,o=e[1]/255,i=e[2]/255,a=Math.min(r,o,i),s=Math.max(r,o,i),l=s-a,u=(s+a)/2;if(0===l)t=0,n=0;else{n=u<.5?l/(s+a):l/(2-s-a);var c=((s-r)/6+l/2)/l,f=((s-o)/6+l/2)/l,p=((s-i)/6+l/2)/l;r===s?t=p-f:o===s?t=1/3+c-p:i===s&&(t=2/3+f-c),t<0&&(t+=1),t>1&&(t-=1)}return t*=360,n*=100,u*=100,[t,n,u]}}]),e}(),M2=new N2,I2=function(){function e(){iM(this,e)}return sM(e,null,[{key:"createCanvas",value:function(e,t){var n=document.createElement("canvas");return n.height=e,n.width=t,n.getContext("2d")}},{key:"getLinearGradient",value:function(e,t,n,r,o){this._ctx||(this._ctx=this.getContext());for(var i=this._ctx.createLinearGradient(e,t,n,r),a=o.length,s=1/(a-1),l=0,u=0;u<a;u++)i.addColorStop(l,o[u]),l+=s;return i.__nonRecursion=!0,i}},{key:"getContext",value:function(){return this._ctx||(this._ctx=document.createElement("canvas").getContext("2d")),this._ctx}},{key:"getStepColors",value:function(e,t,n){e=M2.toRGBA(e),t=M2.toRGBA(t),e=M2.getData(e),t=M2.getData(t);for(var r=[],o=(t[0]-e[0])/n,i=(t[1]-e[1])/n,a=(t[2]-e[2])/n,s=(t[3]-e[3])/n,l=0,u=e[0],c=e[1],f=e[2],p=e[3];l<n;l++)r[l]=M2.toColor([M2.adjust(Math.floor(u),[0,255]),M2.adjust(Math.floor(c),[0,255]),M2.adjust(Math.floor(f),[0,255]),p.toFixed(4)-0],"hex"),u+=o,c+=i,f+=a,p+=s;return u=t[0],c=t[1],f=t[2],p=t[3],r[l]=M2.toColor([u,c,f,p],"hex"),r}},{key:"getGradientColors",value:function(e,t,n){var r,o,i,a=[],s=e.length;if(void 0!==t){if(s>=t)if("RANGE"===n)for(o=0;o<t;o++)a.push(e[o]);else for(o=0;o<t;o++){var l=Math.floor(o/2);if(o%2==0)a.push(e[l]);else{var u=e.length-1-l;a.push(e[u])}}else{for(r=Math.ceil(t/(s-1)),o=0,i=s-1;o<i;o++){var c=this.getStepColors(e[o],e[o+1],r);o<i-1&&c.pop(),a=a.concat(c)}for(var f=a.length-t,p=0;p<f;p++)a.splice(2,1)}return a}}}]),e}();rX.ColorsPickerUtil=I2;var F2=function(){function e(){lM(this,e)}return cM(e,null,[{key:"newInstance",value:function(){return this.geostatsInstance||(this.geostatsInstance=new window.geostats),this.geostatsInstance}},{key:"getInstance",value:function(e){var t=this.newInstance();return t.setSerie(e),t}},{key:"getArrayStatistic",value:function(e,t){return e.length?"Sum"===t||"求和"===t?this.getSum(e):"Maximum"===t||"最大值"===t?this.getMax(e):"Minimum"===t||"最小值"===t?this.getMin(e):"Average"===t||"平均值"===t?this.getMean(e):"Median"===t||"中位数"===t?this.getMedian(e):"times"===t||"计数"===t?this.getTimes(e):void 0:0}},{key:"getArraySegments",value:function(e,t,n){if("offset"===t)return this.getEqInterval(e,n);if("jenks"===t)return this.getJenks(e,n);if("square"===t){return this.getMin(e)>=0&&this.getSqrtInterval(e,n)}if("logarithm"===t){return this.getMin(e)>0&&this.getGeometricProgression(e,n)}}},{key:"getSum",value:function(e){return this.getInstance(e).sum()}},{key:"getMax",value:function(e){return this.getInstance(e).max()}},{key:"getMin",value:function(e){return this.getInstance(e).min()}},{key:"getMean",value:function(e){return this.getInstance(e).mean()}},{key:"getMedian",value:function(e){return this.getInstance(e).median()}},{key:"getTimes",value:function(e){return e.length}},{key:"getEqInterval",value:function(e,t){return this.getInstance(e).getClassEqInterval(t)}},{key:"getJenks",value:function(e,t){return this.getInstance(e).getClassJenks(t)}},{key:"getSqrtInterval",value:function(e,t){return e=e.map(function(e){return Math.sqrt(e)}),this.getInstance(e).getClassEqInterval(t).map(function(e){return e*e})}},{key:"getGeometricProgression",value:function(e,t){return this.getInstance(e).getClassGeometricProgression(t)}}]),e}();rX.ArrayStatistic=F2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var D2=n(9),G2=n.n(D2),B2=function(){function e(t){pM(this,e),this.env=null,this.parser=null,this.ruleSet=null,this.cartoStr="",this.shaders=null,"string"==typeof t&&(this.cartoStr=t,this.env={frames:[],errors:[],error:function(e){this.errors.push(e)}},this.parser=this.getParser(this.env),this.parse(t),this.shaders=this.toShaders())}return yM(e,[{key:"getParser",value:function(e){function t(){c=h[u],f=l,y=l}function n(){h[u]=c,l=f,y=l}function r(){l>y&&(h[u]=h[u].slice(l-y),y=l)}function o(e){var t,n,o,i;if(e instanceof Function)return e.call(d.parsers);if("string"==typeof e)t=s.charAt(l)===e?e:null,n=1,r();else{if(r(),!(t=e.exec(h[u])))return null;n=t[0].length}if(t){var a=l+=n;for(i=l+h[u].length-n;l<i&&(32===(o=s.charCodeAt(l))||10===o||9===o);)l++;return h[u]=h[u].slice(n+(l-a)),y=l,0===h[u].length&&u<h.length-1&&u++,"string"==typeof t?t:1===t.length?t[0]:t}}function i(e){return"string"==typeof e?s.charAt(l)===e:!!e.test(h[u])}function a(t){var n,r={index:p,filename:e.filename,message:"Parse error.",line:0,column:-1};for(var o in r)0===t[o]&&(t[o]=r[o]);n=t.filename&&v.env.inputs&&v.env.inputs[t.filename]?v.env.inputs[t.filename]:s,t.line=(n.slice(0,t.index).match(/\n/g)||"").length+1;for(var i=t.index;i>=0&&"\n"!==n.charAt(i);i--)t.column++;return new Error([t.filename,t.line,t.column,t.message].join(";"))}var s,l,u,c,f,p,h,y,d,v=this;return this.env=e=e||{},this.env.filename=this.env.filename||null,this.env.inputs=this.env.inputs||{},d={parse:function(t){var n,r=null;if(l=u=y=p=0,h=[],s=t.replace(/\r\n/g,"\n"),e.filename&&(v.env.inputs[e.filename]=s),h=function(e){for(var t,n,o,i,a=0,l=/(?:@\{[\w-]+\}|[^"'`\{\}\/\(\)\\])+/g,u=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,c=/"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'|`((?:[^`]|\\.)*)`/g,f=0,p=e[0],h=0;h<s.length;)if(l.lastIndex=h,(t=l.exec(s))&&t.index===h&&(h+=t[0].length,p.push(t[0])),o=s.charAt(h),u.lastIndex=c.lastIndex=h,(t=c.exec(s))&&t.index===h)h+=t[0].length,p.push(t[0]);else if(n||"/"!==o||"/"!==(i=s.charAt(h+1))&&"*"!==i||!(t=u.exec(s))||t.index!==h){switch(o){case"{":if(!n){f++,p.push(o);break}case"}":if(!n){f--,p.push(o),e[++a]=p=[];break}case"(":if(!n){n=!0,p.push(o);break}case")":if(n){n=!1,p.push(o);break}default:p.push(o)}h++}else h+=t[0].length,p.push(t[0]);return 0!==f&&(r={index:h-1,type:"Parse",message:f>0?"missing closing `}`":"missing opening `{`"}),e.map(function(e){return e.join("")})}([[]]),r)throw a(r);var i=function(e,t){var n=e.specificity,r=t.specificity;return n[0]!=r[0]?r[0]-n[0]:n[1]!=r[1]?r[1]-n[1]:n[2]!=r[2]?r[2]-n[2]:r[3]-n[3]};return n=new rX.CartoCSS.Tree.Ruleset([],o(this.parsers.primary)),n.root=!0,n.toList=function(){return function(e){e.error=function(t){e.errors||(e.errors=new Error("")),e.errors.message?e.errors.message+="\n"+a(t).message:e.errors.message=a(t).message},e.frames=e.frames||[];var t=this.flatten([],[],e);return t.sort(i),t}}(),n},parsers:{primary:function(){for(var e,t=[];(e=o(this.rule)||o(this.ruleset)||o(this.comment))||o(/^[\s\n]+/)||(e=o(this.invalid));)e&&t.push(e);return t},invalid:function(){var e=o(/^[^;\n]*[;\n]/);if(e)return new rX.CartoCSS.Tree.Invalid(e,f)},comment:function(){var e;if("/"===s.charAt(l))return"/"===s.charAt(l+1)?new rX.CartoCSS.Tree.Comment(o(/^\/\/.*/),!0):(e=o(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/))?new rX.CartoCSS.Tree.Comment(e):void 0},entities:{quoted:function(){if('"'===s.charAt(l)||"'"===s.charAt(l)){var e=o(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/);return e?new rX.CartoCSS.Tree.Quoted(e[1]||e[2]):void 0}},field:function(){if(o("[")){var e=o(/(^[^\]]+)/);if(o("]"))return e?new rX.CartoCSS.Tree.Field(e[1]):void 0}},comparison:function(){var e=o(/^=~|=|!=|<=|>=|<|>/);if(e)return e},keyword:function(){var e=o(/^[A-Za-z\u4e00-\u9fa5-]+[A-Za-z-0-9\u4e00-\u9fa5_]*/);if(e)return new rX.CartoCSS.Tree.Keyword(e)},call:function(){var e,t;if(e=/^([\w\-]+|%)\(/.exec(h[u])){if("url"===(e=e[1]))return null;l+=e.length;if(o("("),t=o(this.entities.arguments),o(")"))return e?new rX.CartoCSS.Tree.Call(e,t,l):void 0}},arguments:function(){for(var e,t=[];e=o(this.expression);){t.push(e);if(!o(","))break}return t},literal:function(){return o(this.entities.dimension)||o(this.entities.keywordcolor)||o(this.entities.hexcolor)||o(this.entities.quoted)},url:function(){var e;if("u"===s.charAt(l)&&o(/^url\(/)){e=o(this.entities.quoted)||o(this.entities.variable)||o(/^[\-\w%@$\/.&=:;#+?~]+/)||"";return o(")")?new rX.CartoCSS.Tree.URL(void 0!==e.value||e instanceof rX.CartoCSS.Tree.Variable?e:new rX.CartoCSS.Tree.Quoted(e)):new rX.CartoCSS.Tree.Invalid(e,f,"Missing closing ) in URL.")}},variable:function(){var t,n=l;if("@"===s.charAt(l)&&(t=o(/^@[\w-]+/)))return new rX.CartoCSS.Tree.Variable(t,n,e.filename)},hexcolor:function(){var e;if("#"===s.charAt(l)&&(e=o(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})/)))return new rX.CartoCSS.Tree.Color(e[1])},keywordcolor:function(){var e=h[u].match(/^[a-z]+/);if(e&&e[0]in rX.CartoCSS.Tree.Reference.data.colors)return new rX.CartoCSS.Tree.Color(rX.CartoCSS.Tree.Reference.data.colors[o(/^[a-z]+/)])},dimension:function(){var e=s.charCodeAt(l);if(!(e>57||e<45||47===e)){var t=o(/^(-?\d*\.?\d+(?:[eE][-+]?\d+)?)(\%|\w+)?/);return t?new rX.CartoCSS.Tree.Dimension(t[1],t[2],f):void 0}}},variable:function(){var e;if("@"===s.charAt(l)&&(e=o(/^(@[\w-]+)\s*:/)))return e[1]},entity:function(){var e=o(this.entities.call)||o(this.entities.literal),t=o(this.entities.field)||o(this.entities.variable),n=o(this.entities.url)||o(this.entities.keyword);return e||t||n},end:function(){return o(";")||i("}")},element:function(){var e=o(/^(?:[.#][\w\u4e00-\u9fa5\-]+|\*|Map)/);if(e)return new rX.CartoCSS.Tree.Element(e)},attachment:function(){var e=o(/^::([\w\-]+(?:\/[\w\-]+)*)/);if(e)return e[1]},selector:function(){for(var e,t,n,r,i,u=[],c=new rX.CartoCSS.Tree.Filterset,p=[],h=0,y=0;(n=o(this.element))||(i=o(this.zoom))||(r=o(this.filter))||(e=o(this.attachment));){if(h++,n)u.push(n);else if(i)p.push(i),y++;else if(r){var d=c.add(r);if(d)throw a({message:d,index:l-1});y++}else{if(t)throw a({message:"Encountered second attachment name.",index:l-1});t=e}var v=s.charAt(l);if("{"===v||"}"===v||";"===v||","===v)break}if(h)return new rX.CartoCSS.Tree.Selector(c,p,u,t,y,f)},filter:function(){t();var n,r,i;if(o("[")&&(n=o(/^[a-zA-Z0-9\-_]+/)||o(this.entities.quoted)||o(this.entities.variable)||o(this.entities.keyword)||o(this.entities.field))&&(n instanceof rX.CartoCSS.Tree.Quoted&&(n=new rX.CartoCSS.Tree.Field(n.toString())),(r=o(this.entities.comparison))&&(i=o(this.entities.quoted)||o(this.entities.variable)||o(this.entities.dimension)||o(this.entities.keyword)||o(this.entities.field)))){if(!o("]"))throw a({message:"Missing closing ] of filter.",index:f-1});return n.is||(n=new rX.CartoCSS.Tree.Field(n)),new rX.CartoCSS.Tree.Filter(n,r,i,f,e.filename)}},zoom:function(){t();var e,r;if(o(/^\[\s*zoom/g)&&(e=o(this.entities.comparison))&&(r=o(this.entities.variable)||o(this.entities.dimension))&&o("]"))return new rX.CartoCSS.Tree.Zoom(e,r,f);n()},block:function(){var e;if(o("{")&&(e=o(this.primary))&&o("}"))return e},ruleset:function(){var e,r,i=[];for(t();e=o(this.selector);){for(i.push(e);o(this.comment););if(!o(","))break;for(;o(this.comment););}if(e)for(;o(this.comment););if(i.length>0&&(r=o(this.block))){if(1===i.length&&i[0].elements.length&&"Map"===i[0].elements[0].value){var a=new rX.CartoCSS.Tree.Ruleset(i,r);return a.isMap=!0,a}return new rX.CartoCSS.Tree.Ruleset(i,r)}n()},rule:function(){var r,i,a=s.charAt(l);if(t(),"."!==a&&"#"!==a&&(r=o(this.variable)||o(this.property))){if((i=o(this.value))&&o(this.end))return new rX.CartoCSS.Tree.Rule(r,i,f,e.filename);p=l,n()}},font:function(){for(var e,t=[],n=[];e=o(this.entity);)n.push(e);if(t.push(new rX.CartoCSS.Tree.Expression(n)),o(","))for(;(e=o(this.expression))&&(t.push(e),o(",")););return new rX.CartoCSS.Tree.Value(t)},value:function(){for(var e,t=[];(e=o(this.expression))&&(t.push(e),o(",")););return t.length>1?new rX.CartoCSS.Tree.Value(t.map(function(e){return e.value[0]})):1===t.length?new rX.CartoCSS.Tree.Value(t):void 0},sub:function(){var e;if(o("(")&&(e=o(this.expression))&&o(")"))return e},multiplication:function(){var e,t,n,r;if(e=o(this.operand)){for(;(n=o("/")||o("*")||o("%"))&&(t=o(this.operand));)r=new rX.CartoCSS.Tree.Operation(n,[r||e,t],f);return r||e}},addition:function(){var e,t,n,r;if(e=o(this.multiplication)){for(;(n=o(/^[-+]\s+/)||" "!=s.charAt(l-1)&&(o("+")||o("-")))&&(t=o(this.multiplication));)r=new rX.CartoCSS.Tree.Operation(n,[r||e,t],f);return r||e}},operand:function(){return o(this.sub)||o(this.entity)},expression:function(){for(var e,t=[];e=o(this.addition)||o(this.entity);)t.push(e);if(t.length>0)return new rX.CartoCSS.Tree.Expression(t)},property:function(){var e=o(/^(([a-z][-a-z_0-9]*\/)?\*?-?[-a-z_0-9]+)\s*:/);if(e)return e[1]}}}}},{key:"parse",value:function(e){var t=this.parser;return this.ruleSet=t.parse(e)}},{key:"toShaders",value:function(){if(this.ruleSet){var e=this.ruleSet;if(e){var t=e.toList(this.env);t.reverse();var n={},r=[];this._toShaders(n,r,t);for(var o=[],i={},a=0,s=t.length;a<s;++a){var l=t[a],u=l.attachment,c=n[r[a]],f=[];if(!i[u]){var p=0;for(var h in c)if("zoom"!==h&&"frames"!==h&&"attachment"!==h&&"elements"!=h)if("layer-index"===h){var y=function(e,t){return c[h].join("\n"),null}();Object.defineProperty(f,"layerIndex",{configurable:!0,enumerable:!1,value:y})}else f[p++]=function(e,t){if(!Array.isArray(e))return e;var n=e.join("\n"),r='attributes["FEATUREID"]&&attributes["FEATUREID"]',o=n.indexOf(r);if(o>=0){if(!t.featureFilter){var i=o+r.length,a=n.indexOf(")",i+1),s="featureId&&(featureId"+n.substring(i,a)+")",l=function(e){return!!s};Object.defineProperty(t,"featureFilter",{configurable:!0,enumerable:!1,value:l})}return{property:h,getValue:Function("attributes","zoom","seftFilter","var _value = null; var isExcute=typeof seftFilter=='function'?sefgFilter():seftFilter;if(isExcute){"+n+";} return _value; ")}}return{property:h,getValue:Function("attributes","zoom","var _value = null;"+n+"; return _value; ")}}(c[h],f);Object.defineProperty(f,"attachment",{configurable:!0,enumerable:!1,value:u}),Object.defineProperty(f,"elements",{configurable:!0,enumerable:!1,value:l.elements}),o.push(f),i[r[a]]=!0}Object.defineProperty(f,"zoom",{configurable:!0,enumerable:!1,value:l.zoom})}return o}}return null}},{key:"_toShaders",value:function(e,t,n){for(var r=0,o=n.length;r<o;++r){for(var i=n[r],a=[],s=0,l=i.elements.length;s<l;s++)a.push(i.elements[s]);var u=i.filters.filters,c=[];for(var f in u)c.push(u[f].id);var p=a.join("/")+"::"+i.attachment+"_"+c.join("_");t.push(p);var h=e[p]=e[p]||{};h.zoom=rX.CartoCSS.Tree.Zoom.all;var y=i.toJS(this.env);for(var d in y)(h[d]=h[d]||[]).push(y[d].join("\n"))}}},{key:"getShaders",value:function(){return this.shaders}},{key:"destroy",value:function(){this.cartoStr=null,this.env=null,this.ruleSet=null,this.parser=null,this.shaders=null}}]),e}();rX._mapnik_reference_latest={version:"2.1.1",style:{"filter-mode":{type:["all","first"],doc:"Control the processing behavior of Rule filters within a Style. If 'all' is used then all Rules are processed sequentially independent of whether any previous filters matched. If 'first' is used then it means processing ends after the first match (a positive filter evaluation) and no further Rules in the Style are processed ('first' is usually the default for CSS implementations on top of Mapnik to simplify translation from CSS to Mapnik XML)","default-value":"all","default-meaning":"All Rules in a Style are processed whether they have filters or not and whether or not the filter conditions evaluate to true."},"image-filters":{css:"image-filters","default-value":"none","default-meaning":"no filters",type:"functions",functions:[["agg-stack-blur",2],["emboss",0],["blur",0],["gray",0],["sobel",0],["edge-detect",0],["x-gradient",0],["y-gradient",0],["invert",0],["sharpen",0]],doc:"A list of image filters."},"comp-op":{css:"comp-op","default-value":"src-over","default-meaning":"add the current layer on top of other layers",doc:"Composite operation. This defines how this layer should behave relative to layers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]},opacity:{css:"opacity",type:"float",doc:"An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)","default-value":1,"default-meaning":"no separate buffer will be used and no alpha will be applied to the style after rendering"}},layer:{name:{"default-value":"",type:"string",required:!0,"default-meaning":"No layer name has been provided",doc:"The name of a layer. Can be anything you wish and is not strictly validated, but ideally unique  in the map"},srs:{"default-value":"",type:"string","default-meaning":"No srs value is provided and the value will be inherited from the Map's srs",doc:"The spatial reference system definition for the layer, aka the projection. Can either be a proj4 literal string like '+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs' or, if the proper proj4 epsg/nad/etc identifier files are installed, a string that uses an id like: '+init=epsg:4326'"},status:{"default-value":!0,type:"boolean","default-meaning":"This layer will be marked as active and available for processing",doc:"A property that can be set to false to disable this layer from being processed"},minzoom:{"default-value":"0",type:"float","default-meaning":"The layer will be visible at the minimum possible scale",doc:"The minimum scale denominator that this layer will be visible at. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6"},maxzoom:{"default-value":"1.79769e+308",type:"float","default-meaning":"The layer will be visible at the maximum possible scale",doc:"The maximum scale denominator that this layer will be visible at. The default is the numeric limit of the C++ double type, which may vary slightly by system, but is likely a massive number like 1.79769e+308 and ensures that this layer will always be visible unless the value is reduced. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6"},queryable:{"default-value":!1,type:"boolean","default-meaning":"The layer will not be available for the direct querying of data values",doc:"This property was added for GetFeatureInfo/WMS compatibility and is rarely used. It is off by default meaning that in a WMS context the layer will not be able to be queried unless the property is explicitly set to true"},"clear-label-cache":{"default-value":!1,type:"boolean","default-meaning":"The renderer's collision detector cache (used for avoiding duplicate labels and overlapping markers) will not be cleared immediately before processing this layer",doc:"This property, by default off, can be enabled to allow a user to clear the collision detector cache before a given layer is processed. This may be desirable to ensure that a given layers data shows up on the map even if it normally would not because of collisions with previously rendered labels or markers"},"group-by":{"default-value":"",type:"string","default-meaning":"No special layer grouping will be used during rendering",doc:"https://github.com/mapnik/mapnik/wiki/Grouped-rendering"},"buffer-size":{"default-value":"0",type:"float","default-meaning":"No buffer will be used",doc:"Extra tolerance around the Layer extent (in pixels) used to when querying and (potentially) clipping the layer data during rendering"},"maximum-extent":{"default-value":"none",type:"bbox","default-meaning":"No clipping extent will be used",doc:"An extent to be used to limit the bounds used to query this specific layer data during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Layer."}},symbolizers:{"*":{"image-filters":{css:"image-filters","default-value":"none","default-meaning":"no filters",type:"functions",functions:[["agg-stack-blur",2],["emboss",0],["blur",0],["gray",0],["sobel",0],["edge-detect",0],["x-gradient",0],["y-gradient",0],["invert",0],["sharpen",0]],doc:"A list of image filters."},"comp-op":{css:"comp-op","default-value":"src-over","default-meaning":"add the current layer on top of other layers",doc:"Composite operation. This defines how this layer should behave relative to layers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]},opacity:{css:"opacity",type:"float",doc:"An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)","default-value":1,"default-meaning":"no separate buffer will be used and no alpha will be applied to the style after rendering"}},map:{"background-color":{css:"background-color","default-value":"none","default-meaning":"transparent",type:"color",doc:"Map Background color"},"background-image":{css:"background-image",type:"uri","default-value":"","default-meaning":"transparent",doc:"An image that is repeated below all features on a map as a background.",description:"Map Background image"},srs:{css:"srs",type:"string","default-value":"+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs","default-meaning":"The proj4 literal of EPSG:4326 is assumed to be the Map's spatial reference and all data from layers within this map will be plotted using this coordinate system. If any layers do not declare an srs value then they will be assumed to be in the same srs as the Map and not transformations will be needed to plot them in the Map's coordinate space",doc:"Map spatial reference (proj4 string)"},"buffer-size":{css:"buffer-size","default-value":"0",type:"float","default-meaning":"No buffer will be used",doc:'Extra tolerance around the map (in pixels) used to ensure labels crossing tile boundaries are equally rendered in each tile (e.g. cut in each tile). Not intended to be used in combination with "avoid-edges".'},"maximum-extent":{css:"","default-value":"none",type:"bbox","default-meaning":"No clipping extent will be used",doc:"An extent to be used to limit the bounds used to query all layers during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Map."},base:{css:"base","default-value":"","default-meaning":"This base path defaults to an empty string meaning that any relative paths to files referenced in styles or layers will be interpreted relative to the application process.",type:"string",doc:"Any relative paths used to reference files will be understood as relative to this directory path if the map is loaded from an in memory object rather than from the filesystem. If the map is loaded from the filesystem and this option is not provided it will be set to the directory of the stylesheet."},"paths-from-xml":{css:"","default-value":!0,"default-meaning":"Paths read from XML will be interpreted from the location of the XML",type:"boolean",doc:"value to control whether paths in the XML will be interpreted from the location of the XML or from the working directory of the program that calls load_map()"},"minimum-version":{css:"","default-value":"none","default-meaning":"Mapnik version will not be detected and no error will be thrown about compatibility",type:"string",doc:"The minumum Mapnik version (e.g. 0.7.2) needed to use certain functionality in the stylesheet"},"font-directory":{css:"font-directory",type:"uri","default-value":"none","default-meaning":"No map-specific fonts will be registered",doc:"Path to a directory which holds fonts which should be registered when the Map is loaded (in addition to any fonts that may be automatically registered)."}},polygon:{fill:{css:"polygon-fill",type:"color","default-value":"rgba(128,128,128,1)","default-meaning":"gray and fully opaque (alpha = 1), same as rgb(128,128,128)",doc:"Fill color to assign to a polygon"},"fill-opacity":{css:"polygon-opacity",type:"float",doc:"The opacity of the polygon","default-value":1,"default-meaning":"opaque"},gamma:{css:"polygon-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of polygon edges"},"gamma-method":{css:"polygon-gamma-method",type:["power","linear","none","threshold","multiply"],"default-value":"power","default-meaning":"pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA",doc:"An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h"},clip:{css:"polygon-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"polygon-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"polygon-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"polygon-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},line:{stroke:{css:"line-color","default-value":"rgba(0,0,0,1)",type:"color","default-meaning":"black and fully opaque (alpha = 1), same as rgb(0,0,0)",doc:"The color of a drawn line"},"stroke-width":{css:"line-width","default-value":1,type:"float",doc:"The width of a line in pixels"},"stroke-opacity":{css:"line-opacity","default-value":1,type:"float","default-meaning":"opaque",doc:"The opacity of a line"},"stroke-linejoin":{css:"line-join","default-value":"miter",type:["miter","round","bevel"],doc:"The behavior of lines when joining"},"stroke-linecap":{css:"line-cap","default-value":"butt",type:["butt","round","square"],doc:"The display of line endings"},"stroke-gamma":{css:"line-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of stroke line"},"stroke-gamma-method":{css:"line-gamma-method",type:["power","linear","none","threshold","multiply"],"default-value":"power","default-meaning":"pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA",doc:"An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h"},"stroke-dasharray":{css:"line-dasharray",type:"numbers",doc:"A pair of length values [a,b], where (a) is the dash length and (b) is the gap length respectively. More than two values are supported for more complex patterns.","default-value":"none","default-meaning":"solid line"},"stroke-dashoffset":{css:"line-dash-offset",type:"numbers",doc:"valid parameter but not currently used in renderers (only exists for experimental svg support in Mapnik which is not yet enabled)","default-value":"none","default-meaning":"solid line"},"stroke-miterlimit":{css:"line-miterlimit",type:"float",doc:"The limit on the ratio of the miter length to the stroke-width. Used to automatically convert miter joins to bevel joins for sharp angles to avoid the miter extending beyond the thickness of the stroking path. Normally will not need to be set, but a larger value can sometimes help avoid jaggy artifacts.","default-value":4,"default-meaning":"Will auto-convert miters to bevel line joins when theta is less than 29 degrees as per the SVG spec: 'miterLength / stroke-width = 1 / sin ( theta / 2 )'"},clip:{css:"line-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"line-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},offset:{css:"line-offset",type:"float","default-value":0,"default-meaning":"no offset",doc:"Offsets a line a number of pixels parallel to its actual path. Postive values move the line left, negative values move it right (relative to the directionality of the line)."},rasterizer:{css:"line-rasterizer",type:["full","fast"],"default-value":"full",doc:"Exposes an alternate AGG rendering method that sacrifices some accuracy for speed."},"geometry-transform":{css:"line-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"line-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},markers:{file:{css:"marker-file",doc:"An SVG file that this marker shows at each placement. If no file is given, the marker will show an ellipse.","default-value":"","default-meaning":"An ellipse or circle, if width equals height",type:"uri"},opacity:{css:"marker-opacity",doc:"The overall opacity of the marker, if set, overrides both the opacity of both the fill and stroke","default-value":1,"default-meaning":"The stroke-opacity and fill-opacity will be used",type:"float"},"fill-opacity":{css:"marker-fill-opacity",doc:"The fill opacity of the marker","default-value":1,"default-meaning":"opaque",type:"float"},stroke:{css:"marker-line-color",doc:"The color of the stroke around a marker shape.","default-value":"black",type:"color"},"stroke-width":{css:"marker-line-width",doc:"The width of the stroke around a marker shape, in pixels. This is positioned on the boundary, so high values can cover the area itself.",type:"float"},"stroke-opacity":{css:"marker-line-opacity","default-value":1,"default-meaning":"opaque",doc:"The opacity of a line",type:"float"},placement:{css:"marker-placement",type:["point","line","interior"],"default-value":"point","default-meaning":"Place markers at the center point (centroid) of the geometry",doc:"Attempt to place markers on a point, in the center of a polygon, or if markers-placement:line, then multiple times along a line. 'interior' placement can be used to ensure that points placed on polygons are forced to be inside the polygon interior"},"multi-policy":{css:"marker-multi-policy",type:["each","whole","largest"],"default-value":"each","default-meaning":"If a feature contains multiple geometries and the placement type is either point or interior then a marker will be rendered for each",doc:"A special setting to allow the user to control rendering behavior for 'multi-geometries' (when a feature contains multiple geometries). This setting does not apply to markers placed along lines. The 'each' policy is default and means all geometries will get a marker. The 'whole' policy means that the aggregate centroid between all geometries will be used. The 'largest' policy means that only the largest (by bounding box areas) feature will get a rendered marker (this is how text labeling behaves by default)."},"marker-type":{css:"marker-type",type:["arrow","ellipse"],"default-value":"ellipse",doc:"The default marker-type. If a SVG file is not given as the marker-file parameter, the renderer provides either an arrow or an ellipse (a circle if height is equal to width)"},width:{css:"marker-width","default-value":10,doc:"The width of the marker, if using one of the default types.",type:"expression"},height:{css:"marker-height","default-value":10,doc:"The height of the marker, if using one of the default types.",type:"expression"},fill:{css:"marker-fill","default-value":"blue",doc:"The color of the area of the marker.",type:"color"},"allow-overlap":{css:"marker-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping markers are shown or hidden.","default-meaning":"Do not allow makers to overlap with each other - overlapping markers will not be shown."},"ignore-placement":{css:"marker-ignore-placement",type:"boolean","default-value":!1,"default-meaning":"do not store the bbox of this geometry in the collision detector cache",doc:"value to control whether the placement of the feature will prevent the placement of other features"},spacing:{css:"marker-spacing",doc:"Space between repeated labels","default-value":100,type:"float"},"max-error":{css:"marker-max-error",type:"float","default-value":.2,doc:"The maximum difference between actual marker placement and the marker-spacing parameter. Setting a high value can allow the renderer to try to resolve placement conflicts with other symbolizers."},transform:{css:"marker-transform",type:"functions",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]],"default-value":"","default-meaning":"No transformation",doc:"SVG transformation definition"},clip:{css:"marker-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"marker-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"marker-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",
doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"marker-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},shield:{name:{css:"shield-name",type:"expression",serialization:"content",doc:'Value to use for a shield"s text label. Data columns are specified using brackets like [column_name]'},file:{css:"shield-file",required:!0,type:"uri","default-value":"none",doc:"Image file to render behind the shield text"},"face-name":{css:"shield-face-name",type:"string",validate:"font",doc:"Font name and style to use for the shield text","default-value":"",required:!0},"unlock-image":{css:"shield-unlock-image",type:"boolean",doc:"This parameter should be set to true if you are trying to position text beside rather than on top of the shield image","default-value":!1,"default-meaning":"text alignment relative to the shield image uses the center of the image as the anchor for text positioning."},size:{css:"shield-size",type:"float",doc:"The size of the shield text in pixels"},fill:{css:"shield-fill",type:"color",doc:"The color of the shield text"},placement:{css:"shield-placement",type:["point","line","vertex","interior"],"default-value":"point",doc:"How this shield should be placed. Point placement attempts to place it on top of points, line places along lines multiple times per feature, vertex places on the vertexes of polygons, and interior attempts to place inside of polygons."},"avoid-edges":{css:"shield-avoid-edges",doc:"Tell positioning algorithm to avoid labeling near intersection edges.",type:"boolean","default-value":!1},"allow-overlap":{css:"shield-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping shields are shown or hidden.","default-meaning":"Do not allow shields to overlap with other map elements already placed."},"minimum-distance":{css:"shield-min-distance",type:"float","default-value":0,doc:"Minimum distance to the next shield symbol, not necessarily the same shield."},spacing:{css:"shield-spacing",type:"float","default-value":0,doc:"The spacing between repeated occurrences of the same shield on a line"},"minimum-padding":{css:"shield-min-padding","default-value":0,doc:"Determines the minimum amount of padding that a shield gets relative to other shields",type:"float"},"wrap-width":{css:"shield-wrap-width",type:"unsigned","default-value":0,doc:"Length of a chunk of text in characters before wrapping text"},"wrap-before":{css:"shield-wrap-before",type:"boolean","default-value":!1,doc:"Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width."},"wrap-character":{css:"shield-wrap-character",type:"string","default-value":" ",doc:"Use this character instead of a space to wrap long names."},"halo-fill":{css:"shield-halo-fill",type:"color","default-value":"#FFFFFF","default-meaning":"white",doc:"Specifies the color of the halo around the text."},"halo-radius":{css:"shield-halo-radius",doc:"Specify the radius of the halo in pixels","default-value":0,"default-meaning":"no halo",type:"float"},"character-spacing":{css:"shield-character-spacing",type:"unsigned","default-value":0,doc:"Horizontal spacing between characters (in pixels). Currently works for point placement only, not line placement."},"line-spacing":{css:"shield-line-spacing",doc:"Vertical spacing between lines of multiline labels (in pixels)",type:"unsigned"},dx:{css:"shield-text-dx",type:"float",doc:"Displace text within shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},dy:{css:"shield-text-dy",type:"float",doc:"Displace text within shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},"shield-dx":{css:"shield-dx",type:"float",doc:"Displace shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},"shield-dy":{css:"shield-dy",type:"float",doc:"Displace shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},opacity:{css:"shield-opacity",type:"float",doc:"(Default 1.0) - opacity of the image used for the shield","default-value":1},"text-opacity":{css:"shield-text-opacity",type:"float",doc:"(Default 1.0) - opacity of the text placed on top of the shield","default-value":1},"horizontal-alignment":{css:"shield-horizontal-alignment",type:["left","middle","right","auto"],doc:"The shield's horizontal alignment from its centerpoint","default-value":"auto"},"vertical-alignment":{css:"shield-vertical-alignment",type:["top","middle","bottom","auto"],doc:"The shield's vertical alignment from its centerpoint","default-value":"middle"},"text-transform":{css:"shield-text-transform",type:["none","uppercase","lowercase","capitalize"],doc:"Transform the case of the characters","default-value":"none"},"justify-alignment":{css:"shield-justify-alignment",type:["left","center","right","auto"],doc:"Define how text in a shield's label is justified","default-value":"auto"},clip:{css:"shield-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},"comp-op":{css:"shield-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},"line-pattern":{file:{css:"line-pattern-file",type:"uri","default-value":"none",required:!0,doc:"An image file to be repeated and warped along a line"},clip:{css:"line-pattern-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"line-pattern-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"line-pattern-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"line-pattern-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},"polygon-pattern":{file:{css:"polygon-pattern-file",type:"uri","default-value":"none",required:!0,doc:"Image to use as a repeated pattern fill within a polygon"},alignment:{css:"polygon-pattern-alignment",type:["local","global"],"default-value":"local",doc:"Specify whether to align pattern fills to the layer or to the map."},gamma:{css:"polygon-pattern-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of polygon pattern edges"},opacity:{css:"polygon-pattern-opacity",type:"float",doc:"(Default 1.0) - Apply an opacity level to the image used for the pattern","default-value":1,"default-meaning":"The image is rendered without modifications"},clip:{css:"polygon-pattern-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"polygon-pattern-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"polygon-pattern-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"polygon-pattern-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},raster:{opacity:{css:"raster-opacity","default-value":1,"default-meaning":"opaque",type:"float",doc:"The opacity of the raster symbolizer on top of other symbolizers."},"filter-factor":{css:"raster-filter-factor","default-value":-1,"default-meaning":"Allow the datasource to choose appropriate downscaling.",type:"float",doc:"This is used by the Raster or Gdal datasources to pre-downscale images using overviews. Higher numbers can sometimes cause much better scaled image output, at the cost of speed."},scaling:{css:"raster-scaling",type:["near","fast","bilinear","bilinear8","bicubic","spline16","spline36","hanning","hamming","hermite","kaiser","quadric","catrom","gaussian","bessel","mitchell","sinc","lanczos","blackman"],"default-value":"near",doc:"The scaling algorithm used to making different resolution versions of this raster layer. Bilinear is a good compromise between speed and accuracy, while lanczos gives the highest quality."},"mesh-size":{css:"raster-mesh-size","default-value":16,"default-meaning":"Reprojection mesh will be 1/16 of the resolution of the source image",type:"unsigned",doc:"A reduced resolution mesh is used for raster reprojection, and the total image size is divided by the mesh-size to determine the quality of that mesh. Values for mesh-size larger than the default will result in faster reprojection but might lead to distortion."},"comp-op":{css:"raster-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},point:{file:{css:"point-file",type:"uri",required:!1,"default-value":"none",doc:"Image file to represent a point"},"allow-overlap":{css:"point-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping points are shown or hidden.","default-meaning":"Do not allow points to overlap with each other - overlapping markers will not be shown."},"ignore-placement":{css:"point-ignore-placement",type:"boolean","default-value":!1,"default-meaning":"do not store the bbox of this geometry in the collision detector cache",doc:"value to control whether the placement of the feature will prevent the placement of other features"},opacity:{css:"point-opacity",type:"float","default-value":1,"default-meaning":"Fully opaque",doc:"A value from 0 to 1 to control the opacity of the point"},placement:{css:"point-placement",type:["centroid","interior"],doc:"How this point should be placed. Centroid calculates the geometric center of a polygon, which can be outside of it, while interior always places inside of a polygon.","default-value":"centroid"},transform:{css:"point-transform",type:"functions",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]],"default-value":"","default-meaning":"No transformation",doc:"SVG transformation definition"},"comp-op":{css:"point-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},text:{name:{css:"text-name",type:"expression",required:!0,"default-value":"",serialization:"content",doc:"Value to use for a text label. Data columns are specified using brackets like [column_name]"},"face-name":{css:"text-face-name",type:"string",validate:"font",doc:"Font name and style to render a label in",required:!0},size:{css:"text-size",type:"float","default-value":10,doc:"Text size in pixels"},"text-ratio":{css:"text-ratio",doc:"Define the amount of text (of the total) present on successive lines when wrapping occurs","default-value":0,type:"unsigned"},"wrap-width":{css:"text-wrap-width",doc:"Length of a chunk of text in characters before wrapping text","default-value":0,type:"unsigned"},"wrap-before":{css:"text-wrap-before",type:"boolean","default-value":!1,doc:"Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width."},"wrap-character":{css:"text-wrap-character",type:"string","default-value":" ",doc:"Use this character instead of a space to wrap long text."},spacing:{css:"text-spacing",type:"unsigned",doc:"Distance between repeated text labels on a line (aka. label-spacing)"},"character-spacing":{css:"text-character-spacing",type:"float","default-value":0,doc:"Horizontal spacing adjustment between characters in pixels"},"line-spacing":{css:"text-line-spacing","default-value":0,type:"unsigned",doc:"Vertical spacing adjustment between lines in pixels"},"label-position-tolerance":{css:"text-label-position-tolerance","default-value":0,type:"unsigned",doc:"Allows the label to be displaced from its ideal position by a number of pixels (only works with placement:line)"},"max-char-angle-delta":{css:"text-max-char-angle-delta",type:"float","default-value":"22.5",doc:"The maximum angle change, in degrees, allowed between adjacent characters in a label. This value internally is converted to radians to the default is 22.5*math.pi/180.0. The higher the value the fewer labels will be placed around around sharp corners."},fill:{css:"text-fill",doc:"Specifies the color for the text","default-value":"#000000",type:"color"},opacity:{css:"text-opacity",doc:"A number from 0 to 1 specifying the opacity for the text","default-value":1,"default-meaning":"Fully opaque",type:"float"},"halo-fill":{css:"text-halo-fill",type:"color","default-value":"#FFFFFF","default-meaning":"white",doc:"Specifies the color of the halo around the text."},"halo-radius":{css:"text-halo-radius",doc:"Specify the radius of the halo in pixels","default-value":0,"default-meaning":"no halo",type:"float"},dx:{css:"text-dx",type:"float",doc:"Displace text by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},dy:{css:"text-dy",type:"float",doc:"Displace text by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},"vertical-alignment":{css:"text-vertical-alignment",type:["top","middle","bottom","auto"],doc:"Position of label relative to point position.","default-value":"auto","default-meaning":'Default affected by value of dy; "bottom" for dy>0, "top" for dy<0.'},"avoid-edges":{css:"text-avoid-edges",doc:"Tell positioning algorithm to avoid labeling near intersection edges.","default-value":!1,type:"boolean"},"minimum-distance":{css:"text-min-distance",doc:"Minimum permitted distance to the next text symbolizer.",type:"float"},"minimum-padding":{css:"text-min-padding",doc:"Determines the minimum amount of padding that a text symbolizer gets relative to other text",type:"float"},"minimum-path-length":{css:"text-min-path-length",type:"float","default-value":0,"default-meaning":"place labels on all paths",doc:"Place labels only on paths longer than this value."},"allow-overlap":{css:"text-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping text is shown or hidden.","default-meaning":"Do not allow text to overlap with other text - overlapping markers will not be shown."},orientation:{css:"text-orientation",type:"expression",doc:"Rotate the text."},placement:{css:"text-placement",type:["point","line","vertex","interior"],"default-value":"point",doc:"Control the style of placement of a point versus the geometry it is attached to."},"placement-type":{css:"text-placement-type",doc:'Re-position and/or re-size text to avoid overlaps. "simple" for basic algorithm (using text-placements string,) "dummy" to turn this feature off.',type:["dummy","simple"],"default-value":"dummy"},placements:{css:"text-placements",type:"string","default-value":"",doc:'If "placement-type" is set to "simple", use this "POSITIONS,[SIZES]" string. An example is `text-placements: "E,NE,SE,W,NW,SW";` '},"text-transform":{css:"text-transform",type:["none","uppercase","lowercase","capitalize"],doc:"Transform the case of the characters","default-value":"none"},"horizontal-alignment":{css:"text-horizontal-alignment",type:["left","middle","right","auto"],doc:"The text's horizontal alignment from its centerpoint","default-value":"auto"},"justify-alignment":{css:"text-align",type:["left","right","center","auto"],doc:"Define how text is justified","default-value":"auto","default-meaning":"Auto alignment means that text will be centered by default except when using the `placement-type` parameter - in that case either right or left justification will be used automatically depending on where the text could be fit given the `text-placements` directives"},clip:{css:"text-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},"comp-op":{css:"text-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},building:{fill:{css:"building-fill","default-value":"#FFFFFF",doc:"The color of the buildings walls.",type:"color"},"fill-opacity":{css:"building-fill-opacity",type:"float",doc:"The opacity of the building as a whole, including all walls.","default-value":1},height:{css:"building-height",doc:"The height of the building in pixels.",type:"expression","default-value":"0"}}},colors:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50],transparent:[0,0,0,0]},filter:{value:["true","false","null","point","linestring","polygon","collection"]}},B2.mapnik_reference={version:{latest:rX._mapnik_reference_latest,"2.1.1":rX._mapnik_reference_latest}},rX.CartoCSS=B2,rX.CartoCSS.Tree={},rX.CartoCSS.Tree.operate=function(e,t,n){switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"%":return t%n;case"/":return t/n}},rX.CartoCSS.Tree.functions={rgb:function(e,t,n){return this.rgba(e,t,n,1)},rgba:function(e,t,n,r){var o=this,i=[e,t,n].map(function(e){return o.number(e)});return r=o.number(r),i.some(isNaN)||isNaN(r)?null:new rX.CartoCSS.Tree.Color(i,r)},stop:function(e){var t,n;return arguments.length>1&&(t=arguments[1]),arguments.length>2&&(n=arguments[2]),{is:"tag",val:e,color:t,mode:n,toString:function(r){return'\n\t<stop value="'+e.ev(r)+'"'+(t?' color="'+t.ev(r)+'" ':"")+(n?' mode="'+n.ev(r)+'" ':"")+"/>"}}},hsl:function(e,t,n){return this.hsla(e,t,n,1)},hsla:function(e,t,n,r){function o(e){return e=e<0?e+1:e>1?e-1:e,6*e<1?a+(i-a)*e*6:2*e<1?i:3*e<2?a+(i-a)*(2/3-e)*6:a}if(e=this.number(e)%360/360,t=this.number(t),n=this.number(n),r=this.number(r),[e,t,n,r].some(isNaN))return null;var i=n<=.5?n*(t+1):n+t-n*t,a=2*n-i;return this.rgba(255*o(e+1/3),255*o(e),255*o(e-1/3),r)},hue:function(e){return"toHSL"in e?new rX.CartoCSS.Tree.Dimension(Math.round(e.toHSL().h)):null},saturation:function(e){return"toHSL"in e?new rX.CartoCSS.Tree.Dimension(Math.round(100*e.toHSL().s),"%"):null},lightness:function(e){return"toHSL"in e?new rX.CartoCSS.Tree.Dimension(Math.round(100*e.toHSL().l),"%"):null},alpha:function(e){return"toHSL"in e?new rX.CartoCSS.Tree.Dimension(e.toHSL().a):null},saturate:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.s+=t.value/100,n.s=this.clamp(n.s),this.hsla_simple(n)},desaturate:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.s-=t.value/100,n.s=this.clamp(n.s),this.hsla_simple(n)},lighten:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.l+=t.value/100,n.l=this.clamp(n.l),this.hsla_simple(n)},darken:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.l-=t.value/100,n.l=this.clamp(n.l),this.hsla_simple(n)},fadein:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.a+=t.value/100,n.a=this.clamp(n.a),this.hsla_simple(n)},fadeout:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.a-=t.value/100,n.a=this.clamp(n.a),this.hsla_simple(n)},spin:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL(),r=(n.h+t.value)%360;return n.h=r<0?360+r:r,this.hsla_simple(n)},replace:function(e,t,n){return"field"===e.is?e.toString+".replace("+t.toString()+", "+n.toString()+")":e.replace(t,n)},mix:function(e,t,n){var r=n.value/100,o=2*r-1,i=e.toHSL().a-t.toHSL().a,a=((o*i==-1?o:(o+i)/(1+o*i))+1)/2,s=1-a,l=[e.rgb[0]*a+t.rgb[0]*s,e.rgb[1]*a+t.rgb[1]*s,e.rgb[2]*a+t.rgb[2]*s],u=e.alpha*r+t.alpha*(1-r);return new rX.CartoCSS.Tree.Color(l,u)},greyscale:function(e){return this.desaturate(e,new rX.CartoCSS.Tree.Dimension(100))},"%":function(e){for(var t=Array.prototype.slice.call(arguments,1),n=e.value,r=0;r<t.length;r++)n=n.replace(/%s/,t[r].value).replace(/%[da]/,t[r].toString());return n=n.replace(/%%/g,"%"),new rX.CartoCSS.Tree.Quoted(n)},hsla_simple:function(e){return this.hsla(e.h,e.s,e.l,e.a)},number:function(e){return e instanceof rX.CartoCSS.Tree.Dimension?parseFloat("%"===e.unit?e.value/100:e.value):"number"==typeof e?e:NaN},clamp:function(e){return Math.min(1,Math.max(0,e))}},rX.CartoCSS.Tree.Call=function(){function e(t,n,r){pM(this,e),this.is="call",this.name=t,this.args=n,this.index=r}return yM(e,[{key:"ev",value:function(e){for(var t=this.args.map(function(t){return t.ev(e)}),n=0;n<t.length;n++)if("undefined"===t[n].is)return{is:"undefined",value:"undefined"};if(this.name in rX.CartoCSS.Tree.functions){if(rX.CartoCSS.Tree.functions[this.name].length<=t.length){var r=rX.CartoCSS.Tree.functions[this.name].apply(rX.CartoCSS.Tree.functions,t);return null===r?(e.error({message:"incorrect arguments given to "+this.name+"()",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):r}return e.error({message:"incorrect number of arguments for "+this.name+"(). "+rX.CartoCSS.Tree.functions[this.name].length+" expected.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}}var o=rX.CartoCSS.Tree.Reference.mapnikFunctions[this.name];if(void 0===o){var i=G2()(rX.CartoCSS.Tree.Reference.mapnikFunctions),a=this.name,s=i.map(function(e){return[e[0],rX.CartoCSS.Tree.Reference.editDistance(a,e[0]),e[1]]}).sort(function(e,t){return e[1]-t[1]});return e.error({message:"unknown function "+this.name+"(), did you mean "+s[0][0]+"("+s[0][2]+")",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}}return o!==t.length&&-1!==o?(e.error({message:"function "+this.name+"() takes "+o+" arguments and was given "+t.length,index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):(this.args=t,this)}},{key:"toString",value:function(e,t){return this.args.length?this.name+"("+this.args.join(",")+")":this.name}}]),e}(),rX.CartoCSS.Tree.Color=function(){function e(t,n){pM(this,e),this.is="color",Array.isArray(t)?this.rgb=t.slice(0,3):6==t.length?this.rgb=t.match(/.{2}/g).map(function(e){return parseInt(e,16)}):this.rgb=t.split("").map(function(e){return parseInt(e+e,16)}),"number"==typeof n?this.alpha=n:4===t.length?this.alpha=t[3]:this.alpha=1}return yM(e,[{key:"ev",value:function(){return this}},{key:"toString",value:function(){return"rgba("+this.rgb.map(function(e){return Math.round(e)}).concat(this.alpha).join(", ")+")"}},{key:"operate",value:function(e,t,n){var r=[];n instanceof rX.CartoCSS.Tree.Color||(n=n.toColor());for(var o=0;o<3;o++)r[o]=rX.CartoCSS.Tree.operate(t,this.rgb[o],n.rgb[o]);return new rX.CartoCSS.Tree.Color(r)}},{key:"toHSL",value:function(){var e,t,n=this.rgb[0]/255,r=this.rgb[1]/255,o=this.rgb[2]/255,i=this.alpha,a=Math.max(n,r,o),s=Math.min(n,r,o),l=(a+s)/2,u=a-s;if(a===s)e=t=0;else{switch(t=l>.5?u/(2-a-s):u/(a+s),a){case n:e=(r-o)/u+(r<o?6:0);break;case r:e=(o-n)/u+2;break;case o:e=(n-r)/u+4}e/=6}return{h:360*e,s:t,l:l,a:i}}}]),e}(),rX.CartoCSS.Tree.Comment=function(){function e(t,n){pM(this,e),this.value=t,this.silent=!!n}return yM(e,[{key:"toString",value:function(e){return"\x3c!--"+this.value+"--\x3e"}},{key:"ev",value:function(){return this}}]),e}(),rX.CartoCSS.Tree.Definition=function(){function e(t,n){pM(this,e),this.elements=t.elements,this.rules=n,this.ruleIndex={};for(var r=0;r<this.rules.length;r++)"zoom"in this.rules[r]&&(this.rules[r]=this.rules[r].clone()),this.rules[r].zoom=t.zoom,this.ruleIndex[this.rules[r].updateID()]=!0;this.filters=t.filters,this.zoom=t.zoom,this.attachment=t.attachment||"__default__",this.specificity=t.specificity()}return yM(e,[{key:"toString",value:function(){for(var e=this.filters.toString(),t=0;t<this.rules.length;t++)e+="\n    "+this.rules[t];return e}},{key:"toJS",value:function(e){var t={},n=this.zoom,r=this.filters.toJS(e),o=[n];r&&o.push(r),r=o.join(" && ");for(var i in this.rules)!function(n){if(n instanceof rX.CartoCSS.Tree.Rule)t[n.name]=t[n.name]||[],r?t[n.name].push("if("+r+"){"+n.value.toJS(e)+"}"):t[n.name].push(n.value.toJS(e));else if(n instanceof rX.CartoCSS.Tree.Ruleset){var o=n.toJS(e);for(var i in o){t[i]=t[i]||[];for(var a in o[i])t[i].push(o[i][a])}}}(this.rules[i]);return t}}]),e}(),rX.CartoCSS.Tree.Dimension=function(){function e(t,n,r){pM(this,e),this.is="float",this.physical_units=["m","cm","in","mm","pt","pc"],
this.screen_units=["px","%"],this.all_units=["m","cm","in","mm","pt","pc","px","%"],this.densities={m:.0254,mm:25.4,cm:2.54,pt:72,pc:6},this.value=parseFloat(t),this.unit=n||null,this.index=r}return yM(e,[{key:"ev",value:function(e){if(this.unit&&this.all_units.indexOf(this.unit)<0)return e.error({message:"Invalid unit: '"+this.unit+"'",index:this.index}),{is:"undefined",value:"undefined"};if(this.unit&&this.physical_units.indexOf(this.unit)>=0){if(!e.ppi)return e.error({message:"ppi is not set, so metric units can't be used",index:this.index}),{is:"undefined",value:"undefined"};this.value=this.value/this.densities[this.unit]*e.ppi,this.unit="px"}return this}},{key:"toColor",value:function(){return new rX.CartoCSS.Tree.Color([this.value,this.value,this.value])}},{key:"round",value:function(){return this.value=Math.round(this.value),this}},{key:"toString",value:function(){return this.value.toString()}},{key:"operate",value:function(e,t,n){return"%"===this.unit&&"%"!==n.unit?(e.error({message:"If two operands differ, the first must not be %",index:this.index}),{is:"undefined",value:"undefined"}):"%"!==this.unit&&"%"===n.unit?"*"===t||"/"===t||"%"===t?(e.error({message:"Percent values can only be added or subtracted from other values",index:this.index}),{is:"undefined",value:"undefined"}):new rX.CartoCSS.Tree.Dimension(rX.CartoCSS.Tree.operate(t,this.value,this.value*n.value*.01),this.unit):new rX.CartoCSS.Tree.Dimension(rX.CartoCSS.Tree.operate(t,this.value,n.value),this.unit||n.unit)}}]),e}(),rX.CartoCSS.Tree.Element=function(){function e(t){pM(this,e),this.value=t.trim(),"#"===this.value[0]&&(this.type="id",this.clean=this.value.replace(/^#/,"")),"."===this.value[0]&&(this.type="class",this.clean=this.value.replace(/^\./,"")),-1!==this.value.indexOf("*")&&(this.type="wildcard")}return yM(e,[{key:"specificity",value:function(){return["id"===this.type?1:0,"class"===this.type?1:0]}},{key:"toString",value:function(){return this.value}}]),e}(),rX.CartoCSS.Tree.Expression=function(){function e(t){pM(this,e),this.is="expression",this.value=t}return yM(e,[{key:"ev",value:function(e){return this.value.length>1?new rX.CartoCSS.Tree.Expression(this.value.map(function(t){return t.ev(e)})):this.value[0].ev(e)}},{key:"toString",value:function(e){return this.value.map(function(t){return t.toString(e)}).join(" ")}}]),e}(),rX.CartoCSS.Tree.Field=function(){function e(t){pM(this,e),this.is="field",this.value=t||""}return yM(e,[{key:"toString",value:function(){return'["'+this.value.toUpperCase()+'"]'}},{key:"ev",value:function(){return this}}]),e}(),rX.CartoCSS.Tree.Filter=function(){function e(t,n,r,o,i){pM(this,e),this.ops={"<":[" &lt; ","numeric"],">":[" &gt; ","numeric"],"=":[" = ","both"],"!=":[" != ","both"],"<=":[" &lt;= ","numeric"],">=":[" &gt;= ","numeric"],"=~":[".match(","string",")"]},this.key=t,this.op=n,this.val=r,this.index=o,this.filename=i,this.id=this.key+this.op+this.val}return yM(e,[{key:"ev",value:function(e){return this.key=this.key.ev(e),this.val=this.val.ev(e),this}},{key:"toString",value:function(){return"["+this.id+"]"}}]),e}(),rX.CartoCSS.Tree.Filterset=function(){function e(){pM(this,e),this.filters={}}return yM(e,[{key:"toJS",value:function(e){var t=[];for(var n in this.filters)t.push(function(e){var t=e.op;"="===t&&(t="==");var n=e.val;void 0!==e._val&&(n=e._val.toString(!0)),e.key&&"scale"===e.key.value?n=+n:"string"!=typeof n&&"object"!==fM(n)||(n="'"+n+"'");var r="attributes";return r+"&&"+r+e.key+"&&"+r+e.key+" "+t+n}(this.filters[n]));return t.join(" && ")}},{key:"toString",value:function(){var e=[];for(var t in this.filters)e.push(this.filters[t].id);return e.sort().join("\t")}},{key:"ev",value:function(e){for(var t in this.filters)this.filters[t].ev(e);return this}},{key:"clone",value:function(){var e=new rX.CartoCSS.Tree.Filterset;for(var t in this.filters)e.filters[t]=this.filters[t];return e}},{key:"cloneWith",value:function(e){var t=[];for(var n in e.filters){var r=this.addable(e.filters[n]);if(!1===r)return!1;!0===r&&t.push(e.filters[n])}if(!t.length)return null;var o=new rX.CartoCSS.Tree.Filterset;for(n in this.filters)o.filters[n]=this.filters[n];for(;n=t.shift();)o.add(n);return o}},{key:"addable",value:function(e){var t=e.key.toString(),n=e.val.toString();switch(n.match(/^[0-9]+(\.[0-9]*)?$/)&&(n=parseFloat(n)),e.op){case"=":return void 0!==this.filters[t+"="]?this.filters[t+"="].val.toString()==n&&null:void 0===this.filters[t+"!="+n]&&(!(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n)&&(!(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n)&&(!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n)&&!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n))));case"=~":return!0;case"!=":return void 0!==this.filters[t+"="]?this.filters[t+"="].val!==n&&null:void 0!==this.filters[t+"!="+n]?null:void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?null:void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?null:void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n?null:!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n)||null;case">":return t+"="in this.filters?!(this.filters[t+"="].val<=n)&&null:!(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n)&&(!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<=n)&&(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?null:!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n)||null));case">=":return void 0!==this.filters[t+"="]?!(this.filters[t+"="].val<n)&&null:!(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n)&&(!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n)&&(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?null:!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>=n)||null));case"<":return void 0!==this.filters[t+"="]?!(this.filters[t+"="].val>=n)&&null:!(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n)&&(!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>=n)&&(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?null:!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n)||null));case"<=":return void 0!==this.filters[t+"="]?!(this.filters[t+"="].val>n)&&null:!(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n)&&(!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n)&&(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?null:!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<=n)||null))}}},{key:"conflict",value:function(e){var t=e.key.toString(),n=e.val.toString();return isNaN(parseFloat(n))||(n=parseFloat(n)),("="===e.op&&void 0!==this.filters[t+"="]&&n!=this.filters[t+"="].val.toString()||"!="===e.op&&void 0!==this.filters[t+"="]&&n==this.filters[t+"="].val.toString()||"="===e.op&&void 0!==this.filters[t+"!="]&&n===this.filters[t+"!="].val.toString())&&e.toString()+" added to "+this.toString()+" produces an invalid filter"}},{key:"add",value:function(e,t){var n,r=e.key.toString(),o=e.op,i=this.conflict(e);if(i)return i;if("="===o){for(var a in this.filters)this.filters[a].key===r&&delete this.filters[a];this.filters[r+"="]=e}else if("!="===o)this.filters[r+"!="+e.val]=e;else if("=~"===o)this.filters[r+"=~"+e.val]=e;else if(">"===o){for(var s in this.filters)this.filters[s].key===r&&this.filters[s].val<=e.val&&delete this.filters[s];this.filters[r+">"]=e}else if(">="===o){for(var l in this.filters)n=+this.filters[l].val.toString(),this.filters[l].key===r&&n<e.val&&delete this.filters[l];void 0!==this.filters[r+"!="+e.val]?(delete this.filters[r+"!="+e.val],e.op=">",this.filters[r+">"]=e):this.filters[r+">="]=e}else if("<"===o){for(var u in this.filters)n=+this.filters[u].val.toString(),this.filters[u].key===r&&n>=e.val&&delete this.filters[u];this.filters[r+"<"]=e}else if("<="===o){for(var c in this.filters)n=+this.filters[c].val.toString(),this.filters[c].key===r&&n>e.val&&delete this.filters[c];void 0!==this.filters[r+"!="+e.val]?(delete this.filters[r+"!="+e.val],e.op="<",this.filters[r+"<"]=e):this.filters[r+"<="]=e}}}]),e}(),rX.CartoCSS.Tree.Fontset=function e(t,n){pM(this,e),this.fonts=n,this.name="fontset-"+t.effects.length},rX.CartoCSS.Tree.Invalid=function(){function e(t,n,r){pM(this,e),this.is="invalid",this.chunk=t,this.index=n,this.type="syntax",this.message=r||"Invalid code: "+this.chunk}return yM(e,[{key:"ev",value:function(e){return e.error({chunk:this.chunk,index:this.index,type:"syntax",message:this.message||"Invalid code: "+this.chunk}),{is:"undefined"}}}]),e}(),rX.CartoCSS.Tree.Keyword=function(){function e(t){pM(this,e),this.value=t;var n={transparent:"color",true:"boolean",false:"boolean"};this.is=n[t]?n[t]:"keyword"}return yM(e,[{key:"ev",value:function(){return this}}]),yM(e,[{key:"toString",value:function(){return this.value}}]),e}(),rX.CartoCSS.Tree.Literal=function(){function e(t){pM(this,e),this.value=t||"",this.is="field"}return yM(e,[{key:"toString",value:function(){return this.value}},{key:"ev",value:function(){return this}}]),e}(),rX.CartoCSS.Tree.Operation=function(){function e(t,n,r){pM(this,e),this.is="operation",this.op=t.trim(),this.operands=n,this.index=r}return yM(e,[{key:"ev",value:function(e){var t,n=this.operands[0].ev(e),r=this.operands[1].ev(e);return"undefined"===n.is||"undefined"===r.is?{is:"undefined",value:"undefined"}:(n instanceof rX.CartoCSS.Tree.Dimension&&r instanceof rX.CartoCSS.Tree.Color&&("*"===this.op||"+"===this.op?(t=r,r=n,n=t):e.error({name:"OperationError",message:"Can't substract or divide a color from a number",index:this.index})),n instanceof rX.CartoCSS.Tree.Quoted&&r instanceof rX.CartoCSS.Tree.Quoted&&"+"!==this.op?(e.error({message:"Can't subtract, divide, or multiply strings.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):n instanceof rX.CartoCSS.Tree.Field||r instanceof rX.CartoCSS.Tree.Field||n instanceof rX.CartoCSS.Tree.Literal||r instanceof rX.CartoCSS.Tree.Literal?"color"===n.is||"color"===r.is?(e.error({message:"Can't subtract, divide, or multiply colors in expressions.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):new rX.CartoCSS.Tree.Literal(n.ev(e).toString(!0)+this.op+r.ev(e).toString(!0)):void 0===n.operate?(e.error({message:"Cannot do math with type "+n.is+".",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):n.operate(e,this.op,r))}}]),e}(),rX.CartoCSS.Tree.Quoted=function(){function e(t){pM(this,e),this.is="string",this.value=t||""}return yM(e,[{key:"toString",value:function(e){var t=this.value.replace(/&/g,"&amp;"),n=t.replace(/\'/g,"\\'").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/\>/g,"&gt;");return!0===e?"'"+n+"'":t}},{key:"ev",value:function(){return this}},{key:"operate",value:function(e,t,n){return new rX.CartoCSS.Tree.Quoted(rX.CartoCSS.Tree.operate(t,this.toString(),n.toString(this.contains_field)))}}]),e}(),rX.CartoCSS.Tree.Reference={_validateValue:{font:function(e,t){return!e.validation_data||!e.validation_data.fonts||-1!=e.validation_data.fonts.indexOf(t)}},setData:function(e){this.data=e,this.selector_cache=function(e){var t={};for(var n in e.symbolizers)for(var r in e.symbolizers[n])e.symbolizers[n][r].hasOwnProperty("css")&&(t[e.symbolizers[n][r].css]=[e.symbolizers[n][r],n,r]);return t}(e),this.mapnikFunctions=function(e){var t={};for(var n in e.symbolizers)for(var r in e.symbolizers[n])if("functions"===e.symbolizers[n][r].type)for(var o=0;o<e.symbolizers[n][r].functions.length;o++){var i=e.symbolizers[n][r].functions[o];t[i[0]]=i[1]}return t}(e),this.required_cache=function(e){var t={};for(var n in e.symbolizers){t[n]=[];for(var r in e.symbolizers[n])e.symbolizers[n][r].required&&t[n].push(e.symbolizers[n][r].css)}return t}(e)},setVersion:function(e){return!!rX.CartoCSS.mapnik_reference.version.hasOwnProperty(e)&&(this.setData(rX.CartoCSS.mapnik_reference.version[e]),!0)},selectorData:function(e,t){if(this.selector_cache&&this.selector_cache[e])return this.selector_cache[e][t]},validSelector:function(e){return!!this.selector_cache[e]},selectorName:function(e){return this.selectorData(e,2)},selector:function(e){return this.selectorData(e,0)},symbolizer:function(e){return this.selectorData(e,1)},requiredProperties:function(e,t){var n=this.required_cache[e];for(var r in n)if(!(n[r]in t))return"Property "+n[r]+" required for defining "+e+" styles."},isFont:function(e){return"font"===this.selector(e).validate},editDistance:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;for(var n=[],r=0;r<=t.length;r++)n[r]=[r];for(var o=0;o<=e.length;o++)n[0][o]=o;for(r=1;r<=t.length;r++)for(o=1;o<=e.length;o++)t.charAt(r-1)===e.charAt(o-1)?n[r][o]=n[r-1][o-1]:n[r][o]=Math.min(n[r-1][o-1]+1,Math.min(n[r][o-1]+1,n[r-1][o]+1));return n[t.length][e.length]},validValue:function(e,t,n){var r;if(this.selector(t)){if("keyword"===n.value[0].is)return function(e,t){return"object"===fM(this.selector(t).type)?-1!==this.selector(t).type.indexOf(e.value[0].value):"string"===this.selector(t).type}(n,t);if("undefined"===n.value[0].is)return!0;if("numbers"===this.selector(t).type){for(r in n.value)if("float"!==n.value[r].is)return!1;return!0}if("tags"===this.selector(t).type){if(!n.value)return!1;if(!n.value[0].value)return"tag"===n.value[0].is;for(r=0;r<n.value[0].value.length;r++)if("tag"!==n.value[0].value[r].is)return!1;return!0}if("functions"==this.selector(t).type)return function(e,t){if("string"===e.value[0].is)return!0;for(var n in e.value)for(var r in e.value[n].value){if("call"!==e.value[n].value[r].is)return!1;var o=find(this.selector(t).functions,function(t){return t[0]===e.value[n].value[r].name});if(!(o&&-1===o[1]||o&&o[1]===e.value[n].value[r].args.length))return!1}return!0}(n,t);if("expression"===this.selector(t).type)return!0;if("unsigned"===this.selector(t).type)return"float"===n.value[0].is&&(n.value[0].round(),!0);if(this.selector(t).validate){for(r=0;r<n.value.length;r++)if(this.selector(t).type===n.value[r].is&&this._validateValue[this.selector(t).validate](e,n.value[r].value))return!0;return!1}return this.selector(t).type===n.value[0].is}return!1}},rX.CartoCSS.Tree.Reference.setVersion("latest"),rX.CartoCSS.Tree.Rule=function(){function e(t,n,r,o){pM(this,e),this.is="rule";var i=t.split("/");this.name=i.pop(),this.instance=i.length?i[0]:"__default__",this.value=n instanceof rX.CartoCSS.Tree.Value?n:new rX.CartoCSS.Tree.Value([n]),this.index=r,this.symbolizer=rX.CartoCSS.Tree.Reference.symbolizer(this.name),this.filename=o,this.variable="@"===t.charAt(0)}return yM(e,[{key:"clone",value:function(){var e=Object.create(rX.CartoCSS.Tree.Rule.prototype);return e.name=this.name,e.value=this.value,e.index=this.index,e.instance=this.instance,e.symbolizer=this.symbolizer,e.filename=this.filename,e.variable=this.variable,e}},{key:"updateID",value:function(){return this.id=this.zoom+"#"+this.instance+"#"+this.name}},{key:"toString",value:function(){return"["+rX.CartoCSS.Tree.Zoom.toString(this.zoom)+"] "+this.name+": "+this.value}},{key:"ev",value:function(e){return new rX.CartoCSS.Tree.Rule(this.name,this.value.ev(e),this.index,this.filename)}}]),e}(),rX.CartoCSS.Tree.Ruleset=function(){function e(t,n){pM(this,e),this.is="ruleset",this.selectors=t,this.rules=n,this._lookups={}}return yM(e,[{key:"ev",value:function(e){var t,n,r=new rX.CartoCSS.Tree.Ruleset(this.selectors,this.rules.slice(0));for(r.root=this.root,e.frames.unshift(r),t=0,n;t<r.rules.length;t++)n=r.rules[t],r.rules[t]=n.ev?n.ev(e):n;return e.frames.shift(),r}},{key:"match",value:function(e){return!e||0===e.length}},{key:"variables",value:function(){return this._variables?this._variables:this._variables=this.rules.reduce(function(e,t){return t instanceof rX.CartoCSS.Tree.Rule&&!0===t.variable&&(e[t.name]=t),e},{})}},{key:"variable",value:function(e){return this.variables()[e]}},{key:"rulesets",value:function(){return this._rulesets?this._rulesets:this._rulesets=this.rules.filter(function(e){return e instanceof rX.CartoCSS.Tree.Ruleset})}},{key:"find",value:function(e,t){t=t||this;var n,r=[],o=e.toString();return o in this._lookups?this._lookups[o]:(this.rulesets().forEach(function(o){if(o!==t)for(var i=0;i<o.selectors.length;i++)if(n=e.match(o.selectors[i])){e.elements.length>1?Array.prototype.push.apply(r,o.find(new rX.CartoCSS.Tree.Selector(null,null,e.elements.slice(1)),t)):r.push(o);break}}),this._lookups[o]=r)}},{key:"evZooms",value:function(e){for(var t=0;t<this.selectors.length;t++){for(var n=rX.CartoCSS.Tree.Zoom.all,r=0;r<this.selectors[t].zoom.length;r++)n=this.selectors[t].zoom[r].ev(e).zoom;this.selectors[t].zoom=n}}},{key:"flatten",value:function(e,t,n){var r,o,i=[];for(0===this.selectors.length&&(n.frames=n.frames.concat(this.rules)),this.evZooms(n),r=0;r<this.selectors.length;r++){var a=this.selectors[r];if(a.filters)if(t.length)for(o=0;o<t.length;o++){var s=t[o],l=s.filters.cloneWith(a.filters);if(null===l){if(s.zoom===a.zoom&&s.attachment===a.attachment&&s.elements.join()===a.elements.join()){i.push(s);continue}l=s.filters}else if(!l)continue;var u=Object.create(rX.CartoCSS.Tree.Selector.prototype);u.filters=l,u.zoom=a.zoom,u.elements=s.elements.concat(a.elements),s.attachment&&a.attachment?u.attachment=s.attachment+"/"+a.attachment:u.attachment=a.attachment||s.attachment,u.conditions=s.conditions+a.conditions,u.index=a.index,i.push(u)}else i.push(a)}var c=[];for(r=0;r<this.rules.length;r++){var f=this.rules[r];f instanceof rX.CartoCSS.Tree.Ruleset?f.flatten(e,i,n):f instanceof rX.CartoCSS.Tree.Rule?c.push(f):f instanceof rX.CartoCSS.Tree.Invalid&&n.error(f)}var p=!!c.length&&c[0].index;for(r=0;r<i.length;r++)!1!==p&&(i[r].index=p),e.push(new rX.CartoCSS.Tree.Definition(i[r],c.slice()));return e}}]),e}(),rX.CartoCSS.Tree.Selector=function(){function e(t,n,r,o,i,a){pM(this,e),this.elements=r||[],this.attachment=o,this.filters=t||{},this.zoom=void 0!==n?n:rX.CartoCSS.Tree.Zoom.all,this.conditions=i,this.index=a}return yM(e,[{key:"specificity",value:function(){return this.elements.reduce(function(e,t){var n=t.specificity();return e[0]+=n[0],e[1]+=n[1],e},[0,0,this.conditions,this.index])}}]),e}(),rX.CartoCSS.Tree.URL=function(){function e(t,n){pM(this,e),this.is="uri",this.value=t,this.paths=n}return yM(e,[{key:"toString",value:function(){return this.value.toString()}},{key:"ev",value:function(e){return new rX.CartoCSS.Tree.URL(this.value.ev(e),this.paths)}}]),e}(),rX.CartoCSS.Tree.Value=function(){function e(t){pM(this,e),this.is="value",this.value=t}return yM(e,[{key:"ev",value:function(e){return 1===this.value.length?this.value[0].ev(e):new rX.CartoCSS.Tree.Value(this.value.map(function(t){return t.ev(e)}))}},{key:"toJS",value:function(e){var t=this.ev(e),n=t.toString();return"color"===t.is||"uri"===t.is||"string"===t.is||"keyword"===t.is?n="'"+n+"'":"field"===t.is?n=n.replace(/\[(.*)\]/g,"attributes['$1']"):t.value&&"object"===fM(t.value)&&(n="["+n+"]"),"_value = "+n+";"}},{key:"toString",value:function(e,t,n,r){return this.value.map(function(t){return t.toString(e,r)}).join(n||", ")}},{key:"clone",value:function(){var e=Object.create(rX.CartoCSS.Tree.Value.prototype);return Array.isArray(e)?e.value=this.value.slice():e.value=this.value,e.is=this.is,e}}]),e}(),rX.CartoCSS.Tree.Variable=function(){function e(t,n,r){pM(this,e),this.is="variable",this.name=t,this.index=n,this.filename=r}return yM(e,[{key:"toString",value:function(){return this.name}},{key:"ev",value:function(e){if(this._css)return this._css;var t=e.frames.filter(function(e){return e.name===this.name}.bind(this));return t.length?t[0].value.ev(e):(e.error({message:"variable "+this.name+" is undefined",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"})}}]),e}(),rX.CartoCSS.Tree.Zoom=function(){function e(t,n,r){pM(this,e),this.op=t,this.value=n,this.index=r}return yM(e,[{key:"setZoom",value:function(e){return this.zoom=e,this}},{key:"ev",value:function(e){var t=parseInt(this.value.ev(e).toString(),10);switch((t>rX.CartoCSS.Tree.Zoom.maxZoom||t<0)&&e.error({message:"Only zoom levels between 0 and "+rX.CartoCSS.Tree.Zoom.maxZoom+" supported.",index:this.index}),this.op){case"=":return this.zoom="zoom && zoom === "+t,this;case">":this.zoom="zoom && zoom > "+t;break;case">=":this.zoom="zoom && zoom >= "+t;break;case"<":this.zoom="zoom && zoom < "+t;break;case"<=":this.zoom="zoom && zoom <= "+t;break;default:return this}return this}},{key:"toString",value:function(){for(var e="",t=0;t<=rX.CartoCSS.Tree.Zoom.maxZoom;t++)e+=this.zoom&1<<t?"X":".";return e}}]),e}(),rX.CartoCSS.Tree.Zoom.all=23,rX.CartoCSS.Tree.Zoom.maxZoom=22,rX.CartoCSS.Tree.Zoom.ranges={0:1e9,1:5e8,2:2e8,3:1e8,4:5e7,5:25e6,6:125e5,7:65e5,8:3e6,9:15e5,10:75e4,11:4e5,12:2e5,13:1e5,14:5e4,15:25e3,16:12500,17:5e3,18:2500,19:1500,20:750,21:500,22:250,23:100};/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var U2=function e(t){dM(this,e),t=t||{},this.fill=!0,this.fillColor="#000000",this.fillOpacity=1,this.stroke=!1,this.strokeColor="#000000",this.strokeOpacity=1,this.strokeWidth=1,this.strokeLinecap="butt",this.strokeLineJoin="miter",this.strokeDashstyle="solid",this.pointRadius=6,this.shadowBlur=0,this.shadowColor="#000000",this.shadowOffsetX=0,this.shadowOffsetY=0,this.label="",this.labelRect=!1,this.fontColor="",this.fontSize=12,this.fontStyle="normal",this.fontVariant="normal",this.fontWeight="normal",this.fontFamily="arial,sans-serif",this.labelPosition="top",this.labelAlign="center",this.labelBaseline="middle",this.labelXOffset=0,this.labelYOffset=0,hK.extend(this,t)};rX.ThemeStyle=U2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var H2=function(){function e(){vM(this,e),this.refOriginalPosition=[0,0],this.refDataID=null,this.isHoverByRefDataID=!1,this.refDataHoverGroup=null,this.dataInfo=null,this.clickable=!0,this.hoverable=!0,this.style=null,this.highlightStyle={},this.CLASS_NAME="SuperMap.Feature.ShapeParameters"}return bM(e,[{key:"destroy",value:function(){this.refOriginalPosition=null,this.refDataID=null,this.isHoverByRefDataID=null,this.refDataHoverGroup=null,this.dataInfo=null,this.clickable=null,this.hoverable=null,this.style=null,this.highlightStyle=null}}]),e}();rX.Feature=rX.Feature||{},rX.Feature.ShapeParameters=H2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var J2=function(e){function t(e,n){var r;return SM(this,t),r=_M(this,EM(t).call(this,e,n)),r.x=isNaN(e)?0:e,r.y=isNaN(n)?0:n,r.r=6,r.CLASS_NAME="SuperMap.Feature.ShapeParameters.Point",r}return kM(t,e),OM(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.r=null,CM(EM(t.prototype),"destroy",this).call(this)}}]),t}(H2);rX.Feature=rX.Feature||{},rX.Feature.ShapeParameters.Point=J2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var z2=function(e){function t(e){var n;return AM(this,t),n=NM(this,DM(t).call(this,e)),n.pointList=e,n.CLASS_NAME="SuperMap.Feature.ShapeParameters.Line",n}return GM(t,e),LM(t,[{key:"destroy",value:function(){this.pointList=null,IM(DM(t.prototype),"destroy",this).call(this)}}]),t}(H2);rX.Feature=rX.Feature||{},rX.Feature.ShapeParameters.Line=z2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var V2=function(e){function t(e){var n;return HM(this,t),n=VM(this,QM(t).call(this,e)),n.pointList=e,n.holePolygonPointLists=null,n.CLASS_NAME="SuperMap.Feature.ShapeParameters.Polygon",n}return XM(t,e),zM(t,[{key:"destroy",value:function(){this.pointList=null,this.holePolygonPointLists=null,qM(QM(t.prototype),"destroy",this).call(this)}}]),t}(H2);rX.Feature=rX.Feature||{},rX.Feature.ShapeParameters.Polygon=V2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var W2=function(e){function t(e,n,r,o){var i;return $M(this,t),i=nI(this,aI(t).call(this,e,n,r,o)),i.x=isNaN(e)?0:e,i.y=isNaN(e)?0:n,i.width=isNaN(r)?0:r,i.height=isNaN(o)?0:o,i.CLASS_NAME="SuperMap.Feature.ShapeParameters.Rectangle",i}return sI(t,e),tI(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.width=null,this.height=null,oI(aI(t.prototype),"destroy",this).call(this)}}]),t}(H2);rX.Feature=rX.Feature||{},rX.Feature.ShapeParameters.Rectangle=W2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var q2=function(e){function t(e,n,r,o,i,a,s){var l;return cI(this,t),l=hI(this,mI(t).call(this,e,n,r,o,i,a,s)),l.x=isNaN(e)?0:e,l.y=isNaN(n)?0:n,l.r=isNaN(r)?0:r,l.startAngle=isNaN(o)?0:o,l.endAngle=isNaN(i)?0:i,l.r0=isNaN(a)?0:a,l.clockWise=s,l.CLASS_NAME="SuperMap.Feature.ShapeParameters.Sector",l}return bI(t,e),pI(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.r=null,this.startAngle=null,this.endAngle=null,this.r0=null,this.clockWise=null,dI(mI(t.prototype),"destroy",this).call(this)}}]),t}(H2);rX.Feature=rX.Feature||{},rX.Feature.ShapeParameters.Sector=q2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Y2=function(e){function t(e,n,r){var o;return wI(this,t),o=PI(this,kI(t).call(this,e,n,r)),o.x=e,o.y=n,o.text=r,o.CLASS_NAME="SuperMap.Feature.ShapeParameters.Label",o}return xI(t,e),_I(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.text=null,TI(kI(t.prototype),"destroy",this).call(this)}}]),t}(H2);rX.Feature=rX.Feature||{},rX.Feature.ShapeParameters.Label=Y2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Q2=function(e){function t(e,n,r,o,i,a,s,l,u){var c;return RI(this,t),c=MI(this,GI(t).call(this,e,n,r,o,i,a,s,l,u)),c.x=e,c.y=n,c.image=r,c.width=o,c.height=i,c.sx=a,c.sy=s,c.sWidth=l,c.sHeight=u,c.CLASS_NAME="SuperMap.Feature.ShapeParameters.Image",c}return BI(t,e),NI(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.image=null,this.width=null,this.height=null,this.sx=null,this.sy=null,this.sWidth=null,this.sHeight=null,FI(GI(t.prototype),"destroy",this).call(this)}}]),t}(H2);rX.Feature=rX.Feature||{},rX.Feature.ShapeParameters.Image=Q2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var X2=function(e){function t(e,n,r){var o;return JI(this,t),o=WI(this,XI(t).call(this,e,n,r)),o.x=isNaN(e)?0:e,o.y=isNaN(n)?0:n,o.r=isNaN(r)?0:r,o.CLASS_NAME="SuperMap.Feature.ShapeParameters.Circle",o}return KI(t,e),VI(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.r=null,YI(XI(t.prototype),"destroy",this).call(this)}}]),t}(H2);rX.Feature=rX.Feature||{},rX.Feature.ShapeParameters.Circle=X2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var K2=function(){function e(){$I(this,e),this._handlers={},this.CLASS_NAME="SuperMap.LevelRenderer.Eventful"}return tF(e,[{key:"destroy",value:function(){this._handlers=null}},{key:"one",value:function(e,t,n){var r=this._handlers;return t&&e?(r[e]||(r[e]=[]),r[e].push({h:t,one:!0,ctx:n||this}),this):this}},{key:"bind",value:function(e,t,n){var r=this._handlers;return t&&e?(r[e]||(r[e]=[]),r[e].push({h:t,one:!1,ctx:n||this}),this):this}},{key:"unbind",value:function(e,t){var n=this._handlers;if(!e)return this._handlers={},this;if(t){if(n[e]){for(var r=[],o=0,i=n[e].length;o<i;o++)n[e][o].h!=t&&r.push(n[e][o]);n[e]=r}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this}},{key:"dispatch",value:function(e){if(this._handlers[e]){var t=arguments,n=t.length;n>3&&(t=Array.prototype.slice.call(t,1));for(var r=this._handlers[e],o=r.length,i=0;i<o;){switch(n){case 1:r[i].h.call(r[i].ctx);break;case 2:r[i].h.call(r[i].ctx,t[1]);break;case 3:r[i].h.call(r[i].ctx,t[1],t[2]);break;default:r[i].h.apply(r[i].ctx,t)}r[i].one?(r.splice(i,1),o--):i++}}return this}},{key:"dispatchWithContext",value:function(e){if(this._handlers[e]){var t=arguments,n=t.length;n>4&&(t=Array.prototype.slice.call(t,1,t.length-1));for(var r=t[t.length-1],o=this._handlers[e],i=o.length,a=0;a<i;){switch(n){case 1:o[a].h.call(r);break;case 2:o[a].h.call(r,t[1]);break;case 3:o[a].h.call(r,t[1],t[2]);break;default:o[a].h.apply(r,t)}o[a].one?(o.splice(a,1),i--):a++}}return this}}]),e}(),Z2=function(){function e(){nF(this,e),this.ArrayCtor="undefined"==typeof Float32Array?Array:Float32Array,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Vector"}return oF(e,[{key:"create",value:function(e,t){var n=this.ArrayCtor,r=new n(2);return r[0]=e||0,r[1]=t||0,r}},{key:"copy",value:function(e,t){return e[0]=t[0],e[1]=t[1],e}},{key:"set",value:function(e,t,n){return e[0]=t,e[1]=n,e}},{key:"add",value:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}},{key:"scaleAndAdd",value:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}},{key:"sub",value:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}},{key:"len",value:function(e){return Math.sqrt(this.lenSquare(e))}},{key:"lenSquare",value:function(e){return e[0]*e[0]+e[1]*e[1]}},{key:"mul",value:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}},{key:"div",value:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}},{key:"dot",value:function(e,t){return e[0]*t[0]+e[1]*t[1]}},{key:"scale",value:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}},{key:"normalize",value:function(e,t){var n=this.len(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}},{key:"distance",value:function(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}},{key:"distanceSquare",value:function(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}},{key:"negate",value:function(e,t){return e[0]=-t[0],e[1]=-t[1],e}},{key:"lerp",value:function(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}},{key:"applyTransform",value:function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o+n[4],e[1]=n[1]*r+n[3]*o+n[5],e}},{key:"min",value:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}},{key:"max",value:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}},{key:"length",value:function(e){return this.len(e)}},{key:"lengthSquare",value:function(e){return this.lenSquare(e)}},{key:"dist",value:function(e,t){return this.distance(e,t)}},{key:"distSquare",value:function(e,t){return this.distanceSquare(e,t)}}]),e}(),$2=function(){function e(){iF(this,e),this.vector=new Z2,this.EPSILON=1e-4,this.THREE_SQRT=Math.sqrt(3),this.ONE_THIRD=1/3,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Curve"}return sF(e,[{key:"isAroundZero",value:function(e){return e>-this.EPSILON&&e<this.EPSILON}},{key:"isNotAroundZero",value:function(e){return e>this.EPSILON||e<-this.EPSILON}},{key:"cubicAt",value:function(e,t,n,r,o){var i=1-o;return i*i*(i*e+3*o*t)+o*o*(o*r+3*i*n)}},{key:"cubicDerivativeAt",value:function(e,t,n,r,o){var i=1-o;return 3*(((t-e)*i+2*(n-t)*o)*i+(r-n)*o*o)}},{key:"cubicRootAt",value:function(e,t,n,r,o,i){var a=r+3*(t-n)-e,s=3*(n-2*t+e),l=3*(t-e),u=e-o,c=s*s-3*a*l,f=s*l-9*a*u,p=l*l-3*s*u,h=0;if(this.isAroundZero(c)&&this.isAroundZero(f))if(this.isAroundZero(s))i[0]=0;else{var y=-l/s;y>=0&&y<=1&&(i[h++]=y)}else{var d=f*f-4*c*p;if(this.isAroundZero(d)){var v=f/c,m=-s/a+v,b=-v/2;m>=0&&m<=1&&(i[h++]=m),b>=0&&b<=1&&(i[h++]=b)}else if(d>0){var g=Math.sqrt(d),S=c*s+1.5*a*(-f+g),w=c*s+1.5*a*(-f-g);S=S<0?-Math.pow(-S,this.ONE_THIRD):Math.pow(S,this.ONE_THIRD),w=w<0?-Math.pow(-w,this.ONE_THIRD):Math.pow(w,this.ONE_THIRD);var O=(-s-(S+w))/(3*a);O>=0&&O<=1&&(i[h++]=O)}else{var _=(2*c*s-3*a*f)/(2*Math.sqrt(c*c*c)),P=Math.acos(_)/3,C=Math.sqrt(c),T=Math.cos(P),E=(-s-2*C*T)/(3*a),k=(-s+C*(T+this.THREE_SQRT*Math.sin(P)))/(3*a),x=(-s+C*(T-this.THREE_SQRT*Math.sin(P)))/(3*a);E>=0&&E<=1&&(i[h++]=E),k>=0&&k<=1&&(i[h++]=k),x>=0&&x<=1&&(i[h++]=x)}}return h}},{key:"cubicExtrema",value:function(e,t,n,r,o){var i=6*n-12*t+6*e,a=9*t+3*r-3*e-9*n,s=3*t-3*e,l=0;if(this.isAroundZero(a)){if(this.isNotAroundZero(i)){var u=-s/i;u>=0&&u<=1&&(o[l++]=u)}}else{var c=i*i-4*a*s;if(this.isAroundZero(c))o[0]=-i/(2*a);else if(c>0){var f=Math.sqrt(c),p=(-i+f)/(2*a),h=(-i-f)/(2*a);p>=0&&p<=1&&(o[l++]=p),h>=0&&h<=1&&(o[l++]=h)}}return l}},{key:"cubicSubdivide",value:function(e,t,n,r,o,i){var a=(t-e)*o+e,s=(n-t)*o+t,l=(r-n)*o+n,u=(s-a)*o+a,c=(l-s)*o+s,f=(c-u)*o+u;i[0]=e,i[1]=a,i[2]=u,i[3]=f,i[4]=f,i[5]=c,i[6]=l,i[7]=r}},{key:"cubicProjectPoint",value:function(e,t,n,r,o,i,a,s,l,u,c){var f,p=this.vector.create(),h=this.vector.create(),y=this.vector.create(),d=.005,v=1/0;p[0]=l,p[1]=u;for(var m=0;m<1;m+=.05){h[0]=this.cubicAt(e,n,o,a,m),h[1]=this.cubicAt(t,r,i,s,m);var b=this.vector.distSquare(p,h);b<v&&(f=m,v=b)}v=1/0;for(var g=0;g<32&&!(d<this.EPSILON);g++){var S=f-d,w=f+d;h[0]=this.cubicAt(e,n,o,a,S),h[1]=this.cubicAt(t,r,i,s,S);var O=this.vector.distSquare(h,p);if(S>=0&&O<v)f=S,v=O;else{y[0]=this.cubicAt(e,n,o,a,w),y[1]=this.cubicAt(t,r,i,s,w);var _=this.vector.distSquare(y,p);w<=1&&_<v?(f=w,v=_):d*=.5}}return c&&(c[0]=this.cubicAt(e,n,o,a,f),c[1]=this.cubicAt(t,r,i,s,f)),Math.sqrt(v)}},{key:"quadraticAt",value:function(e,t,n,r){var o=1-r;return o*(o*e+2*r*t)+r*r*n}},{key:"quadraticDerivativeAt",value:function(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}},{key:"quadraticRootAt",value:function(e,t,n,r,o){var i=e-2*t+n,a=2*(t-e),s=e-r,l=0;if(this.isAroundZero(i)){if(this.isNotAroundZero(a)){var u=-s/a;u>=0&&u<=1&&(o[l++]=u)}}else{var c=a*a-4*i*s;if(this.isAroundZero(c)){var f=-a/(2*i);f>=0&&f<=1&&(o[l++]=f)}else if(c>0){var p=Math.sqrt(c),h=(-a+p)/(2*i),y=(-a-p)/(2*i);h>=0&&h<=1&&(o[l++]=h),y>=0&&y<=1&&(o[l++]=y)}}return l}},{key:"quadraticExtremum",value:function(e,t,n){var r=e+n-2*t;return 0===r?.5:(e-t)/r}},{key:"quadraticProjectPoint",value:function(e,t,n,r,o,i,a,s,l){var u,c=this.vector.create(),f=this.vector.create(),p=this.vector.create(),h=.005,y=1/0;c[0]=a,c[1]=s;for(var d=0;d<1;d+=.05){f[0]=this.quadraticAt(e,n,o,d),f[1]=this.quadraticAt(t,r,i,d);var v=this.vector.distSquare(c,f);v<y&&(u=d,y=v)}y=1/0;for(var m=0;m<32&&!(h<this.EPSILON);m++){var b=u-h,g=u+h;f[0]=this.quadraticAt(e,n,o,b),f[1]=this.quadraticAt(t,r,i,b);var S=this.vector.distSquare(f,c);if(b>=0&&S<y)u=b,y=S;else{p[0]=this.quadraticAt(e,n,o,g),p[1]=this.quadraticAt(t,r,i,g);var w=this.vector.distSquare(p,c);g<=1&&w<y?(u=g,y=w):h*=.5}}return l&&(l[0]=this.quadraticAt(e,n,o,u),l[1]=this.quadraticAt(t,r,i,u)),Math.sqrt(y)}}]),e}(),e5=function(){function e(){lF(this,e),this.util=new L2,this.curve=new $2,this._ctx=null,this._textWidthCache={},this._textHeightCache={},this._textWidthCacheCounter=0,this._textHeightCacheCounter=0,this.TEXT_CACHE_MAX=5e3,this.PI2=2*Math.PI,this.roots=[-1,-1,-1],this.extrema=[-1,-1],this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Area"}return cF(e,[{key:"normalizeRadian",value:function(e){return e%=this.PI2,e<0&&(e+=this.PI2),e}},{key:"isInside",value:function(e,t,n,r){if(!t||!e)return!1;var o=e.type;this._ctx=this._ctx||this.util.getContext();var i=this._mathMethod(e,t,n,r);if(void 0!==i)return i;if(e.buildPath&&this._ctx.isPointInPath)return this._buildPathMethod(e,this._ctx,t,n,r);switch(o){case"ellipse":case"smicellipse":return!0;case"trochoid":var a="out"==t.location?t.r1+t.r2+t.d:t.r1-t.r2+t.d;return this.isInsideCircle(t,n,r,a);case"rose":return this.isInsideCircle(t,n,r,t.maxr);default:return!1}}},{key:"_mathMethod",value:function(e,t,n,r){switch(e.type){case"bezier-curve":return void 0===t.cpX2?this.isInsideQuadraticStroke(t.xStart,t.yStart,t.cpX1,t.cpY1,t.xEnd,t.yEnd,t.lineWidth,n,r):this.isInsideCubicStroke(t.xStart,t.yStart,t.cpX1,t.cpY1,t.cpX2,t.cpY2,t.xEnd,t.yEnd,t.lineWidth,n,r);case"line":return this.isInsideLine(t.xStart,t.yStart,t.xEnd,t.yEnd,t.lineWidth,n,r);case"broken-line":return this.isInsideBrokenLine(t.pointList,t.lineWidth,n,r);case"smicbroken-line":var o=n,i=r;return e.refOriginalPosition&&(o=n-e.refOriginalPosition[0],i=r-e.refOriginalPosition[1]),this.isInsideBrokenLine(t.pointList,t.lineWidth,o,i);case"ring":return this.isInsideRing(t.x,t.y,t.r0,t.r,n,r);case"smicring":var a=t.x,s=t.y;return e.refOriginalPosition&&(a=t.x+e.refOriginalPosition[0],s=t.y+e.refOriginalPosition[1]),this.isInsideRing(a,s,t.r0,t.r,n,r);case"circle":return this.isInsideCircle(t.x,t.y,t.r,n,r);case"smicpoint":var l=n,u=r;return e.refOriginalPosition&&(l=n-e.refOriginalPosition[0],u=r-e.refOriginalPosition[1]),this.isInsideCircle(t.x,t.y,t.r,l,u);case"sector":var c=t.startAngle*Math.PI/180,f=t.endAngle*Math.PI/180;return t.clockWise||(c=-c,f=-f),this.isInsideSector(t.x,t.y,t.r0,t.r,c,f,!t.clockWise,n,r);case"smicsector":var p=t.startAngle*Math.PI/180,h=t.endAngle*Math.PI/180;t.clockWise||(p=-p,h=-h);var y=t.x,d=t.y;return e.refOriginalPosition&&(y=t.x+e.refOriginalPosition[0],d=t.y+e.refOriginalPosition[1]),this.isInsideSector(y,d,t.r0,t.r,p,h,!t.clockWise,n,r);case"path":return this.isInsidePath(t.pathArray,Math.max(t.lineWidth,5),t.brushType,n,r);case"polygon":case"star":case"smicstar":case"isogon":case"smicisogon":return this.isInsidePolygon(t.pointList,n,r);case"smicpolygon":var v=n,m=r;if(e.refOriginalPosition&&(v=n-e.refOriginalPosition[0],m=r-e.refOriginalPosition[1]),e.holePolygonPointLists&&e.holePolygonPointLists.length>0){for(var b=this.isInsidePolygon(t.pointList,v,m),g=e.holePolygonPointLists,S=!1,w=0,O=g.length;w<O;w++){var _=g[w];!0===this.isInsidePolygon(_,v,m)&&(S=!0)}return!0===b&&!1===S}return this.isInsidePolygon(t.pointList,v,m);case"text":var P=t.__rect||e.getRect(t);return this.isInsideRect(P.x,P.y,P.width,P.height,n,r);case"smictext":var C=e.getTextBackground(t);return this.isInsidePolygon(C,n,r);case"rectangle":case"image":return this.isInsideRect(t.x,t.y,t.width,t.height,n,r);case"smicimage":var T=t.x,E=t.y;return e.refOriginalPosition&&(T=t.x+e.refOriginalPosition[0],E=t.y+e.refOriginalPosition[1]),this.isInsideRect(T,E,t.width,t.height,n,r)}}},{key:"_buildPathMethod",value:function(e,t,n,r,o){return t.beginPath(),e.buildPath(t,n),t.closePath(),t.isPointInPath(r,o)}},{key:"isOutside",value:function(e,t,n,r){return!this.isInside(e,t,n,r)}},{key:"isInsideLine",value:function(e,t,n,r,o,i,a){if(0===o)return!1;var s=Math.max(o,5),l=0,u=0;if(a>t+s&&a>r+s||a<t-s&&a<r-s||i>e+s&&i>n+s||i<e-s&&i<n-s)return!1;if(e===n)return Math.abs(i-e)<=s/2;l=(t-r)/(e-n),u=(e*r-n*t)/(e-n);var c=l*i-a+u;return c*c/(l*l+1)<=s/2*s/2}},{key:"isInsideCubicStroke",value:function(e,t,n,r,o,i,a,s,l,u,c){if(0===l)return!1;var f=Math.max(l,5);return!(c>t+f&&c>r+f&&c>i+f&&c>s+f||c<t-f&&c<r-f&&c<i-f&&c<s-f||u>e+f&&u>n+f&&u>o+f&&u>a+f||u<e-f&&u<n-f&&u<o-f&&u<a-f)&&this.curve.cubicProjectPoint(e,t,n,r,o,i,a,s,u,c,null)<=f/2}},{key:"isInsideQuadraticStroke",value:function(e,t,n,r,o,i,a,s,l){if(0===a)return!1;var u=Math.max(a,5);return!(l>t+u&&l>r+u&&l>i+u||l<t-u&&l<r-u&&l<i-u||s>e+u&&s>n+u&&s>o+u||s<e-u&&s<n-u&&s<o-u)&&this.curve.quadraticProjectPoint(e,t,n,r,o,i,s,l,null)<=u/2}},{key:"isInsideArcStroke",value:function(e,t,n,r,o,i,a,s,l){var u=this.PI2;if(0===a)return!1;var c=Math.max(a,5);s-=e,l-=t;var f=Math.sqrt(s*s+l*l);if(f-c>n||f+c<n)return!1;if(Math.abs(r-o)>=u)return!0;if(i){var p=r;r=this.normalizeRadian(o),o=this.normalizeRadian(p)}else r=this.normalizeRadian(r),o=this.normalizeRadian(o);r>o&&(o+=u);var h=Math.atan2(l,s);return h<0&&(h+=u),h>=r&&h<=o||h+u>=r&&h+u<=o}},{key:"isInsideBrokenLine",value:function(e,t,n,r){for(var o=Math.max(t,10),i=0,a=e.length-1;i<a;i++){var s=e[i][0],l=e[i][1],u=e[i+1][0],c=e[i+1][1];if(this.isInsideLine(s,l,u,c,o,n,r))return!0}return!1}},{key:"isInsideRing",value:function(e,t,n,r,o,i){var a=(o-e)*(o-e)+(i-t)*(i-t);return a<r*r&&a>n*n}},{key:"isInsideRect",value:function(e,t,n,r,o,i){return o>=e&&o<=e+n&&i>=t&&i<=t+r}},{key:"isInsideCircle",value:function(e,t,n,r,o){return(r-e)*(r-e)+(o-t)*(o-t)<n*n}},{key:"isInsideSector",value:function(e,t,n,r,o,i,a,s,l){return this.isInsideArcStroke(e,t,(n+r)/2,o,i,a,r-n,s,l)}},{key:"isInsidePolygon",value:function(e,t,n){for(var r=e.length,o=0,i=0,a=r-1;i<r;i++){var s=e[a][0],l=e[a][1],u=e[i][0],c=e[i][1];o+=this.windingLine(s,l,u,c,t,n),a=i}return 0!==o}},{key:"windingLine",value:function(e,t,n,r,o,i){if(i>t&&i>r||i<t&&i<r)return 0;if(r==t)return 0;var a=r<t?1:-1;return(i-t)/(r-t)*(n-e)+e>o?a:0}},{key:"swapExtrema",value:function(){var e=this.extrema[0];this.extrema[0]=this.extrema[1],this.extrema[1]=e}},{key:"windingCubic",value:function(e,t,n,r,o,i,a,s,l,u){var c=this.curve,f=this.roots,p=this.extrema;if(u>t&&u>r&&u>i&&u>s||u<t&&u<r&&u<i&&u<s)return 0;var h=c.cubicRootAt(t,r,i,s,u,f);if(0===h)return 0;for(var y,d,v=0,m=-1,b=0;b<h;b++){var g=f[b];c.cubicAt(e,n,o,a,g)<l||(m<0&&(m=c.cubicExtrema(t,r,i,s,p),p[1]<p[0]&&m>1&&this.swapExtrema(),y=c.cubicAt(t,r,i,s,p[0]),m>1&&(d=c.cubicAt(t,r,i,s,p[1]))),2==m?g<p[0]?v+=y<t?1:-1:g<p[1]?v+=d<y?1:-1:v+=s<d?1:-1:g<p[0]?v+=y<t?1:-1:v+=s<y?1:-1)}return v}},{key:"windingQuadratic",value:function(e,t,n,r,o,i,a,s){var l=this.curve,u=this.roots;if(s>t&&s>r&&s>i||s<t&&s<r&&s<i)return 0;var c=l.quadraticRootAt(t,r,i,s,u);if(0===c)return 0;var f=l.quadraticExtremum(t,r,i);if(f>=0&&f<=1){for(var p=0,h=l.quadraticAt(t,r,i,f),y=0;y<c;y++){l.quadraticAt(e,n,o,u[y])>a||(u[y]<f?p+=h<t?1:-1:p+=i<h?1:-1)}return p}return l.quadraticAt(e,n,o,u[0])>a?0:i<t?1:-1}},{key:"windingArc",value:function(e,t,n,r,o,i,a,s){var l=this.roots,u=this.PI2;if((s-=t)>n||s<-n)return 0;var c=Math.sqrt(n*n-s*s);if(l[0]=-c,l[1]=c,Math.abs(r-o)>=u){r=0,o=u;var f=i?1:-1;return a>=l[0]+e&&a<=l[1]+e?f:0}if(i){var p=r;r=this.normalizeRadian(o),o=this.normalizeRadian(p)}else r=this.normalizeRadian(r),o=this.normalizeRadian(o);r>o&&(o+=u);for(var h=0,y=0;y<2;y++){var d=l[y];if(d+e>a){var v=Math.atan2(s,d),m=i?1:-1;v<0&&(v=u+v),(v>=r&&v<=o||v+u>=r&&v+u<=o)&&(v>Math.PI/2&&v<1.5*Math.PI&&(m=-m),h+=m)}}return h}},{key:"isInsidePath",value:function(e,t,n,r,o){var i=0,a=0,s=0,l=0,u=0,c=!0,f=!0;n=n||"fill";for(var p="stroke"===n||"both"===n,h="fill"===n||"both"===n,y=0;y<e.length;y++){var d=e[y],v=d.points;if(c||"M"===d.command){if(y>0&&(h&&(i+=this.windingLine(a,s,l,u,r,o)),0!==i))return!0;l=v[v.length-2],u=v[v.length-1],c=!1,f&&"A"!==d.command&&(f=!1,a=l,s=u)}switch(d.command){case"M":a=v[0],s=v[1];break;case"L":if(p&&this.isInsideLine(a,s,v[0],v[1],t,r,o))return!0;h&&(i+=this.windingLine(a,s,v[0],v[1],r,o)),a=v[0],s=v[1];break;case"C":if(p&&this.isInsideCubicStroke(a,s,v[0],v[1],v[2],v[3],v[4],v[5],t,r,o))return!0;h&&(i+=this.windingCubic(a,s,v[0],v[1],v[2],v[3],v[4],v[5],r,o)),a=v[4],s=v[5];break;case"Q":if(p&&this.isInsideQuadraticStroke(a,s,v[0],v[1],v[2],v[3],t,r,o))return!0;h&&(i+=this.windingQuadratic(a,s,v[0],v[1],v[2],v[3],r,o)),a=v[2],s=v[3];break;case"A":var m=v[0],b=v[1],g=v[2],S=v[3],w=v[4],O=v[5],_=Math.cos(w)*g+m,P=Math.sin(w)*S+b;f?(f=!1,l=_,u=P):i+=this.windingLine(a,s,_,P);var C=(r-m)*S/g+m;if(p&&this.isInsideArcStroke(m,b,S,w,w+O,1-v[7],t,C,o))return!0;h&&(i+=this.windingArc(m,b,S,w,w+O,1-v[7],C,o)),a=Math.cos(w+O)*g+m,s=Math.sin(w+O)*S+b;break;case"z":if(p&&this.isInsideLine(a,s,l,u,t,r,o))return!0;c=!0}}return h&&(i+=this.windingLine(a,s,l,u,r,o)),0!==i}},{key:"getTextWidth",value:function(e,t){var n=e+":"+t;if(this._textWidthCache[n])return this._textWidthCache[n];this._ctx=this._ctx||this.util.getContext(),this._ctx.save(),t&&(this._ctx.font=t),e=(e+"").split("\n");for(var r=0,o=0,i=e.length;o<i;o++)r=Math.max(this._ctx.measureText(e[o]).width,r);return this._ctx.restore(),this._textWidthCache[n]=r,++this._textWidthCacheCounter>this.TEXT_CACHE_MAX&&(this._textWidthCacheCounter=0,this._textWidthCache={}),r}},{key:"getTextHeight",value:function(e,t){var n=e+":"+t;if(this._textHeightCache[n])return this._textHeightCache[n];this._ctx=this._ctx||this.util.getContext(),this._ctx.save(),t&&(this._ctx.font=t),e=(e+"").split("\n");var r=(this._ctx.measureText("ZH").width+2)*e.length;return this._ctx.restore(),this._textHeightCache[n]=r,++this._textHeightCacheCounter>this.TEXT_CACHE_MAX&&(this._textHeightCacheCounter=0,this._textHeightCache={}),r}}]),e}(),t5=function(){function e(){fF(this,e),3===arguments.length&&this.computeBoundingBox(arguments),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.ComputeBoundingBox"}return hF(e,[{key:"computeBoundingBox",value:function(e,t,n){if(0!==e.length){for(var r=e[0][0],o=e[0][0],i=e[0][1],a=e[0][1],s=1;s<e.length;s++){var l=e[s];l[0]<r&&(r=l[0]),l[0]>o&&(o=l[0]),l[1]<i&&(i=l[1]),l[1]>a&&(a=l[1])}t[0]=r,t[1]=i,n[0]=o,n[1]=a}}},{key:"cubeBezier",value:function(e,t,n,r,o,i){var a=new $2,s=[];a.cubicExtrema(e[0],t[0],n[0],r[0],s);for(var l=0;l<s.length;l++)s[l]=a.cubicAt(e[0],t[0],n[0],r[0],s[l]);var u=[];a.cubicExtrema(e[1],t[1],n[1],r[1],u);for(var c=0;c<u.length;c++)u[c]=a.cubicAt(e[1],t[1],n[1],r[1],u[c]);s.push(e[0],r[0]),u.push(e[1],r[1]);var f=Math.min.apply(null,s),p=Math.max.apply(null,s),h=Math.min.apply(null,u),y=Math.max.apply(null,u);o[0]=f,o[1]=h,i[0]=p,i[1]=y}},{key:"quadraticBezier",value:function(e,t,n,r,o){var i=new $2,a=i.quadraticExtremum(e[0],t[0],n[0]),s=i.quadraticExtremum(e[1],t[1],n[1]);a=Math.max(Math.min(a,1),0),s=Math.max(Math.min(s,1),0);var l=1-a,u=1-s,c=l*l*e[0]+2*l*a*t[0]+a*a*n[0],f=l*l*e[1]+2*l*a*t[1]+a*a*n[1],p=u*u*e[0]+2*u*s*t[0]+s*s*n[0],h=u*u*e[1]+2*u*s*t[1]+s*s*n[1];r[0]=Math.min(e[0],n[0],c,p),r[1]=Math.min(e[1],n[1],f,h),o[0]=Math.max(e[0],n[0],c,p),o[1]=Math.max(e[1],n[1],f,h)}},{key:"arc",value:function(e,t,n,r,o,i,a,s){var l=new Z2,u=l.create(),c=l.create(),f=l.create();if(u[0]=Math.cos(r)*n+e,u[1]=Math.sin(r)*n+t,c[0]=Math.cos(o)*n+e,c[1]=Math.sin(o)*n+t,l.min(a,u,c),l.max(s,u,c),r%=2*Math.PI,r<0&&(r+=2*Math.PI),o%=2*Math.PI,o<0&&(o+=2*Math.PI),r>o&&!i?o+=2*Math.PI:r<o&&i&&(r+=2*Math.PI),i){var p=o;o=r,r=p}for(var h=0;h<o;h+=Math.PI/2)h>r&&(f[0]=Math.cos(h)*n+e,f[1]=Math.sin(h)*n+t,l.min(a,f,a),l.max(s,f,s))}}]),e}(),n5=function(){function e(){yF(this,e),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Env";var t=this;return function(e){var n=t.os={},r=t.browser={},o=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),i=e.match(/(Android);?[\s\/]+([\d.]+)?/),a=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),l=!a&&e.match(/(iPhone\sOS)\s([\d_]+)/),u=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),c=u&&e.match(/TouchPad/),f=e.match(/Kindle\/([\d.]+)/),p=e.match(/Silk\/([\d._]+)/),h=e.match(/(BlackBerry).*Version\/([\d.]+)/),y=e.match(/(BB10).*Version\/([\d.]+)/),d=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),v=e.match(/PlayBook/),m=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),b=e.match(/Firefox\/([\d.]+)/),g=e.match(/MSIE ([\d.]+)/),S=o&&e.match(/Mobile\//)&&!m,w=e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!m;return(r.webkit=!!o)&&(r.version=o[1]),i&&(n.android=!0,n.version=i[2]),l&&!s&&(n.ios=n.iphone=!0,n.version=l[2].replace(/_/g,".")),a&&(n.ios=n.ipad=!0,n.version=a[2].replace(/_/g,".")),s&&(n.ios=n.ipod=!0,n.version=s[3]?s[3].replace(/_/g,"."):null),u&&(n.webos=!0,n.version=u[2]),c&&(n.touchpad=!0),h&&(n.blackberry=!0,n.version=h[2]),y&&(n.bb10=!0,n.version=y[2]),d&&(n.rimtabletos=!0,n.version=d[2]),v&&(r.playbook=!0),f&&(n.kindle=!0,n.version=f[1]),p&&(r.silk=!0,r.version=p[1]),!p&&n.android&&e.match(/Kindle Fire/)&&(r.silk=!0),m&&(r.chrome=!0,r.version=m[1]),b&&(r.firefox=!0,r.version=b[1]),g&&(r.ie=!0,r.version=g[1]),S&&(e.match(/Safari/)||n.ios)&&(r.safari=!0),w&&(r.webview=!0),g&&(r.ie=!0,r.version=g[1]),n.tablet=!!(a||v||i&&!e.match(/Mobile/)||b&&e.match(/Tablet/)||g&&!e.match(/Phone/)&&e.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(i||l||u||h||y||m&&e.match(/Android/)||m&&e.match(/CriOS\/([\d.]+)/)||b&&e.match(/Mobile/)||g&&e.match(/Touch/))),{browser:r,os:n,canvasSupported:!!document.createElement("canvas").getContext}}(navigator.userAgent)}return vF(e,[{key:"destory",value:function(){return!0}}]),e}(),r5=function(){function e(){mF(this,e),this.stop="function"==typeof window.addEventListener?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0},this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Event"}return gF(e,[{key:"getX",value:function(e){return void 0!==e.zrenderX&&e.zrenderX||void 0!==e.offsetX&&e.offsetX||void 0!==e.layerX&&e.layerX||void 0!==e.clientX&&e.clientX}},{key:"getY",value:function(e){return void 0!==e.zrenderY&&e.zrenderY||void 0!==e.offsetY&&e.offsetY||void 0!==e.layerY&&e.layerY||void 0!==e.clientY&&e.clientY}},{key:"getDelta",value:function(e){return void 0!==e.zrenderDelta&&e.zrenderDelta||void 0!==e.wheelDelta&&e.wheelDelta||void 0!==e.detail&&-e.detail}}]),e}(),o5=function(){function e(){wF(this,e),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Http"}return _F(e,[{key:"get",value:function(e,t,n){if("object"===SF(e)){var r=e;e=r.url,t=r.onsuccess,n=r.onerror}var o=window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");o.open("GET",e,!0),o.onreadystatechange=function(){4==o.readyState&&(o.status>=200&&o.status<300||304===o.status?t&&t(o.responseText):n&&n(),o.onreadystatechange=new Function,o=null)},o.send(null)}}]),e}(),i5=function e(){PF(this,e)};i5.EVENT={RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},i5.catchBrushException=!1,i5.debugMode=0;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var a5=function(){function e(){return CF(this,e),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Log",function(){if(0!==i5.debugMode)if(1==i5.debugMode)for(var e in arguments)throw new Error(arguments[e]);else if(i5.debugMode>1)for(var t in arguments)console.log(arguments[t])}}return EF(e,[{key:"destory",value:function(){return!0}}]),e}(),s5=function(){function e(){kF(this,e),this._radians=window.Math.PI/180,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Math"}return jF(e,[{key:"sin",value:function(e,t){return window.Math.sin(t?e*this._radians:e)}},{key:"cos",value:function(e,t){return window.Math.cos(t?e*this._radians:e)}},{key:"degreeToRadian",value:function(e){return e*this._radians}},{key:"radianToDegree",value:function(e){return e/this._radians}}]),e}(),l5=function(){function e(){AF(this,e),this.ArrayCtor="undefined"==typeof Float32Array?Array:Float32Array,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Matrix"}return LF(e,[{key:"create",value:function(){var e=this.ArrayCtor,t=new e(6);return this.identity(t),t}},{key:"identity",value:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}},{key:"copy",value:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}},{key:"mul",value:function(e,t,n){return e[0]=t[0]*n[0]+t[2]*n[1],e[1]=t[1]*n[0]+t[3]*n[1],e[2]=t[0]*n[2]+t[2]*n[3],e[3]=t[1]*n[2]+t[3]*n[3],e[4]=t[0]*n[4]+t[2]*n[5]+t[4],e[5]=t[1]*n[4]+t[3]*n[5]+t[5],e}},{key:"translate",value:function(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}},{key:"rotate",value:function(e,t,n){var r=t[0],o=t[2],i=t[4],a=t[1],s=t[3],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*u,e[1]=-r*u+a*c,e[2]=o*c+s*u,e[3]=-o*u+c*s,e[4]=c*i+u*l,e[5]=c*l-u*i,e}},{key:"scale",value:function(e,t,n){var r=n[0],o=n[1];return e[0]=t[0]*r,e[1]=t[1]*o,e[2]=t[2]*r,e[3]=t[3]*o,e[4]=t[4]*r,e[5]=t[5]*o,e}},{key:"invert",value:function(e,t){var n=t[0],r=t[2],o=t[4],i=t[1],a=t[3],s=t[5],l=n*a-i*r;return l?(l=1/l,e[0]=a*l,e[1]=-i*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*s-a*o)*l,e[5]=(i*o-n*s)*l,e):null}},{key:"mulVector",value:function(e,t,n){var r=t[0],o=t[2],i=t[4],a=t[1],s=t[3],l=t[5];return e[0]=n[0]*r+n[1]*o+i,e[1]=n[0]*a+n[1]*s+l,e}}]),e}(),u5=function(){function e(){NF(this,e)}return IF(e,null,[{key:"SUtil_smoothBezier",value:function(t,n,r,o,i){i&&2===i||(i=[0,0]);var a,s,l=i,u=[],c=[],f=[],p=[],h=!!o;if(h){a=[1/0,1/0],s=[-1/0,-1/0];for(var y=t.length,d=0;d<y;d++)e.Util_vector.min(a,a,[t[d][0]+l[0],t[d][1]+l[1]]),e.Util_vector.max(s,s,[t[d][0]+l[0],t[d][1]+l[1]]);e.Util_vector.min(a,a,o[0]),e.Util_vector.max(s,s,o[1])}for(var v=t.length,m=0;m<v;m++){var b=[t[m][0]+l[0],t[m][1]+l[1]],g=void 0,S=void 0;if(r)g=[t[m?m-1:v-1][0]+l[0],t[m?m-1:v-1][1]+l[1]],S=[t[(m+1)%v][0]+l[0],t[(m+1)%v][1]+l[1]];else{if(0===m||m===v-1){u.push([t[m][0]+l[0],t[m][1]+l[1]]);continue}g=[t[m-1][0]+l[0],t[m-1][1]+l[1]],S=[t[m+1][0]+l[0],t[m+1][1]+l[1]]}e.Util_vector.sub(c,S,g),e.Util_vector.scale(c,c,n);var w=e.Util_vector.distance(b,g),O=e.Util_vector.distance(b,S),_=w+O;0!==_&&(w/=_,O/=_),e.Util_vector.scale(f,c,-w),e.Util_vector.scale(p,c,O);var P=e.Util_vector.add([],b,f),C=e.Util_vector.add([],b,p);h&&(e.Util_vector.max(P,P,a),e.Util_vector.min(P,P,s),e.Util_vector.max(C,C,a),e.Util_vector.min(C,C,s)),u.push(P),u.push(C)}return r&&u.push(u.shift()),u}},{key:"SUtil_smoothSpline",value:function(t,n,r,o){function i(e,t,n,r,o,i,a){var s=.5*(n-e),l=.5*(r-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*i+s*o+t}o&&2===o||(o=[0,0]);for(var a=o,s=t.length,l=[],u=0,c=1;c<s;c++)u+=e.Util_vector.distance([t[c-1][0]+a[0],t[c-1][1]+a[1]],[t[c][0]+a[0],t[c][1]+a[1]]);var f=u/5;f=f<s?s:f;for(var p=0;p<f;p++){var h=p/(f-1)*(n?s:s-1),y=Math.floor(h),d=h-y,v=void 0,m=[t[y%s][0]+a[0],t[y%s][1]+a[1]],b=void 0,g=void 0;n?(v=[t[(y-1+s)%s][0]+a[0],t[(y-1+s)%s][1]+a[1]],b=[t[(y+1)%s][0]+a[0],t[(y+1)%s][1]+a[1]],g=[t[(y+2)%s][0]+a[0],t[(y+2)%s][1]+a[1]]):(v=[t[0===y?y:y-1][0]+a[0],t[0===y?y:y-1][1]+a[1]],b=[t[y>s-2?s-1:y+1][0]+a[0],t[y>s-2?s-1:y+1][1]+a[1]],g=[t[y>s-3?s-1:y+2][0]+a[0],t[y>s-3?s-1:y+2][1]+a[1]]);var S=d*d,w=d*S;l.push([i(v[0],m[0],b[0],g[0],d,S,w),i(v[1],m[1],b[1],g[1],d,S,w)])}return l}},{key:"SUtil_dashedLineTo",value:function(e,t,n,r,o,i,a){var s=[5,5];if(i="number"!=typeof i?5:i,e.setLineDash)return s[0]=i,s[1]=i,a&&a instanceof Array?e.setLineDash(a):e.setLineDash(s),e.moveTo(t,n),void e.lineTo(r,o);var l=r-t,u=o-n,c=Math.floor(Math.sqrt(l*l+u*u)/i);l/=c,u/=c;for(var f=!0,p=0;p<c;++p)f?e.moveTo(t,n):e.lineTo(t,n),f=!f,t+=l,n+=u;e.lineTo(r,o)}}]),e}();u5.Util_area=new e5,u5.Util_color=new N2,u5.Util_computeBoundingBox=new t5,u5.Util_curve=new $2,u5.Util_env=new n5,u5.Util_event=new r5,u5.Util_http=new o5,u5.Util_log=new a5,u5.Util_math=new s5,u5.Util_matrix=new l5,u5.Util=new L2,u5.Util_vector=new Z2;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c5=function(){function e(){FF(this,e),this.position=[0,0],this.rotation=[0,0,0],this.scale=[1,1,0,0],this.needLocalTransform=!1,this.needTransform=!1,this.CLASS_NAME="SuperMap.LevelRenderer.Transformable",this.lookAt=function(){var e=u5.Util_vector.create();return function(t){function n(e){return e>-5e-5&&e<5e-5}this.transform||(this.transform=u5.Util_matrix.create());var r=this.transform;u5.Util_vector.sub(e,t,this.position),n(e[0])&&n(e[1])||(u5.Util_vector.normalize(e,e),r[2]=e[0]*this.scale[1],r[3]=e[1]*this.scale[1],r[0]=e[1]*this.scale[0],r[1]=-e[0]*this.scale[0],r[4]=this.position[0],r[5]=this.position[1],this.decomposeTransform())}}()}return GF(e,[{key:"destroy",value:function(){this.position=null,this.rotation=null,this.scale=null,this.needLocalTransform=null,this.needTransform=null}},{key:"updateNeedTransform",value:function(){function e(e){return e>5e-5||e<-5e-5}this.needLocalTransform=e(this.rotation[0])||e(this.position[0])||e(this.position[1])||e(this.scale[0]-1)||e(this.scale[1]-1)}},{key:"updateTransform",value:function(){function e(e){return e>5e-5||e<-5e-5}if(this.updateNeedTransform(),this.parent?this.needTransform=this.needLocalTransform||this.parent.needTransform:this.needTransform=this.needLocalTransform,this.needTransform){var t=[0,0],n=this.transform||u5.Util_matrix.create();if(u5.Util_matrix.identity(n),this.needLocalTransform){if(e(this.scale[0])||e(this.scale[1])){t[0]=-this.scale[2]||0,t[1]=-this.scale[3]||0;var r=e(t[0])||e(t[1]);r&&u5.Util_matrix.translate(n,n,t),u5.Util_matrix.scale(n,n,this.scale),r&&(t[0]=-t[0],t[1]=-t[1],u5.Util_matrix.translate(n,n,t))}if(this.rotation instanceof Array){if(0!==this.rotation[0]){t[0]=-this.rotation[1]||0,t[1]=-this.rotation[2]||0;var o=e(t[0])||e(t[1]);o&&u5.Util_matrix.translate(n,n,t),u5.Util_matrix.rotate(n,n,this.rotation[0]),o&&(t[0]=-t[0],t[1]=-t[1],u5.Util_matrix.translate(n,n,t))}}else 0!==this.rotation&&u5.Util_matrix.rotate(n,n,this.rotation);(e(this.position[0])||e(this.position[1]))&&u5.Util_matrix.translate(n,n,this.position)}this.transform=n,this.parent&&this.parent.needTransform&&(this.needLocalTransform?u5.Util_matrix.mul(this.transform,this.parent.transform,this.transform):u5.Util_matrix.copy(this.transform,this.parent.transform))}}},{key:"setTransform",value:function(e){if(this.needTransform){var t=this.transform;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}}},{key:"decomposeTransform",value:function(){function e(e){return e>5e-5||e<-5e-5}if(this.transform){var t=this.transform,n=t[0]*t[0]+t[1]*t[1],r=this.position,o=this.scale,i=this.rotation;e(n-1)&&(n=Math.sqrt(n));var a=t[2]*t[2]+t[3]*t[3];e(a-1)&&(a=Math.sqrt(a)),r[0]=t[4],r[1]=t[5],o[0]=n,o[1]=a,o[2]=o[3]=0,i[0]=Math.atan2(-t[1]/a,t[0]/n),i[1]=i[2]=0}}}]),e}(),f5=function(e){function t(e){var n;return UF(this,t),n=zF(this,YF(t).call(this,e)),e=e||{},n.id=null,n.style={},n.highlightStyle=null,n.parent=null,n.__dirty=!0,n.__clipShapes=[],n.invisible=!1,n.ignore=!1,n.zlevel=0,n.draggable=!1,n.clickable=!1,n.hoverable=!0,n.z=0,n.refOriginalPosition=[0,0],n.refDataID=null,n.isHoverByRefDataID=!1,n.refDataHoverGroup=null,n.dataInfo=null,hK.extend(VF(n),e),n.id=n.id||hK.createUniqueID("smShape_"),n.CLASS_NAME="SuperMap.LevelRenderer.Shape",n.getTansform=function(){var e=[];return function(t,n){var r=[t,n];return this.needTransform&&this.transform&&(u5.Util_matrix.invert(e,this.transform),u5.Util_matrix.mulVector(r,e,[t,n,1]),t==r[0]&&n==r[1]&&this.updateNeedTransform()),r}}(),n}return QF(t,e),JF(t,[{key:"destroy",value:function(){this.id=null,this.style=null,this.highlightStyle=null,this.parent=null,this.__dirty=null,this.__clipShapes=null,this.invisible=null,this.ignore=null,this.zlevel=null,this.draggable=null,this.clickable=null,this.hoverable=null,this.z=null,this.refOriginalPosition=null,this.refDataID=null,this.refDataHoverGroup=null,this.isHoverByRefDataID=null,this.dataInfo=null,WF(YF(t.prototype),"destroy",this).call(this)}},{key:"brush",value:function(e,t){var n=this.beforeBrush(e,t);switch(e.beginPath(),this.buildPath(e,n),n.brushType){case"both":this.setCtxGlobalAlpha(e,"fill",n),e.fill(),n.lineWidth>0&&(this.setCtxGlobalAlpha(e,"stroke",n),e.stroke()),this.setCtxGlobalAlpha(e,"reset",n);break;case"stroke":this.setCtxGlobalAlpha(e,"stroke",n),n.lineWidth>0&&e.stroke(),this.setCtxGlobalAlpha(e,"reset",n);break;default:this.setCtxGlobalAlpha(e,"fill",n),e.fill(),this.setCtxGlobalAlpha(e,"reset",n)}this.drawText(e,n,this.style),this.afterBrush(e)}},{key:"beforeBrush",value:function(e,t){var n=this.style;return this.brushTypeOnly&&(n.brushType=this.brushTypeOnly),t&&(n=this.getHighlightStyle(n,this.highlightStyle||{},this.brushTypeOnly)),"stroke"==this.brushTypeOnly&&(n.strokeColor=n.strokeColor||n.color),e.save(),this.doClip(e),this.setContext(e,n),this.setTransform(e),n}},{key:"afterBrush",value:function(e){e.restore()}},{key:"setContext",value:function(e,t){for(var n=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]],r=0,o=n.length;r<o;r++){var i=n[r][0],a=t[i],s=n[r][1];void 0!==a&&(e[s]=a)}}},{key:"doClip",value:function(e){var t=u5.Util_matrix.create();if(this.__clipShapes)for(var n=0;n<this.__clipShapes.length;n++){var r=this.__clipShapes[n];if(r.needTransform){var o=r.transform;u5.Util_matrix.invert(t,o),e.transform(o[0],o[1],o[2],o[3],o[4],o[5])}if(e.beginPath(),r.buildPath(e,r.style),e.clip(),r.needTransform){var i=t;e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}}}},{key:"getHighlightStyle",value:function(e,t,n){var r={};for(var o in e)r[o]=e[o];var i=u5.Util_color.getHighlightColor();"stroke"!=e.brushType?(r.strokeColor=i,r.lineWidth=e.lineWidth||1,r.brushType="both"):"stroke"!=n?(r.strokeColor=i,r.lineWidth=e.lineWidth||1):r.strokeColor=t.strokeColor||u5.Util_color.mix(e.strokeColor,u5.Util_color.toRGB(i));for(var a in t)void 0!==t[a]&&(r[a]=t[a]);return r}},{key:"getHighlightZoom",value:function(){return"text"!=this.type?6:2}},{key:"drift",value:function(e,t){this.position[0]+=e,this.position[1]+=t}},{key:"buildPath",value:function(e,t){u5.Util_log("buildPath not implemented in "+this.type)}},{key:"getRect",value:function(e){u5.Util_log("getRect not implemented in "+this.type)}},{key:"isCover",value:function(e,t){var n=this.getTansform(e,t);e=n[0],t=n[1];var r=this.style.__rect;return r||(r=this.style.__rect=this.getRect(this.style)),e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height&&u5.Util_area.isInside(this,this.style,e,t)}},{key:"drawText",value:function(e,n,r){if(void 0!==n.text&&!1!==n.text){var o=n.textColor||n.color||n.strokeColor;e.fillStyle=o;var i,a,s,l,u=10,c=n.textPosition||this.textPosition||"top",f=[];switch(f=this.refOriginalPosition&&2===this.refOriginalPosition.length?this.refOriginalPosition:[0,0],c){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var p=(r||n).__rect||this.getRect(r||n);switch(c){case"inside":s=p.x+p.width/2,l=p.y+p.height/2,i="center",a="middle","stroke"!=n.brushType&&o==n.color&&(e.fillStyle="#fff");break;case"left":s=p.x-u,l=p.y+p.height/2,i="end",a="middle";break;case"right":s=p.x+p.width+u,l=p.y+p.height/2,i="start",a="middle";break;case"top":s=p.x+p.width/2,l=p.y-u,i="center",a="bottom";break;case"bottom":s=p.x+p.width/2,l=p.y+p.height+u,i="center",a="top"}}break;case"start":case"end":var h=0,y=0,d=0,v=0;if(void 0!==n.pointList){var m=n.pointList;if(m.length<2)return;var b=m.length;switch(c){case"start":h=m[0][0]+f[0],y=m[1][0]+f[0],d=m[0][1]+f[1],v=m[1][1]+f[1];break;case"end":h=m[b-2][0]+f[0],y=m[b-1][0]+f[0],d=m[b-2][1]+f[1],v=m[b-1][1]+f[1]}}else h=n.xStart+f[0]||0,y=n.xEnd+f[0]||0,d=n.yStart+f[1]||0,v=n.yEnd+f[1]||0;switch(c){case"start":i=h<y?"end":"start",a=d<v?"bottom":"top",s=h,l=d;break;case"end":i=h<y?"start":"end",a=d<v?"top":"bottom",s=y,l=v}u-=4,h&&y&&h!=y?s-="end"==i?u:-u:i="center",d!=v?l-="bottom"==a?u:-u:a="middle";break;case"specific":s=n.textX||0,l=n.textY||0,i="start",a="middle"}n.labelXOffset&&!isNaN(n.labelXOffset)&&(s+=n.labelXOffset),n.labelYOffset&&!isNaN(n.labelYOffset)&&(l+=n.labelYOffset),null!=s&&null!=l&&t._fillText(e,n.text,s,l,n.textFont,n.textAlign||i,n.textBaseline||a)}}},{key:"modSelf",value:function(){this.__dirty=!0,this.style&&(this.style.__rect=null),this.highlightStyle&&(this.highlightStyle.__rect=null)}},{key:"isSilent",value:function(){return!(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)}},{key:"setCtxGlobalAlpha",value:function(e,t,n){e.globalAlpha="fill"===t?void 0===n.fillOpacity?void 0===n.opacity?1:n.opacity:n.fillOpacity:"stroke"===t?void 0===n.strokeOpacity?void 0===n.opacity?1:n.opacity:n.strokeOpacity:void 0===n.opacity?1:n.opacity}}],[{key:"_fillText",value:function(e,n,r,o,i,a,s){i&&(e.font=i),e.textAlign=a,e.textBaseline=s;var l=t._getTextRect(n,r,o,i,a,s);n=(n+"").split("\n");var u=u5.Util_area.getTextHeight("ZH",i);switch(s){case"top":o=l.y;break;case"bottom":o=l.y+u;break;default:o=l.y+u/2}for(var c=0,f=n.length;c<f;c++)e.fillText(n[c],r,o),o+=u}},{key:"_getTextRect",value:function(e,t,n,r,o,i){var a=u5.Util_area.getTextWidth(e,r),s=u5.Util_area.getTextHeight("ZH",r);switch(e=(e+"").split("\n"),o){case"end":case"right":t-=a;break;case"center":t-=a/2}switch(i){case"top":break;case"bottom":n-=s*e.length;break;default:n-=s*e.length/2}return{x:t,y:n,width:a,height:s*e.length}}}]),t}(rX.mixin(K2,c5)),p5=function(e){function t(e){var n;return ZF(this,t),n=tD(this,iD(t).call(this,e)),n.type="smicpoint",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicPoint",n}return aD(t,e),eD(t,[{key:"destroy",value:function(){this.type=null,rD(iD(t.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition;e.arc(t.x+n[0],t.y+n[1],t.r,0,2*Math.PI,!0)}},{key:"getRect",value:function(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition;if(e.__rect)return e.__rect;var n;return n="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(e.x+t[0]-e.r-n/2),y:Math.round(e.y+t[1]-e.r-n/2),width:2*e.r+n,height:2*e.r+n},e.__rect}}]),t}(f5),h5=function(e){function t(e){var n;return uD(this,t),n=pD(this,vD(t).call(this,e)),n.type="smictext",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicText",n}return mD(t,e),fD(t,[{key:"destroy",value:function(){this.type=null,yD(vD(t.prototype),"destroy",this).call(this)}},{key:"brush",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=this.style;if(t&&(r=this.getHighlightStyle(r,this.highlightStyle||{})),void 0!==r.text&&!1!==r.text){e.save(),this.doClip(e),this.setContext(e,r),this.setTransform(e),r.textFont&&(e.font=r.textFont),e.textAlign=r.textAlign||"start",e.textBaseline=r.textBaseline||"middle";var o,i=(r.text+"").split("\n"),a=u5.Util_area.getTextHeight("ZH",r.textFont),s=this.getRectNoRotation(r),l=r.x+n[0];o="top"==r.textBaseline?s.y:"bottom"==r.textBaseline?s.y+a:s.y+a/2;for(var u=r.x+n[0],c=r.y+n[1],f=0,p=i.length;f<p;f++){switch(r.labelRect&&(e.fillRect(s.x-2,s.y,s.width+4,s.height),e.fillStyle=r.strokeColor,e.strokeRect(s.x-2,s.y,s.width+4,s.height),e.fillStyle=r.textColor),r.brushType){case"stroke":this.setCtxGlobalAlpha(e,"stroke",r),r.textRotation&&0!==r.textRotation?(e.save(),e.translate(u,c),e.rotate(r.textRotation*Math.PI/180),"top"==r.textBaseline?r.maxWidth?e.strokeText(i[f],0,a*f,r.maxWidth):e.strokeText(i[f],0,a*f):"bottom"==r.textBaseline?r.maxWidth?e.strokeText(i[f],0,a*(f+1)-s.height,r.maxWidth):e.strokeText(i[f],0,a*(f+1)-s.height):r.maxWidth?e.strokeText(i[f],0,a*(f+1)-s.height/2-a/2,r.maxWidth):e.strokeText(i[f],0,a*(f+1)-s.height/2-a/2),e.restore()):r.maxWidth?e.strokeText(i[f],l,o,r.maxWidth):e.strokeText(i[f],l,o),this.setCtxGlobalAlpha(e,"reset",r);break;case"both":r.textRotation&&0!==r.textRotation?(e.save(),e.translate(u,c),e.rotate(r.textRotation*Math.PI/180),"top"==r.textBaseline?r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(i[f],0,a*f,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(i[f],0,a*f,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(i[f],0,a*f),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(i[f],0,a*f),this.setCtxGlobalAlpha(e,"reset",r)):"bottom"==r.textBaseline?r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(i[f],0,a*(f+1)-s.height,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(i[f],0,a*(f+1)-s.height,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(i[f],0,a*(f+1)-s.height),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(i[f],0,a*(f+1)-s.height),this.setCtxGlobalAlpha(e,"reset",r)):r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(i[f],0,a*(f+1)-s.height/2-a/2,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(i[f],0,a*(f+1)-s.height/2-a/2,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(i[f],0,a*(f+1)-s.height/2-a/2),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(i[f],0,a*(f+1)-s.height/2-a/2),this.setCtxGlobalAlpha(e,"reset",r)),e.restore()):r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(i[f],l,o,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(i[f],l,o,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(i[f],l,o),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(i[f],l,o),this.setCtxGlobalAlpha(e,"reset",r));break;default:this.setCtxGlobalAlpha(e,"fill",r),r.textRotation&&0!==r.textRotation?(e.save(),e.translate(u,c),e.rotate(r.textRotation*Math.PI/180),"top"==r.textBaseline?r.maxWidth?e.fillText(i[f],0,a*f,r.maxWidth):e.fillText(i[f],0,a*f):"bottom"==r.textBaseline?r.maxWidth?e.fillText(i[f],0,a*(f+1)-s.height,r.maxWidth):e.fillText(i[f],0,a*(f+1)-s.height):r.maxWidth?e.fillText(i[f],0,a*(f+1)-s.height/2-a/2,r.maxWidth):e.fillText(i[f],0,a*(f+1)-s.height/2-a/2),e.restore()):r.maxWidth?e.fillText(i[f],l,o,r.maxWidth):e.fillText(i[f],l,o),this.setCtxGlobalAlpha(e,"reset",r)}o+=a}e.restore()}}},{key:"getRect",value:function(e){if(e.__rect)return e.__rect;for(var t,n,r,o,i=this.getTextBackground(e,!0),a=0,s=i.length;a<s;a++){var l=i[a];0==a?(t=l[0],r=l[0],n=l[1],o=l[1]):(l[0]<t&&(t=l[0]),l[0]>r&&(r=l[0]),l[1]<n&&(n=l[1]),l[1]>o&&(o=l[1]))}return e.__rect={x:t,y:n,width:r-t,height:o-n},e.__rect}},{key:"getRectNoRotation",value:function(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition,n=u5.Util_area.getTextHeight("ZH",e.textFont),r=u5.Util_area.getTextWidth(e.text,e.textFont),o=u5.Util_area.getTextHeight(e.text,e.textFont),i=e.x+t[0];"end"==e.textAlign||"right"==e.textAlign?i-=r:"center"==e.textAlign&&(i-=r/2);var a;a="top"==e.textBaseline?e.y+t[1]:"bottom"==e.textBaseline?e.y+t[1]-o:e.y+t[1]-o/2;var s,l=!1;if(e.maxWidth){var u=parseInt(e.maxWidth);u<r&&(s=r,l=!0,r=u),i=e.x+t[0],"end"==e.textAlign||"right"==e.textAlign?i-=r:"center"==e.textAlign&&(i-=r/2)}if(e.textFont){e.textFont.toLowerCase().indexOf("italic")>-1&&(r+=!0===l?n/3*(r/s):n/3)}return{x:i,y:a,width:r,height:o}}},{key:"getTextBackground",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition;if(!t&&e.__textBackground)return e.__textBackground;var r=this.getRectNoRotation(e),o=e.x+n[0],i=e.y+n[1],a=[];if(e.textRotation&&0!==e.textRotation){var s=e.textRotation,l=this.getRotatedLocation(r.x,r.y,o,i,s),u=this.getRotatedLocation(r.x+r.width,r.y,o,i,s),c=this.getRotatedLocation(r.x+r.width,r.y+r.height,o,i,s),f=this.getRotatedLocation(r.x,r.y+r.height,o,i,s);a.push(l),a.push(u),a.push(c),a.push(f)}else{var p=[r.x,r.y],h=[r.x+r.width,r.y],y=[r.x+r.width,r.y+r.height],d=[r.x,r.y+r.height];a.push(p),a.push(h),a.push(y),a.push(d)}return e.__textBackground=a,e.__textBackground}},{key:"getRotatedLocation",value:function(e,t,n,r,o){var i,a,s=new Array;return t=-t,r=-r,o=-o,i=(e-n)*Math.cos(o/180*Math.PI)-(t-r)*Math.sin(o/180*Math.PI)+n,a=(e-n)*Math.sin(o/180*Math.PI)+(t-r)*Math.cos(o/180*Math.PI)+r,s[0]=i,s[1]=-a,s}}]),t}(f5),y5=function(e){function t(e){var n;return SD(this,t),n=_D(this,ED(t).call(this,e)),n.type="smiccircle",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicCircle",n}return kD(t,e),OD(t,[{key:"destroy",value:function(){this.type=null,CD(ED(t.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.x+n[0],o=t.y+n[1];return e.moveTo(r+t.r,o),e.arc(r,o,t.r,0,2*Math.PI,!0),!0}},{key:"getRect",value:function(e){if(e.__rect)return e.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t,n=this.refOriginalPosition,r=e.x+n[0],o=e.y+n[1],i=e.r;return t="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(r-i-t/2),y:Math.round(o-i-t/2),width:2*i+t,height:2*i+t},e.__rect}}]),t}(f5),d5=function(e){function t(e){var n;return AD(this,t),n=ND(this,DD(t).call(this,e)),n.type="smicpolygon",n.holePolygonPointLists=null,n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicPolygon",n}return GD(t,e),LD(t,[{key:"destroy",value:function(){this.type=null,this.holePolygonPointLists=null,ID(DD(t.prototype),"destroy",this).call(this)}},{key:"brush",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.style;t&&(n=this.getHighlightStyle(n,this.highlightStyle||{})),e.save(),this.setContext(e,n),this.setTransform(e);var r=!1;"fill"!=n.brushType&&"both"!=n.brushType&&void 0!==n.brushType||(e.beginPath(),"dashed"==n.lineType||"dotted"==n.lineType||"dot"==n.lineType||"dash"==n.lineType||"dashdot"==n.lineType||"longdash"==n.lineType||"longdashdot"==n.lineType?this.buildPath(e,{lineType:"solid",lineWidth:n.lineWidth,pointList:n.pointList}):(this.buildPath(e,n),r=!0),e.closePath(),this.setCtxGlobalAlpha(e,"fill",n),e.fill(),this.setCtxGlobalAlpha(e,"reset",n)),n.lineWidth>0&&("stroke"==n.brushType||"both"==n.brushType)&&(r||(e.beginPath(),this.buildPath(e,n)),this.setCtxGlobalAlpha(e,"stroke",n),e.stroke(),this.setCtxGlobalAlpha(e,"reset",n)),this.drawText(e,n,this.style);var o=hK.cloneObject(n);if(o.pointList&&this.holePolygonPointLists&&this.holePolygonPointLists.length>0)for(var i=this.holePolygonPointLists,a=i.length,s=0;s<a;s++){var l=i[s];o.pointList=l,e.globalCompositeOperation="destination-out",r=!1,"fill"!=o.brushType&&"both"!=o.brushType&&void 0!==o.brushType||(e.beginPath(),"dashed"==o.lineType||"dotted"==o.lineType||"dot"==o.lineType||"dash"==o.lineType||"dashdot"==o.lineType||"longdash"==o.lineType||"longdashdot"==o.lineType?this.buildPath(e,{lineType:"solid",lineWidth:o.lineWidth,pointList:o.pointList}):(this.buildPath(e,o),r=!0),e.closePath(),this.setCtxGlobalAlpha(e,"fill",o),e.fill(),this.setCtxGlobalAlpha(e,"reset",o)),o.lineWidth>0&&("stroke"==o.brushType||"both"==o.brushType)?(r||(e.beginPath(),this.buildPath(e,o)),e.globalCompositeOperation="source-over",this.setCtxGlobalAlpha(e,"stroke",o),e.stroke(),this.setCtxGlobalAlpha(e,"reset",o)):e.globalCompositeOperation="source-over"}e.restore()}},{key:"buildPath",value:function(e,t){t.showShadow&&(e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY),this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.pointList;if(!(r.length<2))if(t.smooth&&"spline"!==t.smooth){var o=u5.SUtil_smoothBezier(r,t.smooth,!0,t.smoothConstraint,n);e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var i,a,s,l=r.length,u=0;u<l;u++)i=o[2*u],a=o[2*u+1],s=[r[(u+1)%l][0]+n[0],r[(u+1)%l][1]+n[1]],e.bezierCurveTo(i[0],i[1],a[0],a[1],s[0],s[1])}else if("spline"===t.smooth&&(r=u5.SUtil_smoothSpline(r,!0,null,n)),t.lineType&&"solid"!=t.lineType){if("dashed"===t.lineType||"dotted"===t.lineType||"dot"===t.lineType||"dash"===t.lineType||"longdash"===t.lineType){var c=t._dashLength||(t.lineWidth||1)*("dashed"==t.lineType?5:1);t._dashLength=c;var f=t.lineWidth||1,p=f,h=f;"dashed"===t.lineType&&(p*=5,h*=5,t.lineCap&&"butt"!==t.lineCap&&(p-=f,h+=f)),"dotted"===t.lineType&&t.lineCap&&"butt"!==t.lineCap&&(p=1,h+=f),"dot"===t.lineType&&(h*=4,t.lineCap&&"butt"!==t.lineCap&&(p=1,h+=f)),"dash"===t.lineType&&(p*=4,h*=4,t.lineCap&&"butt"!==t.lineCap&&(p-=f,h+=f)),"longdash"===t.lineType&&(p*=8,h*=4,t.lineCap&&"butt"!==t.lineCap&&(p-=f,h+=f)),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var y=1;y<r.length;y++)u5.SUtil_dashedLineTo(e,r[y-1][0]+n[0],r[y-1][1]+n[1],r[y][0]+n[0],r[y][1]+n[1],f,[p,h]);u5.SUtil_dashedLineTo(e,r[r.length-1][0]+n[0],r[r.length-1][1]+n[1],r[0][0]+n[0],r[0][1]+n[1],f,[p,h])}else if("dashdot"===t.lineType||"longdashdot"===t.lineType){var d=t._dashLength||(t.lineWidth||1)*("dashed"==t.lineType?5:1);t._dashLength=d;var v=t.lineWidth||1,m=v,b=v,g=v,S=v;"dashdot"===t.lineType&&(m*=4,b*=4,S*=4,t.lineCap&&"butt"!==t.lineCap&&(m-=v,b+=v,g=1,S+=v)),"longdashdot"===t.lineType&&(m*=8,b*=4,S*=4,t.lineCap&&"butt"!==t.lineCap&&(m-=v,b+=v,g=1,S+=v)),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var w=1;w<r.length;w++)u5.SUtil_dashedLineTo(e,r[w-1][0]+n[0],r[w-1][1]+n[1],r[w][0]+n[0],r[w][1]+n[1],v,[m,b,g,S]);u5.SUtil_dashedLineTo(e,r[r.length-1][0]+n[0],r[r.length-1][1]+n[1],r[0][0]+n[0],r[0][1]+n[1],v,[m,b,g,S])}}else{e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var O=1;O<r.length;O++)e.lineTo(r[O][0]+n[0],r[O][1]+n[1]);e.lineTo(r[0][0]+n[0],r[0][1]+n[1])}}},{key:"getRect",value:function(e,t){var n;if(t?n=t:(this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]),n=this.refOriginalPosition),e.__rect)return e.__rect;for(var r=Number.MAX_VALUE,o=Number.MIN_VALUE,i=Number.MAX_VALUE,a=Number.MIN_VALUE,s=e.pointList,l=0,u=s.length;l<u;l++)s[l][0]+n[0]<r&&(r=s[l][0]+n[0]),s[l][0]+n[0]>o&&(o=s[l][0]+n[0]),s[l][1]+n[1]<i&&(i=s[l][1]+n[1]),s[l][1]+n[1]>a&&(a=s[l][1]+n[1]);var c;return c="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(r-c/2),y:Math.round(i-c/2),width:o-r+c,height:a-i+c},e.__rect}}]),t}(f5),v5=function(e){function t(e){var n;return HD(this,t),n=VD(this,QD(t).call(this,e)),n.brushTypeOnly="stroke",n.textPosition="end",n.type="smicbroken-line",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicBrokenLine",n}return XD(t,e),zD(t,[{key:"destroy",value:function(){this.brushTypeOnly=null,this.textPosition=null,this.type=null,qD(QD(t.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.pointList;if(!(r.length<2)){var o=Math.min(t.pointList.length,Math.round(t.pointListLength||t.pointList.length));if(t.smooth&&"spline"!==t.smooth){var i=u5.SUtil_smoothBezier(r,t.smooth,!1,t.smoothConstraint,n);e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var a,s,l,u=0;u<o-1;u++)a=i[2*u],s=i[2*u+1],l=[r[u+1][0]+n[0],r[u+1][1]+n[1]],e.bezierCurveTo(a[0],a[1],s[0],s[1],l[0],l[1])}else if("spline"===t.smooth&&(r=u5.SUtil_smoothSpline(r,null,null,n),o=r.length),t.lineType&&"solid"!==t.lineType){if("dashed"===t.lineType||"dotted"===t.lineType||"dot"===t.lineType||"dash"===t.lineType||"longdash"===t.lineType){var c=t.lineWidth||1,f=c,p=c;"dashed"===t.lineType&&(f*=5,p*=5,t.lineCap&&"butt"!==t.lineCap&&(f-=c,p+=c)),"dotted"===t.lineType&&t.lineCap&&"butt"!==t.lineCap&&(f=1,p+=c),"dot"===t.lineType&&(p*=4,t.lineCap&&"butt"!==t.lineCap&&(f=1,p+=c)),"dash"===t.lineType&&(f*=4,p*=4,t.lineCap&&"butt"!==t.lineCap&&(f-=c,p+=c)),"longdash"===t.lineType&&(f*=8,p*=4,t.lineCap&&"butt"!==t.lineCap&&(f-=c,p+=c)),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var h=1;h<o;h++)u5.SUtil_dashedLineTo(e,r[h-1][0]+n[0],r[h-1][1]+n[1],r[h][0]+n[0],r[h][1]+n[1],c,[f,p])}else if("dashdot"===t.lineType||"longdashdot"===t.lineType){var y=t.lineWidth||1,d=y,v=y,m=y,b=y;"dashdot"===t.lineType&&(d*=4,v*=4,b*=4,t.lineCap&&"butt"!==t.lineCap&&(d-=y,v+=y,m=1,b+=y)),"longdashdot"===t.lineType&&(d*=8,v*=4,b*=4,t.lineCap&&"butt"!==t.lineCap&&(d-=y,v+=y,m=1,b+=y)),y=(t.lineWidth||1)*("dashed"===t.lineType?5:1),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var g=1;g<o;g++)u5.SUtil_dashedLineTo(e,r[g-1][0]+n[0],r[g-1][1]+n[1],r[g][0]+n[0],r[g][1]+n[1],y,[d,v,m,b])}}else{e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var S=1;S<o;S++)e.lineTo(r[S][0]+n[0],r[S][1]+n[1])}}}},{key:"getRect",value:function(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition;return d5.prototype.getRect.apply(this,[e,t])}}]),t}(f5),m5=function(e){function t(e){var n;return $D(this,t),n=nG(this,aG(t).call(this,e)),n.type="smicimage",n._imageCache={},n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicImage",n}return sG(t,e),tG(t,[{key:"destroy",value:function(){this.type=null,this._imageCache=null,oG(aG(t.prototype),"destroy",this).call(this)}},{key:"brush",value:function(e,n,r){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var o=this.refOriginalPosition,i=this.style||{};n&&(i=this.getHighlightStyle(i,this.highlightStyle||{}));var a=i.image,s=this;if("string"==typeof a){var l=a;this._imageCache[l]?a=this._imageCache[l]:(a=new Image,a.onload=function(){a.onload=null,clearTimeout(t._refreshTimeout),t._needsRefresh.push(s),t._refreshTimeout=setTimeout(function(){r&&r(t._needsRefresh),t._needsRefresh=[]},10)},a.src=l,this._imageCache[l]=a)}if(a){if("IMG"==a.nodeName.toUpperCase())if(window.ActiveXObject){if("complete"!=a.readyState)return}else if(!a.complete)return;var u=i.width||a.width,c=i.height||a.height,f=i.x+o[0],p=i.y+o[1];if(!a.width||!a.height)return;if(e.save(),this.doClip(e),this.setContext(e,i),this.setTransform(e),i.sWidth&&i.sHeight){var h=i.sx+o[0]||0,y=i.sy+o[1]||0;e.drawImage(a,h,y,i.sWidth,i.sHeight,f,p,u,c)}else if(i.sx&&i.sy){var d=i.sx+o[0],v=i.sy+o[1],m=u-d,b=c-v;e.drawImage(a,d,v,m,b,f,p,u,c)}else e.drawImage(a,f,p,u,c);i.width||(i.width=u),i.height||(i.height=c),this.style.width||(this.style.width=u),this.style.height||(this.style.height=c),this.drawText(e,i,this.style),e.restore()}}},{key:"getRect",value:function(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition;return{x:e.x+t[0],y:e.y+t[1],width:e.width,height:e.height}}},{key:"clearCache",value:function(){this._imageCache={}}}]),t}(f5);m5._needsRefresh=[],m5._refreshTimeout=null;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b5=function(e){function t(e){var n;return cG(this,t),n=hG(this,mG(t).call(this,e)),n.type="smicrectangle",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicRectangle",n}return bG(t,e),pG(t,[{key:"destroy",value:function(){this.type=null,dG(mG(t.prototype),"destroy",this).call(this)}},{key:"_buildRadiusPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n,r,o,i,a=this.refOriginalPosition,s=t.x+a[0],l=t.y+a[1],u=t.width,c=t.height,f=t.radius;"number"==typeof f?n=r=o=i=f:f instanceof Array?1===f.length?n=r=o=i=f[0]:2===f.length?(n=o=f[0],r=i=f[1]):3===f.length?(n=f[0],r=i=f[1],o=f[2]):(n=f[0],r=f[1],o=f[2],i=f[3]):n=r=o=i=0;var p;n+r>u&&(p=n+r,n*=u/p,r*=u/p),o+i>u&&(p=o+i,o*=u/p,i*=u/p),r+o>c&&(p=r+o,r*=c/p,o*=c/p),n+i>c&&(p=n+i,n*=c/p,i*=c/p),e.moveTo(s+n,l),e.lineTo(s+u-r,l),0!==r&&e.quadraticCurveTo(s+u,l,s+u,l+r),e.lineTo(s+u,l+c-o),0!==o&&e.quadraticCurveTo(s+u,l+c,s+u-o,l+c),e.lineTo(s+i,l+c),0!==i&&e.quadraticCurveTo(s,l+c,s,l+c-i),e.lineTo(s,l+n),0!==n&&e.quadraticCurveTo(s,l,s+n,l)}},{key:"buildPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition;t.radius?this._buildRadiusPath(e,t):(e.moveTo(t.x+n[0],t.y+n[1]),e.lineTo(t.x+n[0]+t.width,t.y+n[1]),e.lineTo(t.x+n[0]+t.width,t.y+n[1]+t.height),e.lineTo(t.x+n[0],t.y+n[1]+t.height),e.lineTo(t.x+n[0],t.y+n[1])),e.closePath()}},{key:"getRect",value:function(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition;if(e.__rect)return e.__rect;var n;return n="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(e.x+t[0]-n/2),y:Math.round(e.y+t[1]-n/2),width:e.width+n,height:e.height+n},e.__rect}}]),t}(f5),g5=function(e){function t(e){var n;return wG(this,t),n=PG(this,kG(t).call(this,e)),n.type="smicsector",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicSector",n}return xG(t,e),_G(t,[{key:"destroy",value:function(){this.type=null,TG(kG(t.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.x+n[0],o=t.y+n[1],i=t.r0||0,a=t.r,s=t.startAngle,l=t.endAngle,u=t.clockWise||!1;s=u5.Util_math.degreeToRadian(s),l=u5.Util_math.degreeToRadian(l),u||(s=-s,l=-l);var c=u5.Util_math.cos(s),f=u5.Util_math.sin(s);e.moveTo(c*i+r,f*i+o),e.lineTo(c*a+r,f*a+o),e.arc(r,o,a,s,l,!u),e.lineTo(u5.Util_math.cos(l)*i+r,u5.Util_math.sin(l)*i+o),0!==i&&e.arc(r,o,i,l,s,u),e.closePath()}},{key:"getRect",value:function(e){if(e.__rect)return e.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition,n=u5.Util_vector.create(),r=u5.Util_vector.create(),o=u5.Util_vector.create(),i=u5.Util_vector.create(),a=e.x+t[0],s=e.y+t[1],l=e.r0||0,u=e.r,c=u5.Util_math.degreeToRadian(e.startAngle),f=u5.Util_math.degreeToRadian(e.endAngle),p=e.clockWise;return p||(c=-c,f=-f),l>1?u5.Util_computeBoundingBox.arc(a,s,l,c,f,!p,n,o):(n[0]=o[0]=a,n[1]=o[1]=s),u5.Util_computeBoundingBox.arc(a,s,u,c,f,!p,r,i),u5.Util_vector.min(n,n,r),u5.Util_vector.max(o,o,i),e.__rect={x:n[0],y:n[1],width:o[0]-n[0],height:o[1]-n[1]},e.__rect}}]),t}(f5),S5=function(){function e(t){AG(this,e),this.shapeParameters=t,this.CLASS_NAME="SuperMap.Feature.ShapeFactory"}return LG(e,[{key:"destroy",value:function(){this.shapeParameters=null}},{key:"createShape",value:function(t){if(t&&(this.shapeParameters=t),!this.shapeParameters)return null;var n=this.shapeParameters;if(n instanceof J2){var r=new Object;r.x=n.x,r.y=n.y,r.r=n.r,r=hK.copyAttributesWithClip(r,n.style,["x","y"]);var o=new p5;return o.style=e.transformStyle(r),o.highlightStyle=e.transformStyle(n.highlightStyle),hK.copyAttributesWithClip(o,n,["x","y","style","highlightStyle"]),o}if(n instanceof z2){if(!n.pointList)return null;var i=new Object;i.pointList=n.pointList,i=hK.copyAttributesWithClip(i,n.style,["pointList"]);var a=new v5;return a.style=e.transformStyle(i),a.highlightStyle=e.transformStyle(n.highlightStyle),hK.copyAttributesWithClip(a,n,["pointList","style","highlightStyle"]),a}if(n instanceof V2){if(!n.pointList)return null;var s=new Object;s.pointList=n.pointList,s=hK.copyAttributesWithClip(s,n.style,["pointList"]);var l=new d5;return l.style=e.transformStyle(s),l.highlightStyle=e.transformStyle(n.highlightStyle),hK.copyAttributesWithClip(l,n,["pointList","style","highlightStyle"]),l}if(n instanceof W2){if(!n.x&&!n.y&!n.width&!n.height)return null;var u=new Object;u.x=n.x,u.y=n.y,u.width=n.width,u.height=n.height,u=hK.copyAttributesWithClip(u,n.style,["x","y","width","height"]);var c=new b5;return c.style=e.transformStyle(u),c.highlightStyle=e.transformStyle(n.highlightStyle),hK.copyAttributesWithClip(c,n,["x","y","width","height","style","highlightStyle"]),c}if(n instanceof q2){var f=new Object;f.x=n.x,f.y=n.y,f.r=n.r,f.startAngle=n.startAngle,f.endAngle=n.endAngle,n.r0&&(f.r0=n.r0),n.clockWise&&(f.clockWise=n.clockWise),f=hK.copyAttributesWithClip(f,n.style,["x","y","r","startAngle","endAngle","r0","endAngle"]);var p=new g5;return p.style=e.transformStyle(f),p.highlightStyle=e.transformStyle(n.highlightStyle),hK.copyAttributesWithClip(p,n,["x","y","r","startAngle","endAngle","r0","endAngle","style","highlightStyle"]),p}if(n instanceof Y2){var h=new Object;h.x=n.x,h.y=n.y,h.text=n.text,h=hK.copyAttributesWithClip(h,n.style,["x","y","text"]);var y=new h5;return y.style=e.transformStyle(h),y.highlightStyle=e.transformStyle(n.highlightStyle),hK.copyAttributesWithClip(y,n,["x","y","text","style","highlightStyle"]),y}if(n instanceof Q2){var d=new Object;d.x=n.x,d.y=n.y,n.image&&(d.image=n.image),n.width&&(d.width=n.width),n.height&&(d.height=n.height),n.sx&&(d.sx=n.sx),n.sy&&(d.sy=n.sy),n.sWidth&&(d.sWidth=n.sWidth),n.sHeight&&(d.sHeight=n.sHeight),d=hK.copyAttributesWithClip(d,n.style,["x","y","image","width","height","sx","sy","sWidth","sHeight"]);var v=new m5;return v.style=e.transformStyle(d),v.highlightStyle=e.transformStyle(n.highlightStyle),hK.copyAttributesWithClip(v,n,["x","y","image","width","height","style","highlightStyle"]),v}if(n instanceof X2){var m=new Object;m.x=n.x,m.r=n.r,m.y=n.y,m=hK.copyAttributesWithClip(m,n.style,["x","y","r"]);var b=new y5;return b.style=e.transformStyle(m),b.highlightStyle=e.transformStyle(n.highlightStyle),hK.copyAttributesWithClip(b,n,["x","y","r","style","highlightStyle","lineWidth","text","textPosition"]),b}return null}}],[{key:"transformStyle",value:function(e){var t={},n=["normal","normal","normal","12","arial,sans-serif"],r=[!0,!1];for(var o in e)switch(o){case"fill":r[0]=e[o];break;case"fillColor":t.color=e[o];break;case"stroke":r[1]=e[o];break;case"strokeWidth":t.lineWidth=e[o];break;case"strokeLinecap":t.lineCap=e[o];break;case"strokeLineJoin":t.lineJoin=e[o];break;case"strokeDashstyle":t.lineType=e[o];break;case"pointRadius":t.r=e[o];break;case"label":t.text=e[o];break;case"labelRect":t.labelRect=e[o];break;case"fontColor":t.textColor=e[o];break;case"fontStyle":n[0]=e[o];break;case"fontVariant":n[1]=e[o];break;case"fontWeight":n[2]=e[o];break;case"fontSize":var i="";e[o]&&e[o].toString().indexOf("px")<0&&(i="px"),n[3]=e[o]+i;break;case"fontFamily":n[4]=e[o];break;case"fontOpacity":t.opacity=e[o];break;case"labelPosition":t.textPosition=e[o];break;case"labelAlign":t.textAlign=e[o];break;case"labelBaseline":t.textBaseline=e[o];break;case"labelRotation":t.textRotation=e[o];break;default:t[o]=e[o]}return t.textFont=n.join(" "),!0===r[0]&&!1===r[1]?t.brushType="fill":!1===r[0]&&!0===r[1]?t.brushType="stroke":!0===r[0]&&!0===r[1]?t.brushType="both":t.brushType="fill",null==t.lineWidth&&(t.lineWidth=1),t}},{key:"Background",value:function(e,t,n){var r=n||{},o=new W2(t[0],t[3],Math.abs(t[2]-t[0]),Math.abs(t[3]-t[1]));return o.style={fillColor:"#f3f3f3"},r.backgroundStyle&&hK.copyAttributesWithClip(o.style,r.backgroundStyle),r.backgroundRadius&&(o.style.radius=r.backgroundRadius),o.clickable=!1,o.hoverable=!1,e.createShape(o)}},{key:"GraphAxis",value:function(e,t,n,r){var o=t,i=n||{},a=[],s=[],l=!!i.useXReferenceLine&&i.useXReferenceLine,u=i.axisYTick&&!isNaN(i.axisYTick)?i.axisYTick:0,c=[],f=[],p=[];if(0==u){if(p.push([o[0],o[3]-5]),p.push([o[0],o[1]]),i.axis3DParameter&&!isNaN(i.axis3DParameter)&&i.axis3DParameter>=15){var h=parseInt(i.axis3DParameter),y=[o[0]-h,o[1]+h];i.axisUseArrow?(f.push([y[0]+1.5,y[1]-7.5]),f.push([y[0]-1,y[1]+1]),f.push([y[0]+7.5,y[1]-1.5]),p.push([y[0],y[1]])):p.push([y[0],y[1]]),p.push([o[0],o[1]])}p.push([o[2]+5,o[1]])}else{var d=Math.abs(o[1]-o[3])/u,v=o[3];p.push([o[0],v-5]);for(var m=0;m<u;m++){if(p.push([o[0],v]),p.push([o[0]-5,v]),p.push([o[0],v]),l){var b=new z2([[o[0],v],[o[2],v]]);b.style={strokeColor:"#cfcfcf",strokeLinecap:"butt",strokeLineJoin:"round",strokeWidth:1},b.clickable=!1,b.hoverable=!1,i.xReferenceLineStyle&&hK.copyAttributesWithClip(b.style,i.xReferenceLineStyle),a.push(e.createShape(b))}v+=d}if(p.push([o[0],o[1]]),i.axis3DParameter&&!isNaN(i.axis3DParameter)&&i.axis3DParameter>=15){var g=parseInt(i.axis3DParameter),S=[o[0]-g,o[1]+g];i.axisUseArrow?(f.push([S[0]+1.5,S[1]-7.5]),f.push([S[0]-1,S[1]+1]),f.push([S[0]+7.5,S[1]-1.5]),p.push([S[0],S[1]])):p.push([S[0],S[1]]),p.push([o[0],o[1]])}p.push([o[2]+5,o[1]])}if(i.axisUseArrow){var w=[[o[2]+5,o[1]+4],[o[2]+13,o[1]],[o[2]+5,o[1]-4]],O=[[o[0]-4,o[3]-5],[o[0],o[3]-13],[o[0]+4,o[3]-5]],_=new V2(w);_.style={fillColor:"#008acd"},hK.copyAttributesWithClip(_.style,i.axisStyle),s.push(e.createShape(_));var P=new V2(O);if(P.style={fillColor:"#008acd"},hK.copyAttributesWithClip(P.style,i.axisStyle),s.push(e.createShape(P)),i.axis3DParameter&&!isNaN(i.axis3DParameter)&&i.axis3DParameter>=15){var C=new V2(f);C.style={fillColor:"#008acd"},hK.copyAttributesWithClip(C.style,i.axisStyle),s.push(e.createShape(C))}}c=p;var T=new z2(c);T.style={strokeLinecap:"butt",strokeLineJoin:"round",strokeColor:"#008acd",strokeWidth:1},i.axisStyle&&hK.copyAttributesWithClip(T.style,i.axisStyle),T.clickable=!1,T.hoverable=!1;var E=[e.createShape(T)],k=[];if(i.axisYLabels&&i.axisYLabels.length&&i.axisYLabels.length>0){var x=i.axisYLabels,j=x.length,A=[0,0];if(i.axisYLabelsOffset&&i.axisYLabelsOffset.length&&(A=i.axisYLabelsOffset),1==j){var R=new Y2(o[0]-5+A[0],o[3]+A[1],x[0]);R.style={labelAlign:"right"},i.axisYLabelsStyle&&hK.copyAttributesWithClip(R.style,i.axisYLabelsStyle),R.clickable=!1,R.hoverable=!1,k.push(e.createShape(R))}else for(var L=o[3],N=Math.abs(o[1]-o[3])/(j-1),M=0;M<j;M++){var I=new Y2(o[0]-5+A[0],L+A[1],x[M]);I.style={labelAlign:"right"},i.axisYLabelsStyle&&hK.copyAttributesWithClip(I.style,i.axisYLabelsStyle),I.clickable=!1,I.hoverable=!1,k.push(e.createShape(I)),L+=N}}var F=[];if(i.axisXLabels&&i.axisXLabels.length&&i.axisXLabels.length>0){var D=i.axisXLabels,G=D.length,B=[0,0];if(i.axisXLabelsOffset&&i.axisXLabelsOffset.length&&(B=i.axisXLabelsOffset),r&&r.xPositions&&r.xPositions.length&&r.xPositions.length==G)for(var U=r.xPositions,H=0;H<G;H++){var J=new Y2(U[H]+B[0],o[1]+B[1],D[H]);J.style={labelAlign:"center",labelBaseline:"top"},i.axisXLabelsStyle&&hK.copyAttributesWithClip(J.style,i.axisXLabelsStyle),J.clickable=!1,J.hoverable=!1,F.push(e.createShape(J))}else if(1==G){var z=new Y2(o[0]-5+B[0],o[1]+B[0],D[0]);z.style={labelAlign:"center",labelBaseline:"top"},i.axisXLabelsStyle&&hK.copyAttributesWithClip(z.style,i.axisXLabelsStyle),z.clickable=!1,z.hoverable=!1,F.push(e.createShape(z))}else for(var V=o[0],W=Math.abs(o[2]-o[0])/(G-1),q=0;q<G;q++){var Y=new Y2(V+B[0],o[1]+B[1],D[q]);Y.style={labelAlign:"center",labelBaseline:"top"},i.axisXLabelsStyle&&hK.copyAttributesWithClip(Y.style,i.axisXLabelsStyle),Y.clickable=!1,Y.hoverable=!1,F.push(e.createShape(Y)),V+=W}}return a.concat(E).concat(k).concat(F).concat(s)}},{key:"ShapeStyleTool",value:function(e,t,n,r,o,i){var a=e||{};if(t&&hK.copyAttributesWithClip(a,t),n&&n.length&&void 0!==o&&!isNaN(o)&&o>=0&&n[o]&&hK.copyAttributesWithClip(a,n[o]),r&&r.length&&void 0!==i)for(var s=r,l=s.length,u=parseFloat(i),c=0;c<l;c++)if(s[c].start<=u&&u<s[c].end){hK.copyAttributesWithClip(a,s[c].style);break}return a}}]),e}();rX.Feature=rX.Feature||{},rX.Feature.ShapeFactory=S5;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var w5=function(){function e(t,n){NG(this,e),t&&n&&n.map&&n.renderer&&(this.id=hK.createUniqueID(this.CLASS_NAME+"_"),this.lonlat=null,this.location=[],this.data=t,this.shapes=[],this.layer=n,this.CLASS_NAME="SuperMap.Feature.Theme")}return IG(e,[{key:"destroy",value:function(){this.data=null,this.id=null,this.lonlat=null,this.location=null,this.shapes=null,this.layer=null}},{key:"getLocalXY",value:function(e){var t=this.layer.map.getResolution(),n=this.layer.map.getExtent();if(e instanceof SK||e instanceof OK){return[e.x/t+-n.left/t,n.top/t-e.y/t]}if(e instanceof yK){return[e.lon/t+-n.left/t,n.top/t-e.lat/t]}return null}}]),e}();rX.Feature=rX.Feature||{},rX.Feature.Theme=w5;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var O5=function(e){function t(e,n,r,o,i,a){var s;return DG(this,t),s=UG(this,VG(t).call(this,e,n,r,o,i,a)),s.shapeFactory=new S5,s.shapeParameters=null,s.RelativeCoordinate=!1,s.setting=null,s.origonPoint=null,s.chartBox=null,s.chartBounds=null,s.width=null,s.height=null,s.XOffset=0,s.YOffset=0,s.DVBParameter=null,s.dataViewBox=null,s.DVBCodomain=null,s.DVBCenterPoint=null,s.DVBUnitValue=null,s.DVBOrigonPoint=null,s.DVBWidth=null,s.DVBHeight=null,s.origonPointOffset=null,s.fields=r||[],s.dataValues=null,s.lonlat=i||s.data.geometry.getBounds().getCenterLonLat(),o&&o.width&&o.height&&o.codomain&&(s.setting=o),s.CLASS_NAME="SuperMap.Feature.Theme.Graph",s}return WG(t,e),BG(t,[{key:"destroy",value:function(){this.shapeFactory=null,this.shapeParameters=null,this.width=null,this.height=null,this.origonPoint=null,this.chartBox=null,this.dataViewBox=null,this.chartBounds=null,this.DVBParameter=null,this.DVBOrigonPoint=null,this.DVBCenterPoint=null,this.DVBWidth=null,this.DVBHeight=null,this.DVBCodomain=null,this.DVBUnitValue=null,this.origonPointOffset=null,this.XOffset=null,this.YOffset=null,this.fields=null,this.dataValues=null,this.setting=null,JG(VG(t.prototype),"destroy",this).call(this)}},{key:"initBaseParameter",value:function(){if(!this.setting)return!1;var e=this.setting;if(!(e.width&&e.height&&e.codomain))return!1;var t=void 0===e.decimalNumber||isNaN(e.decimalNumber)?-1:e.decimalNumber,n=w5.getDataValues(this.data,this.fields,t);this.dataValues=n||[],this.width=parseFloat(e.width),this.height=parseFloat(e.height),this.DVBCodomain=e.codomain,this.XOffset=e.XOffset?e.XOffset:0,this.YOffset=e.YOffset?e.YOffset:0,this.origonPoint=[],this.chartBox=[],this.dataViewBox=[],this.DVBParameter=e.dataViewBoxParameter?e.dataViewBoxParameter:[0,0,0,0],this.DVBOrigonPoint=[],this.DVBCenterPoint=[],this.origonPointOffset=[],this.resetLocation();var r=this.width,o=this.height,i=this.location;this.origonPoint=[i[0]-r/2,i[1]-o/2];var a=this.origonPoint;this.chartBox=[a[0],a[1]+o,a[0]+r,a[1]];var s=this.chartBox,l=this.DVBParameter;this.dataViewBox=[s[0]+l[0],s[1]-l[1],s[2]-l[2],s[3]+l[3]];var u=this.dataViewBox;return!(u[0]>=u[2]||u[1]<=u[3])&&(this.DVBOrigonPoint=[u[0],u[3]],this.DVBWidth=Math.abs(u[2]-u[0]),this.DVBHeight=Math.abs(u[1]-u[3]),this.DVBCenterPoint=[this.DVBOrigonPoint[0]+this.DVBWidth/2,this.DVBOrigonPoint[1]+this.DVBHeight/2],this.origonPointOffset=[this.DVBOrigonPoint[0]-a[0],this.DVBOrigonPoint[1]-a[1]],!0)}},{key:"resetLocation",value:function(e){e&&(this.lonlat=e);var t=this.getLocalXY(this.lonlat);t[0]+=this.XOffset,t[1]+=this.YOffset,this.location=t;var n=this.width,r=this.height,o=this.location;return this.chartBounds=new dK(o[0]-n/2,o[1]+r/2,o[0]+n/2,o[1]-r/2),this.resetLinearGradient(),o}},{key:"resetLinearGradient",value:function(){}},{key:"shapesConvertToRelativeCoordinate",value:function(){for(var e=this.shapes,t=this.location,n=0,r=e.length;n<r;n++){e[n].refOriginalPosition=t;var o=e[n].style;for(var i in o)switch(i){case"pointList":for(var a=o[i],s=0,l=a.length;s<l;s++)a[s][0]-=t[0],a[s][1]-=t[1];break;case"x":o[i]-=t[0];break;case"y":o[i]-=t[1]}}this.RelativeCoordinate=!0}},{key:"assembleShapes",value:function(){}},{key:"getLocalXY",value:function(e){return this.layer.getLocalXY(e)}}]),t}(w5);w5.getDataValues=function(e,t,n){if(!e.attributes)return!1;for(var r=[],o=e.attributes,i=0;i<t.length;i++)for(var a in o)if(a===t[i])try{!isNaN(n)&&n>=0?r.push(parseFloat(o[a].toString()).toFixed(n)):r.push(parseFloat(o[a].toString()))}catch(e){throw new Error("not a number")}return r.length===t.length&&r},rX.Feature.Theme.Graph=O5;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _5=function(e){function t(e,n,r,o,i){var a;return QG(this,t),a=ZG(this,nB(t).call(this,e,n,r,o,i)),a.CLASS_NAME="SuperMap.Feature.Theme.Bar",a}return rB(t,e),KG(t,[{key:"destroy",value:function(){eB(nB(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var e=[["#00FF00","#00CD00"],["#00CCFF","#5E87A2"],["#00FF66","#669985"],["#CCFF00","#94A25E"],["#FF9900","#A2945E"]],t={showShadow:!0,shadowBlur:8,shadowColor:"rgba(100,100,100,0.8)",shadowOffsetX:2,shadowOffsetY:2},n=this.setting;if(n.barLinearGradient||(n.barLinearGradient=e),n.dataViewBoxParameter||(void 0===n.useAxis||n.useAxis?n.dataViewBoxParameter=[45,15,15,15]:n.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var r=this.DVBCodomain;this.DVBUnitValue=(r[1]-r[0])/this.DVBHeight;var o=this.dataViewBox,i=this.dataValues;if(!(i.length<1)){for(var a=0,s=i.length;a<s;a++)if(i[a]<r[0]||i[a]>r[1])return;var l=this.calculateXShapeInfo();if(l){var u=l.xPositions,c=l.width;(void 0===n.useBackground||n.useBackground)&&this.shapes.push(S5.Background(this.shapeFactory,this.chartBox,n)),(void 0===n.useAxis||n.useAxis)&&(this.shapes=this.shapes.concat(S5.GraphAxis(this.shapeFactory,o,n,l)));for(var f=0;f<i.length;f++){var p=o[1]-(i[f]-r[0])/this.DVBUnitValue,h=[[u[f]-c/2,o[1]-1],[u[f]+c/2,o[1]-1],[u[f]+c/2,p],[u[f]-c/2,p]],y=new V2(h);if(void 0===n.showShadow||n.showShadow){if(n.barShadowStyle){var d=n.barShadowStyle;d.shadowBlur&&(t.shadowBlur=d.shadowBlur),d.shadowColor&&(t.shadowColor=d.shadowColor),d.shadowOffsetX&&(t.shadowOffsetX=d.shadowOffsetX),d.shadowOffsetY&&(t.shadowOffsetY=d.shadowOffsetY)}y.style={},hK.copyAttributesWithClip(y.style,t)}y.refDataID=this.data.id,y.dataInfo={field:this.fields[f],value:i[f]},void 0!==n.barHoverAble&&(y.hoverable=n.barHoverAble),void 0!==n.barClickAble&&(y.clickable=n.barClickAble),this.shapes.push(this.shapeFactory.createShape(y))}this.shapesConvertToRelativeCoordinate()}}}}},{key:"calculateXShapeInfo",value:function(){var e=this.dataViewBox,t=this.setting,n=this.dataValues.length;if(n<1)return null;var r,o=[],i=0,a=this.DVBWidth;if(t.xShapeBlank&&t.xShapeBlank.length&&3==t.xShapeBlank.length){r=t.xShapeBlank;var s=a-(r[0]+r[2]+(n-1)*r[1]);if(s<=n)return null;i=s/n}else i=a/(2*n+1),r=[i,i,i];for(var l=0,u=0;u<n;u++)0==u?l=r[0]+i/2:l+=i+r[1],o.push(e[0]+l);return{xPositions:o,width:i}}},{key:"resetLinearGradient",value:function(){if(this.RelativeCoordinate)for(var e=this.shapes.length,t=this.setting.barLinearGradient,n=-1,r=0;r<e;r++){var o=this.shapes[r];if("SuperMap.LevelRenderer.Shape.SmicPolygon"===o.CLASS_NAME){var i=o.style,a=this.location[0]+i.pointList[0][0],s=this.location[0]+i.pointList[1][0];n++,n>=t.length&&(n%=t.length);var l=t[n][0],u=t[n][1],c=new N2,f=c.getLinearGradient(a,0,s,0,[[0,l],[1,u]]);o.style.color=f}}}}]),t}(O5);rX.Feature.Theme.Bar=_5;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P5=function(e){function t(e,n,r,o,i){var a;return aB(this,t),a=uB(this,hB(t).call(this,e,n,r,o,i)),a.CLASS_NAME="SuperMap.Feature.Theme.Bar3D",a}return yB(t,e),lB(t,[{key:"destroy",value:function(){fB(hB(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var e=this.setting;if(e.dataViewBoxParameter||(void 0===e.useAxis||e.useAxis?e.dataViewBoxParameter=[45,25,20,20]:e.dataViewBoxParameter=[5,5,5,5]),e.axisUseArrow=void 0===e.axisUseArrow||e.axisUseArrow,e.axisXLabelsOffset=void 0!==e.axisXLabelsOffset?e.axisXLabelsOffset:[-10,10],this.initBaseParameter()){var t=this.DVBCodomain;this.DVBUnitValue=(t[1]-t[0])/this.DVBHeight;var n=this.dataViewBox,r=this.dataValues;if(!(r.length<1)){for(var o=0,i=r.length;o<i;o++)if(r[o]<t[0]||r[o]>t[1])return;var a=this.calculateXShapeInfo();if(a){var s=a.xPositions,l=a.width;(void 0===e.useBackground||e.useBackground)&&this.shapes.push(S5.Background(this.shapeFactory,this.chartBox,e)),(!e.axis3DParameter||isNaN(e.axis3DParameter)||e.axis3DParameter<15)&&(e.axis3DParameter=20),(void 0===e.useAxis||e.useAxis)&&(this.shapes=this.shapes.concat(S5.GraphAxis(this.shapeFactory,n,e,a)));for(var u=e.bar3DParameter&&!isNaN(e.bar3DParameter)?e.bar3DParameter:10,c=0;c<r.length;c++){var f=n[1]-(r[c]-t[0])/this.DVBUnitValue,p=s[c]-l/2,h=s[c]+l/2,y=[[p,f],[h,f],[h-u,f+u],[p-u,f+u]],d=[[h,f],[h-u,f+u],[h-u,n[1]+u],[h,n[1]]],v=[[p-u,n[1]+u],[h-u,n[1]+u],[h-u,f+u],[p-u,f+u]];u<=0&&(v=[[p,n[1]],[h,n[1]],[h,f],[p,f]]);var m=new V2(y),b=new V2(d),g=new V2(v);e.barSideStyle=e.barSideStyle?e.barSideStyle:e.barFaceStyle,e.barSideStyleByFields=e.barSideStyleByFields?e.barSideStyleByFields:e.barFaceStyleByFields,e.barSideStyleByCodomain=e.barSideStyleByCodomain?e.barSideStyleByCodomain:e.barFaceStyleByCodomain,e.barTopStyle=e.barTopStyle?e.barTopStyle:e.barFaceStyle,e.barTopStyleByFields=e.barTopStyleByFields?e.barTopStyleByFields:e.barFaceStyleByFields,e.barTopStyleByCodomain=e.barTopStyleByCodomain?e.barTopStyleByCodomain:e.barFaceStyleByCodomain,g.style=S5.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},e.barFaceStyle,e.barFaceStyleByFields,e.barFaceStyleByCodomain,c,r[c]),b.style=S5.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},e.barSideStyle,e.barSideStyleByFields,e.barSideStyleByCodomain,c,r[c]),m.style=S5.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},e.barTopStyle,e.barTopStyleByFields,e.barTopStyleByCodomain,c,r[c]),e.barSideHoverStyle=e.barSideHoverStyle?e.barSideHoverStyle:e.barFaceHoverStyle,e.barTopHoverStyle=e.barTopHoverStyle?e.barTopHoverStyle:e.barFaceHoverStyle,g.highlightStyle=S5.ShapeStyleTool({stroke:!0},e.barFaceHoverStyle),b.highlightStyle=S5.ShapeStyleTool({stroke:!0},e.barSideHoverStyle),m.highlightStyle=S5.ShapeStyleTool({stroke:!0},e.barTopHoverStyle),m.refDataID=b.refDataID=g.refDataID=this.data.id,m.isHoverByRefDataID=b.isHoverByRefDataID=g.isHoverByRefDataID=!0,m.refDataHoverGroup=b.refDataHoverGroup=g.refDataHoverGroup=hK.createUniqueID("lr_shg"),m.dataInfo=b.dataInfo=g.dataInfo={field:this.fields[c],value:r[c]},void 0!==e.barHoverAble&&(m.hoverable=b.hoverable=g.hoverable=e.barHoverAble),void 0!==e.barClickAble&&(m.clickable=b.clickable=g.clickable=e.barClickAble),this.shapes.push(this.shapeFactory.createShape(b)),this.shapes.push(this.shapeFactory.createShape(m)),this.shapes.push(this.shapeFactory.createShape(g))}this.shapesConvertToRelativeCoordinate()}}}}},{key:"calculateXShapeInfo",value:function(){var e=this.dataViewBox,t=this.setting,n=this.dataValues.length;if(n<1)return null;var r,o=[],i=0,a=this.DVBWidth;if(t.xShapeBlank&&t.xShapeBlank.length&&3==t.xShapeBlank.length){r=t.xShapeBlank;var s=a-(r[0]+r[2]+(n-1)*r[1]);if(s<=n)return null;i=s/n}else i=a/(2*n+1),r=[i,i,i];for(var l=0,u=0;u<n;u++)0==u?l=r[0]+i/2:l+=i+r[1],o.push(e[0]+l);return{xPositions:o,width:i}}}]),t}(O5);rX.Feature.Theme.Bar3D=P5;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var C5=function(e){function t(e,n,r,o,i,a){var s;return mB(this,t),s=SB(this,PB(t).call(this,e,n,r,o,i,a)),s.setting=null,o&&o.codomain&&(s.setting=o,s.DVBCodomain=s.setting.codomain),s.CLASS_NAME="SuperMap.Feature.Theme.RankSymbol",s}return CB(t,e),gB(t,[{key:"destroy",value:function(){this.setting=null,OB(PB(t.prototype),"destroy",this).call(this)}},{key:"initBaseParameter",value:function(){if(!this.setting)return!1;var e=this.setting;e.XOffset&&(this.XOffset=e.XOffset),e.YOffset&&(this.YOffset=e.YOffset),this.XOffset=e.XOffset?e.XOffset:0,this.YOffset=e.YOffset?e.YOffset:0,this.origonPoint=[],this.chartBox=[],this.dataViewBox=[],this.DVBParameter=e.dataViewBoxParameter?e.dataViewBoxParameter:[0,0,0,0],this.DVBOrigonPoint=[],this.DVBCenterPoint=[],this.origonPointOffset=[],this.resetLocation();var t=this.width,n=this.height,r=this.location;this.origonPoint=[r[0]-t/2,r[1]-n/2];var o=this.origonPoint;this.chartBox=[o[0],o[1]+n,o[0]+t,o[1]];var i=this.chartBox,a=this.DVBParameter;this.dataViewBox=[i[0]+a[0],i[1]-a[1],i[2]-a[2],i[3]+a[3]];var s=this.dataViewBox;return!(s[0]>=s[2]||s[1]<=s[3])&&(this.DVBOrigonPoint=[s[0],s[3]],this.DVBWidth=Math.abs(s[2]-s[0]),this.DVBHeight=Math.abs(s[1]-s[3]),this.DVBCenterPoint=[this.DVBOrigonPoint[0]+this.DVBWidth/2,this.DVBOrigonPoint[1]+this.DVBHeight/2],this.origonPointOffset=[this.DVBOrigonPoint[0]-o[0],this.DVBOrigonPoint[1]-o[1]],!0)}}]),t}(O5);rX.Feature.Theme.RankSymbol=C5;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var T5=function(e){function t(e,n,r,o,i){var a;return kB(this,t),a=AB(this,MB(t).call(this,e,n,r,o,i)),a.CLASS_NAME="SuperMap.Feature.Theme.Circle",a}return IB(t,e),jB(t,[{key:"destroy",value:function(){LB(MB(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){if(!this.setting)return!1;var e=this.setting;if(!e.codomain)return!1;var t=void 0===e.decimalNumber||isNaN(e.decimalNumber)?-1:e.decimalNumber,n=w5.getDataValues(this.data,this.fields,t);this.dataValues=n||[];var r=this.dataValues;e.maxR||(e.maxR=100),e.minR||(e.minR=0);var o=this.DVBCodomain;o&&o[1]-o[0]>0?this.DVBUnitValue=e.maxR/(o[1]-o[0]):this.DVBUnitValue=e.maxR;var i=this.DVBUnitValue,a=r[0]*i+e.minR;if(this.width=2*a,this.height=2*a,this.initBaseParameter()&&(!o||!(r[0]<o[0]||r[0]>o[1]))){var s=this.DVBCenterPoint,l=new X2(s[0],s[1],a);l.style=S5.ShapeStyleTool(null,e.circleStyle,null,null,0),void 0!==e.fillColor?l.style.fillColor=e.fillColor:l.style.fillColor="#ff9277",l.highlightStyle=S5.ShapeStyleTool(null,e.circleHoverStyle),void 0!==e.circleHoverAble&&(l.hoverable=e.circleHoverAble),void 0!==e.circleClickAble&&(l.clickable=e.circleClickAble),l.refDataID=this.data.id,l.dataInfo={field:this.fields[0],r:a,value:r[0]},this.shapes.push(this.shapeFactory.createShape(l)),this.shapesConvertToRelativeCoordinate()}}}]),t}(C5);rX.Feature.Theme.Circle=T5;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var E5=function(e){function t(e,n,r,o,i,a){var s;return GB(this,t),s=HB(this,WB(t).call(this,e,n,r,o,i,a)),s.CLASS_NAME="SuperMap.Feature.Theme.Line",s}return qB(t,e),UB(t,[{key:"destroy",value:function(){zB(WB(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var e=this.setting;if(e.dataViewBoxParameter||(void 0===e.useAxis||e.useAxis?e.dataViewBoxParameter=[45,15,15,15]:e.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var t=this.dataViewBox,n=this.DVBCodomain;this.DVBUnitValue=(n[1]-n[0])/this.DVBHeight;var r=this.DVBUnitValue,o=this.dataValues;if(!(o.length<1)){var i=this.calculateXShapeInfo();if(i){var a=i.xPositions;(void 0===e.useBackground||e.useBackground)&&this.shapes.push(S5.Background(this.shapeFactory,this.chartBox,e)),this.shapes=this.shapes.concat(S5.GraphAxis(this.shapeFactory,t,e,i));for(var s,l,u=[],c=[],f=0,p=o.length;f<p;f++){if(o[f]<n[0]||o[f]>n[1])return null;s=a[f],l=t[1]-(o[f]-n[0])/r;var h=new J2(s,l);h.style=S5.ShapeStyleTool({fillColor:"#ee9900"},e.pointStyle,e.pointStyleByFields,e.pointStyleByCodomain,f,o[f]),h.highlightStyle=S5.ShapeStyleTool(null,e.pointHoverStyle),void 0!==e.pointHoverAble&&(h.hoverable=e.pointHoverAble),void 0!==e.pointClickAble&&(h.clickable=e.pointClickAble),h.refDataID=this.data.id,h.dataInfo={field:this.fields[f],value:o[f]},c.push(this.shapeFactory.createShape(h));var y=[s,l];u.push(y)}var d=new z2(u);d.style=S5.ShapeStyleTool({strokeColor:"#ee9900"},e.lineStyle),d.clickable=!1,d.hoverable=!1;var v=this.shapeFactory.createShape(d);this.shapes.push(v),this.shapes=this.shapes.concat(c),this.shapesConvertToRelativeCoordinate()}}}}},{key:"calculateXShapeInfo",value:function(){var e=this.dataViewBox,t=this.setting,n=this.dataValues.length;if(n<1)return null;var r,o=[],i=this.DVBWidth,a=0;if(t.xShapeBlank&&t.xShapeBlank.length&&2==t.xShapeBlank.length){r=t.xShapeBlank;var s=i-(r[0]+r[1]);if(s<=n)return null;a=s/(n-1)}else a=i/(n+1),r=[a,a,a];for(var l=0,u=0;u<n;u++)0==u?l=r[0]:l+=a,o.push(e[0]+l);return{xPositions:o,width:0}}}]),t}(O5);rX.Feature.Theme.Line=E5;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var k5=function(e){function t(e,n,r,o,i){var a;return XB(this,t),a=$B(this,rU(t).call(this,e,n,r,o,i)),a.CLASS_NAME="SuperMap.Feature.Theme.Pie",a}return oU(t,e),ZB(t,[{key:"destroy",value:function(){tU(rU(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var e=this.setting,t=[{fillColor:"#ff9277"},{fillColor:"#dddd00"},{fillColor:"#ffc877"},{fillColor:"#bbe3ff"},{fillColor:"#d5ffbb"},{fillColor:"#bbbbff"},{fillColor:"#ddb000"},{fillColor:"#b0dd00"},{fillColor:"#e2bbff"},{fillColor:"#ffbbe3"},{fillColor:"#ff7777"},{fillColor:"#ff9900"},{fillColor:"#83dd00"},{fillColor:"#77e3ff"},{fillColor:"#778fff"},{fillColor:"#c877ff"},{fillColor:"#ff77ab"},{fillColor:"#ff6600"},{fillColor:"#aa8800"},{fillColor:"#77c7ff"},{fillColor:"#ad77ff"},{fillColor:"#ff77ff"},{fillColor:"#dd0083"},{fillColor:"#777700"},{fillColor:"#00aa00"},{fillColor:"#0088aa"},{fillColor:"#8400dd"},{fillColor:"#aa0088"},{fillColor:"#dd0000"},{fillColor:"#772e00"}];if(this.initBaseParameter()){e.useBackground&&this.shapes.push(S5.Background(this.shapeFactory,this.chartBox,e));var n=this.dataValues;if(!(n.length<1)){for(var r=this.DVBCodomain,o=0;o<n.length;o++)if(n[o]<r[0]||n[o]>r[1])return;for(var i=0,a=0;a<n.length;a++)i+=Math.abs(n[a]);this.DVBUnitValue=360/i;for(var s=this.DVBUnitValue,l=this.DVBCenterPoint,u=0,c=0,f=u,p=this.DVBHeight<this.DVBWidth?this.DVBHeight/2:this.DVBWidth/2,h=0;h<n.length;h++){var y=Math.abs(n[h]);c=0===h?u+y*s:h===y.length-1?f:u+y*s,c-u>=360&&(c=359.9999999);var d=new q2(l[0],l[1],p,u,c);if(void 0===e.sectorStyleByFields){var v=h%t.length;d.style=S5.ShapeStyleTool(null,e.sectorStyle,t,null,v)}else d.style=S5.ShapeStyleTool(null,e.sectorStyle,e.sectorStyleByFields,e.sectorStyleByCodomain,h,n[h]);d.highlightStyle=S5.ShapeStyleTool(null,e.sectorHoverStyle),void 0!==e.sectorHoverAble&&(d.hoverable=e.sectorHoverAble),void 0!==e.sectorClickAble&&(d.clickable=e.sectorClickAble),d.refDataID=this.data.id,d.dataInfo={field:this.fields[h],value:n[h]},this.shapes.push(this.shapeFactory.createShape(d)),u=c}this.shapesConvertToRelativeCoordinate()}}}}]),t}(O5);rX.Feature.Theme.Pie=k5;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var x5=function(e){function t(e,n,r,o,i,a){var s;return sU(this,t),s=cU(this,yU(t).call(this,e,n,r,o,i,a)),s.CLASS_NAME="SuperMap.Feature.Theme.Point",s}return dU(t,e),uU(t,[{key:"destroy",value:function(){pU(yU(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var e=this.setting;if(e.dataViewBoxParameter||(void 0===e.useAxis||e.useAxis?e.dataViewBoxParameter=[45,15,15,15]:e.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var t=this.dataViewBox,n=this.DVBCodomain;this.DVBUnitValue=(n[1]-n[0])/this.DVBHeight;var r=this.DVBUnitValue,o=this.dataValues,i=this.calculateXShapeInfo();if(i){var a=i.xPositions;(void 0===e.useBackground||e.useBackground)&&this.shapes.push(S5.Background(this.shapeFactory,this.chartBox,e)),this.shapes=this.shapes.concat(S5.GraphAxis(this.shapeFactory,t,e,i));for(var s,l,u=0,c=o.length;u<c;u++){if(o[u]<n[0]||o[u]>n[1])return null;s=a[u],l=t[1]-(o[u]-n[0])/r;var f=new J2(s,l);f.style=S5.ShapeStyleTool({fillColor:"#ee9900"},e.pointStyle,e.pointStyleByFields,e.pointStyleByCodomain,u,o[u]),f.highlightStyle=S5.ShapeStyleTool(null,e.pointHoverStyle),void 0!==e.pointHoverAble&&(f.hoverable=e.pointHoverAble),void 0!==e.pointClickAble&&(f.clickable=e.pointClickAble),f.refDataID=this.data.id,f.dataInfo={field:this.fields[u],value:o[u]},this.shapes.push(this.shapeFactory.createShape(f))}this.shapesConvertToRelativeCoordinate()}}}},{key:"calculateXShapeInfo",value:function(){var e=this.dataViewBox,t=this.setting,n=this.dataValues.length;if(n<1)return null;var r,o=[],i=this.DVBWidth,a=0;if(t.xShapeBlank&&t.xShapeBlank.length&&2==t.xShapeBlank.length){r=t.xShapeBlank;var s=i-(r[0]+r[1]);if(s<=n)return null;a=s/(n-1)}else a=i/(n+1),r=[a,a,a];for(var l=0,u=0;u<n;u++)0==u?l=r[0]:l+=a,o.push(e[0]+l);return{xPositions:o,width:0}}}]),t}(O5);rX.Feature.Theme.Point=x5;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var j5=function(e){function t(e,n,r,o,i){var a;return bU(this,t),a=wU(this,CU(t).call(this,e,n,r,o,i)),a.CLASS_NAME="SuperMap.Feature.Theme.Ring",a}return TU(t,e),SU(t,[{key:"destroy",value:function(){_U(CU(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){if(this.initBaseParameter()){var e=[{fillColor:"#ff9277"},{fillColor:"#dddd00"},{fillColor:"#ffc877"},{fillColor:"#bbe3ff"},{fillColor:"#d5ffbb"},{fillColor:"#bbbbff"},{fillColor:"#ddb000"},{fillColor:"#b0dd00"},{fillColor:"#e2bbff"},{fillColor:"#ffbbe3"},{fillColor:"#ff7777"},{fillColor:"#ff9900"},{fillColor:"#83dd00"},{fillColor:"#77e3ff"},{fillColor:"#778fff"},{fillColor:"#c877ff"},{fillColor:"#ff77ab"},{fillColor:"#ff6600"},{fillColor:"#aa8800"},{fillColor:"#77c7ff"},{fillColor:"#ad77ff"},{fillColor:"#ff77ff"},{fillColor:"#dd0083"},{fillColor:"#777700"},{fillColor:"#00aa00"},{fillColor:"#0088aa"},{fillColor:"#8400dd"},{fillColor:"#aa0088"},{fillColor:"#dd0000"},{fillColor:"#772e00"}],t=this.setting;t.useBackground&&this.shapes.push(S5.Background(this.shapeFactory,this.chartBox,t));var n=this.dataValues;if(!(n.length<1)){for(var r=this.DVBCodomain,o=0;o<n.length;o++)if(n[o]<r[0]||n[o]>r[1])return;for(var i=0,a=0;a<n.length;a++)i+=Math.abs(n[a]);this.DVBUnitValue=360/i;for(var s=this.DVBUnitValue,l=this.DVBCenterPoint,u=0,c=0,f=u,p=this.DVBHeight<this.DVBWidth?this.DVBHeight/2:this.DVBWidth/2,h=t.innerRingRadius>=0&&t.innerRingRadius<p,y=void 0!==t.innerRingRadius&&!isNaN(t.innerRingRadius)&&h?t.innerRingRadius:0,d=0;d<n.length;d++){var v=Math.abs(n[d]);c=0===d?u+v*s:d===v.length-1?f:u+v*s;var m=new q2(l[0],l[1],p,u,c,y);if(void 0===t.sectorStyleByFields){var b=d%e.length;m.style=S5.ShapeStyleTool(null,t.sectorStyle,e,null,b)}else m.style=S5.ShapeStyleTool(null,t.sectorStyle,t.sectorStyleByFields,t.sectorStyleByCodomain,d,n[d]);m.highlightStyle=S5.ShapeStyleTool(null,t.sectorHoverStyle),void 0!==t.sectorHoverAble&&(m.hoverable=t.sectorHoverAble),void 0!==t.sectorClickAble&&(m.clickable=t.sectorClickAble),m.refDataID=this.data.id,m.dataInfo={field:this.fields[d],value:n[d]},this.shapes.push(this.shapeFactory.createShape(m)),u=c}this.shapesConvertToRelativeCoordinate()}}}}]),t}(O5);rX.Feature.Theme.Ring=j5;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var A5=function(e){function t(e,n,r,o,i){var a;if(xU(this,t),a=RU(this,IU(t).call(this,e,n)),!e.geometry)return RU(a);if(!(e.geometry instanceof vK))return RU(a);a.dataBounds=e.geometry.getBounds(),a.nodesClipPixel=2,a.isHoverAble=!0,a.isMultiHover=!0,a.isClickAble=!0,a.highlightStyle=null,a.shapeOptions={},a.style=r||{},a.CLASS_NAME="SuperMap.Feature.Theme.Vector",a.style=r||{},o&&hK.copyAttributesWithClip(LU(a),o,["shapeOptions","dataBounds"]),i&&hK.copyAttributesWithClip(a.shapeOptions,i);var s=e.geometry;return a.lonlat=a.dataBounds.getCenterLonLat(),a.location=a.getLocalXY(a.lonlat),s instanceof _K?a.lineToTF(s):s instanceof wK?a.lineToTF(s):s instanceof gK||(s instanceof bK?a.multiPointToTF(s):s instanceof PK?a.multiLineStringToTF(s):s instanceof CK?a.multiPolygonToTF(s):s instanceof TK?a.polygonToTF(s):s instanceof mK||(s instanceof SK?a.pointToTF(s):s instanceof EK?a.rectangleToTF(s):s instanceof OK&&a.geoTextToTF(s))),a}return FU(t,e),AU(t,[{key:"destroy",value:function(){this.style=null,this.dataBounds=null,this.nodesClipPixel=null,this.isHoverAble=null,this.isMultiHover=null,this.isClickAble=null,this.highlightStyle=null,this.shapeOptions=null,NU(IU(t.prototype),"destroy",this).call(this)}},{key:"lineToTF",value:function(e){for(var t=e.components,n=[],r=[],o=this.location,i=[],a=this.nodesClipPixel,s=0;s<t.length;s++){var l=t[s];if(r=[],n=this.getLocalXY(l),r[0]=n[0]-o[0],r[1]=n[1]-o[1],i.length>0){var u=i[i.length-1];if(Math.abs(u[0]-r[0])<=a&&Math.abs(u[1]-r[1])<=a)continue}i.push(r)}if(i.length<2)return null;var c=new Object;c=hK.copyAttributesWithClip(c,this.style,["pointList"]),c.pointList=i;var f=new v5({style:c,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(f.highlightStyle=this.highlightStyle),f.refOriginalPosition=this.location,f.refDataID=this.data.id,f.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&hK.copyAttributesWithClip(f,this.shapeOptions),this.shapes.push(f)}},{key:"multiPointToTF",value:function(e){for(var t=e.components,n=[],r=[],o=this.location,i=[],a=this.nodesClipPixel,s=0;s<t.length;s++){var l=t[s];if(r=[],n=this.getLocalXY(l),r[0]=n[0]-o[0],r[1]=n[1]-o[1],i.length>0){var u=i[i.length-1];if(Math.abs(u[0]-r[0])<=a&&Math.abs(u[1]-r[1])<=a)continue}i.push(r);var c=new Object;c.r=6,c=hK.copyAttributesWithClip(c,this.style),c.x=r[0],c.y=r[1];var f=new p5({style:c,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(f.highlightStyle=this.highlightStyle),f.refOriginalPosition=o,f.refDataID=this.data.id,f.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&hK.copyAttributesWithClip(f,this.shapeOptions),this.shapes.push(f)}}},{key:"multiLineStringToTF",value:function(e){for(var t=e.components,n=0;n<t.length;n++){var r=t[n];this.lineToTF(r)}}},{key:"multiPolygonToTF",value:function(e){for(var t=e.components,n=0;n<t.length;n++){var r=t[n];this.polygonToTF(r)}}},{key:"pointToTF",value:function(e){var t=this.location,n=this.getLocalXY(e),r=new Object;r.r=6,r=hK.copyAttributesWithClip(r,this.style),r.x=n[0]-t[0],r.y=n[1]-t[1];var o=new p5({style:r,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(o.highlightStyle=this.highlightStyle),o.refOriginalPosition=t,o.refDataID=this.data.id,o.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&hK.copyAttributesWithClip(o,this.shapeOptions),this.shapes.push(o)}},{key:"polygonToTF",value:function(e){for(var t=e.components,n=[],r=[],o=this.location,i=[],a=[],s=[],l=this.nodesClipPixel,u=0;u<t.length;u++){var c=t[u].components;if(0===u){i=[];for(var f=0;f<c.length;f++){if(r=[],n=this.getLocalXY(c[f]),r[0]=n[0]-o[0],r[1]=n[1]-o[1],i.length>0){var p=i[i.length-1];if(Math.abs(p[0]-r[0])<=l&&Math.abs(p[1]-r[1])<=l)continue}i.push(r)}}else{a=[];for(var h=0;h<c.length;h++){if(r=[],n=this.getLocalXY(c[h]),r[0]=n[0]-o[0],r[1]=n[1]-o[1],a.length>0){var y=a[a.length-1];if(Math.abs(y[0]-r[0])<=l&&Math.abs(y[1]-r[1])<=l)continue}a.push(r)}}a.length<2||s.push(a)}if(!(i.length<2)){var d={};d=hK.copyAttributesWithClip(d,this.style,["pointList"]),d.pointList=i;var v=new d5({style:d,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(v.highlightStyle=this.highlightStyle),v.refOriginalPosition=this.location,v.refDataID=this.data.id,v.isHoverByRefDataID=this.isMultiHover,s.length>0&&(v.holePolygonPointLists=s),this.shapeOptions&&hK.copyAttributesWithClip(v,this.shapeOptions),this.shapes.push(v)}}},{key:"rectangleToTF",value:function(e){var t=this.location,n=new yK(e.x,e.y),r=this.layer.map.getResolution(),o=this.getLocalXY(n),i=new Object;i.r=6,i=hK.copyAttributesWithClip(i,this.style),i.x=o[0]-t[0],i.y=o[1]-t[1]-2*e.width/r,i.width=e.width/r,i.height=e.height/r;var a=new b5({style:i,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(a.highlightStyle=this.highlightStyle),a.refOriginalPosition=t,a.refDataID=this.data.id,a.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&hK.copyAttributesWithClip(a,this.shapeOptions),this.shapes.push(a)}},{key:"geoTextToTF",value:function(e){var t=this.location,n=this.getLocalXY(e),r=new Object;r.r=6,r=hK.copyAttributesWithClip(r,this.style,["x","y","text"]),r.x=n[0]-t[0],r.y=n[1]-t[1],r.text=e.text;var o=new h5({style:r,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(o.highlightStyle=this.highlightStyle),o.refOriginalPosition=t,o.refDataID=this.data.id,o.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&hK.copyAttributesWithClip(o,this.shapeOptions),this.shapes.push(o)}},{key:"updateAndAddShapes",value:function(){var e=this.getLocalXY(this.lonlat);this.location=e;for(var t=this.layer.renderer,n=0,r=this.shapes.length;n<r;n++){var o=this.shapes[n];o.refOriginalPosition=e,t.addShape(o)}}},{key:"getShapesCount",value:function(){return this.shapes.length}},{key:"getLocalXY",value:function(e){return this.layer.getLocalXY(e)}}]),t}(w5);rX.Feature.Theme.ThemeVector=A5;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var R5=function(e){function t(e){var n;return BU(this,t),n=JU(this,qU(t).call(this,e)),e=e||{},n.id=null,n.type="group",n.clipShape=null,n._children=[],n._storage=null,n.__dirty=!0,n.ignore=!1,hK.extend(zU(n),e),n.id=n.id||hK.createUniqueID("smShapeGroup_"),n.CLASS_NAME="SuperMap.LevelRenderer.Group",n}return YU(t,e),HU(t,[{key:"destroy",value:function(){this.id=null,this.type=null,this.clipShape=null,this._children=null,this._storage=null,this.__dirty=null,this.ignore=null,VU(qU(t.prototype),"destroy",this).call(this)}},{key:"children",value:function(){return this._children.slice()}},{key:"childAt",value:function(e){return this._children[e]}},{key:"addChild",value:function(e){e!=this&&e.parent!=this&&(e.parent&&e.parent.removeChild(e),this._children.push(e),e.parent=this,this._storage&&this._storage!==e._storage&&(this._storage.addToMap(e),e instanceof t&&e.addChildrenToStorage(this._storage)))}},{key:"removeChild",value:function(e){var n=hK.indexOf(this._children,e);this._children.splice(n,1),e.parent=null,this._storage&&(this._storage.delFromMap(e.id),e instanceof t&&e.delChildrenFromStorage(this._storage))}},{key:"eachChild",value:function(e,t){for(var n=!!t,r=0;r<this._children.length;r++){var o=this._children[r];n?e.call(t,o):e(o)}}},{key:"traverse",value:function(e,t){for(var n=!!t,r=0;r<this._children.length;r++){var o=this._children[r];n?e.call(t,o):e(o),"group"===o.type&&o.traverse(e,t)}}},{key:"addChildrenToStorage",value:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToMap(n),"group"===n.type&&n.addChildrenToStorage(e)}}},{key:"delChildrenFromStorage",value:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromMap(n.id),"group"===n.type&&n.delChildrenFromStorage(e)}}},{key:"modSelf",value:function(){this.__dirty=!0}}]),t}(rX.mixin(K2,c5)),L5=function(){function e(){XU(this,e),this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],this._shapeListOffset=0,this.CLASS_NAME="SuperMap.LevelRenderer.Storage"}return ZU(e,[{key:"destroy",value:function(){this.dispose(),this._shapeList=null,this._shapeListOffset=null}},{key:"iterShape",value:function(e,t){if(!t){t={hover:!1,normal:"down",update:!1}}if(t.hover)for(var n=0,r=this._hoverElements.length;n<r;n++){var o=this._hoverElements[n];if(o.updateTransform(),e(o))return this}switch(t.update&&this.updateShapeList(),t.normal){case"down":for(var i=this._shapeList.length;i--;)if(e(this._shapeList[i]))return this;break;default:for(var a=0,s=this._shapeList.length;a<s;a++)if(e(this._shapeList[a]))return this}return this}},{key:"getHoverShapes",value:function(t){for(var n=[],r=this._hoverElements.length,o=0;o<r;o++){n.push(this._hoverElements[o]);var i=this._hoverElements[o].hoverConnect;if(i){var a;i=i instanceof Array?i:[i];for(var s=0,l=i.length;s<l;s++)(a=i[s].id?i[s]:this.get(i[s]))&&n.push(a)}}if(n.sort(e.shapeCompareFunc),t)for(var u=0,c=n.length;u<c;u++)n[u].updateTransform();return n}},{key:"getShapeList",value:function(e){return e&&this.updateShapeList(),this._shapeList}},{key:"updateShapeList",value:function(){this._shapeListOffset=0;for(var t=this._roots.length,n=0;n<t;n++){var r=this._roots[n];this._updateAndAddShape(r)}this._shapeList.length=this._shapeListOffset;for(var o=this._shapeList.length,i=0;i<o;i++)this._shapeList[i].__renderidx=i;this._shapeList.sort(e.shapeCompareFunc)}},{key:"_updateAndAddShape",value:function(e,t){if(!e.ignore)if(e.updateTransform(),"group"==e.type){e.clipShape&&(e.clipShape.parent=e,e.clipShape.updateTransform(),t?(t=t.slice(),t.push(e.clipShape)):t=[e.clipShape]);for(var n=0;n<e._children.length;n++){var r=e._children[n];r.__dirty=e.__dirty||r.__dirty,this._updateAndAddShape(r,t)}e.__dirty=!1}else e.__clipShapes=t,this._shapeList[this._shapeListOffset++]=e}},{key:"mod",value:function(e,t){var n=this._elements[e];if(n&&(n.modSelf(),t))if(t.parent||t._storage||t.__startClip){var r={};for(var o in t)"parent"!=o&&"_storage"!=o&&"__startClip"!=o&&t.hasOwnProperty(o)&&(r[o]=t[o]);(new L2).merge(n,r,!0)}else(new L2).merge(n,t,!0);return this}},{key:"drift",value:function(e,t,n){var r=this._elements[e];return r&&(r.needTransform=!0,"horizontal"===r.draggable?n=0:"vertical"===r.draggable&&(t=0),(!r.ondrift||r.ondrift&&!r.ondrift(t,n))&&r.drift(t,n)),this}},{key:"addHover",value:function(e){return e.updateNeedTransform(),this._hoverElements.push(e),this}},{key:"delHover",value:function(){return this._hoverElements=[],this}},{key:"hasHoverShape",value:function(){return this._hoverElements.length>0}},{key:"addRoot",value:function(e){e instanceof R5&&e.addChildrenToStorage(this),this.addToMap(e),this._roots.push(e)}},{key:"delRoot",value:function(e){if(void 0===e){for(var t=0;t<this._roots.length;t++){var n=this._roots[t];n instanceof R5&&n.delChildrenFromStorage(this)}return this._elements={},this._hoverElements=[],void(this._roots=[])}if(e instanceof Array)for(var r=e.length,o=0;o<r;o++)this.delRoot(e[o]);else{var i;i="string"==typeof e?this._elements[e]:e;var a=(new L2).indexOf(this._roots,i);a>=0&&(this.delFromMap(i.id),this._roots.splice(a,1),i instanceof R5&&i.delChildrenFromStorage(this))}}},{key:"addToMap",value:function(e){return e instanceof R5&&(e._storage=this),e.modSelf(),this._elements[e.id]=e,this}},{key:"get",value:function(e){return this._elements[e]}},{key:"delFromMap",value:function(e){var t=this._elements[e];return t&&(delete this._elements[e],t instanceof R5&&(t._storage=null)),this}},{key:"dispose",value:function(){this._elements=null,this._roots=null,this._hoverElements=null}}],[{key:"shapeCompareFunc",value:function(e,t){return e.zlevel==t.zlevel?e.z==t.z?e.__renderidx-t.__renderidx:e.z-t.z:e.zlevel-t.zlevel}}]),e}(),N5=function(){function e(t,n){function r(){return!1}iH(this,e),this.root=t,this.storage=n,this._domRoot=null,this._layers={},this._zlevelList=[],this._layerConfig={},this._bgDom=null,this.shapeToImage=null,e.devicePixelRatio=Math.max(window.devicePixelRatio||1,1),this.CLASS_NAME="SuperMap.LevelRenderer.Painter",this.root.innerHTML="",this._width=this._getWidth(),this._height=this._getHeight();var o=document.createElement("div");this._domRoot=o,o.style.position="relative",o.style.overflow="hidden",o.style.width=this._width+"px",o.style.height=this._height+"px",this.root.appendChild(o),this.shapeToImage=this._createShapeToImageProcessor(),this._bgDom=e.createDom(hK.createUniqueID("SuperMap.Theme_background_"),"div",this),o.appendChild(this._bgDom),this._bgDom.onselectstart=r,this._bgDom.style["-webkit-user-select"]="none",this._bgDom.style["user-select"]="none",this._bgDom.style["-webkit-touch-callout"]="none";var i=new M5(hK.createUniqueID("_highLightLayer_"),this);this._layers.hover=i,o.appendChild(i.dom),i.initContext(),i.dom.onselectstart=r,i.dom.style["-webkit-user-select"]="none",i.dom.style["user-select"]="none",i.dom.style["-webkit-touch-callout"]="none";var a=this;this.updatePainter=function(e,t){a.refreshShapes(e,t)}}return sH(e,[{key:"destroy",value:function(){this.dispose(),this._zlevelList=null,this._layerConfig=null,this._bgDom=null,this.shapeToImage=null}},{key:"render",value:function(e){return this.refresh(e,!0),this}},{key:"refresh",value:function(e,t){var n=this.storage.getShapeList(!0);return this._paintList(n,t),"function"==typeof e&&e(),this}},{key:"_paintList",value:function(e,t){void 0===t&&(t=!1),this._updateLayerStatus(e);var n,r,o;for(var i in this._layers)"hover"!==i&&(this._layers[i].unusedCount++,this._layers[i].updateTransform());for(var a=[],s=0,l=e.length;s<l;s++){var u=e[s];if(r!==u.zlevel&&(n&&n.needTransform&&o.restore(),n=this.getLayer(u.zlevel),o=n.ctx,r=u.zlevel,n.unusedCount=0,(n.dirty||t)&&n.clear(),n.needTransform&&(o.save(),n.setTransform(o))),o&&u.__startClip){var c=u.__startClip;if(o.save(),c.needTransform){var f=c.transform;u5.Util_matrix.invert(a,f),o.transform(f[0],f[1],f[2],f[3],f[4],f[5])}if(o.beginPath(),c.buildPath(o,c.style),o.clip(),c.needTransform){var p=a;o.transform(p[0],p[1],p[2],p[3],p[4],p[5])}}if((n&&n.dirty||t)&&!u.invisible&&(!u.onbrush||u.onbrush&&!u.onbrush(o,!1)))if(i5.catchBrushException)try{u.brush(o,!1,this.updatePainter)}catch(e){u5.Util_log(e,"brush error of "+u.type,u)}else u.brush(o,!1,this.updatePainter);o&&u.__stopClip&&o.restore(),u.__dirty=!1}o&&n&&n.needTransform&&o.restore();for(var h in this._layers)if("hover"!==h){var y=this._layers[h];y.dirty=!1,1==y.unusedCount&&y.clear()}}},{key:"getLayer",value:function(e){var t=this._layers[e];if(!t){var n=this._zlevelList.length,r=null,o=-1;if(n>0&&e>this._zlevelList[0]){for(o=0;o<n-1&&!(this._zlevelList[o]<e&&this._zlevelList[o+1]>e);o++);r=this._layers[this._zlevelList[o]]}this._zlevelList.splice(o+1,0,e),t=new M5(hK.createUniqueID("_levelLayer_"+e),this);var i=r?r.dom:this._bgDom;i.nextSibling?i.parentNode.insertBefore(t.dom,i.nextSibling):i.parentNode.appendChild(t.dom),t.initContext(),this._layers[e]=t,this._layerConfig[e]&&(new L2).merge(t,this._layerConfig[e],!0),t.updateTransform()}return t}},{key:"getLayers",value:function(){return this._layers}},{key:"_updateLayerStatus",value:function(e){var t=this._layers,n={};for(var r in t)"hover"!==r&&(n[r]=t[r].elCount,t[r].elCount=0);for(var o=0;o<e.length;o++){var i=e[o],a=i.zlevel,s=t[a];if(s){if(s.elCount++,s.dirty)continue;s.dirty=i.__dirty}}for(var l in t)"hover"!==l&&n[l]!==t[l].elCount&&(t[l].dirty=!0)}},{key:"refreshShapes",value:function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];this.storage.mod(o.id)}return this.refresh(t),this}},{key:"clear",value:function(){for(var e in this._layers)"hover"!=e&&this._layers[e].clear();return this}},{key:"modLayer",value:function(e,t){if(t){this._layerConfig[e]?(new L2).merge(this._layerConfig[e],t,!0):this._layerConfig[e]=t;var n=this._layers[e];n&&(new L2).merge(n,this._layerConfig[e],!0)}}},{key:"delLayer",value:function(e){var t=this._layers[e];t&&(this.modLayer(e,{position:t.position,rotation:t.rotation,scale:t.scale}),t.dom.parentNode.removeChild(t.dom),delete this._layers[e],this._zlevelList.splice((new L2).indexOf(this._zlevelList,e),1))}},{key:"refreshHover",value:function(){this.clearHover();for(var e=this.storage.getHoverShapes(!0),t=0,n=e.length;t<n;t++)this._brushHover(e[t]);return this.storage.delHover(),this}},{key:"clearHover",value:function(){var e=this._layers.hover;return e&&e.clear(),this}},{key:"resize",value:function(){var e=this._domRoot;e.style.display="none";var t=this._getWidth(),n=this._getHeight();if(e.style.display="",this._width!=t||n!=this._height){this._width=t,this._height=n,e.style.width=t+"px",e.style.height=n+"px";for(var r in this._layers)this._layers[r].resize(t,n);this.refresh(null,!0)}return this}},{key:"clearLayer",value:function(e){var t=this._layers[e];t&&t.clear()}},{key:"dispose",value:function(){this.root.innerHTML="",this.root=null,this.storage=null,this._domRoot=null,this._layers=null}},{key:"getDomHover",value:function(){return this._layers.hover.dom}},{key:"toDataURL",value:function(t,n,r){var o=e.createDom(hK.createUniqueID("SuperMap.Theme.image_"),"canvas",this);this._bgDom.appendChild(o);var i=o.getContext("2d");1!=e.devicePixelRatio&&i.scale(e.devicePixelRatio,e.devicePixelRatio),i.fillStyle=n||"#fff",i.rect(0,0,this._width*e.devicePixelRatio,this._height*e.devicePixelRatio),i.fill();var a=this;this.storage.iterShape(function(e){if(!e.invisible&&(!e.onbrush||e.onbrush&&!e.onbrush(i,!1)))if(i5.catchBrushException)try{e.brush(i,!1,a.updatePainter)}catch(t){u5.Util_log(t,"brush error of "+e.type,e)}else e.brush(i,!1,a.updatePainter)},{normal:"up",update:!0});var s=o.toDataURL(t,r);return i=null,this._bgDom.removeChild(o),s}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"_getWidth",value:function(){var e=this.root,t=e.currentStyle||document.defaultView.getComputedStyle(e);return((e.clientWidth||parseInt(t.width,10))-parseInt(t.paddingLeft,10)-parseInt(t.paddingRight,10)).toFixed(0)-0}},{key:"_getHeight",value:function(){var e=this.root,t=e.currentStyle||document.defaultView.getComputedStyle(e);return((e.clientHeight||parseInt(t.height,10))-parseInt(t.paddingTop,10)-parseInt(t.paddingBottom,10)).toFixed(0)-0}},{key:"_brushHover",value:function(e){var t=this._layers.hover.ctx;if(!e.onbrush||e.onbrush&&!e.onbrush(t,!0)){var n=this.getLayer(e.zlevel);if(n.needTransform&&(t.save(),n.setTransform(t)),i5.catchBrushException)try{e.brush(t,!0,this.updatePainter)}catch(t){u5.Util_log(t,"hoverBrush error of "+e.type,e)}else e.brush(t,!0,this.updatePainter);n.needTransform&&t.restore()}}},{key:"_shapeToImage",value:function(e,t,n,r,o){var i=document.createElement("canvas"),a=i.getContext("2d"),s=o||window.devicePixelRatio||1;i.style.width=n+"px",i.style.height=r+"px",i.setAttribute("width",n*s),i.setAttribute("height",r*s),a.clearRect(0,0,n*s,r*s);var l={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[0,0,0],t.rotation=0,t.scale=[1,1],t&&t.brush(a,!1);var u=new m5({id:e,style:{x:0,y:0,image:i}});return null!=l.position&&(u.position=t.position=l.position),null!=l.rotation&&(u.rotation=t.rotation=l.rotation),null!=l.scale&&(u.scale=t.scale=l.scale),u}},{key:"_createShapeToImageProcessor",value:function(){var t=this;return function(n,r,o,i){return t._shapeToImage(n,r,o,i,e.devicePixelRatio)}}},{key:"updateHoverLayer",value:function(e){if(!(e instanceof Array))return this;this.clearHover(),this.storage.delHover();for(var t=0;t<e.length;t++)this.storage.addHover(e[t]),this._brushHover(e[t])}}],[{key:"createDom",value:function(t,n,r){var o=document.createElement(n),i=r._width,a=r._height;return o.style.position="absolute",o.style.left=0,o.style.top=0,o.style.width=i+"px",o.style.height=a+"px",o.setAttribute("width",i*e.devicePixelRatio),o.setAttribute("height",a*e.devicePixelRatio),o.setAttribute("id",t),o}}]),e}(),M5=function(e){function t(e,n){function r(){return!1}var o;return iH(this,t),o=eH(this,nH(t).call(this,e,n)),o.dom=null,o.domBack=null,o.ctxBack=null,o.painter=n,o.unusedCount=0,o.config=null,o.dirty=!0,o.elCount=0,o.clearColor=0,o.motionBlur=!1,o.lastFrameAlpha=.7,o.zoomable=!1,o.panable=!1,o.maxZoom=1/0,o.minZoom=0,o.ctx=null,o.dom=N5.createDom(hK.createUniqueID("SuperMap.Theme"+e),"canvas",n),o.dom.onselectstart=r,o.dom.style["-webkit-user-select"]="none",o.dom.style["user-select"]="none",o.dom.style["-webkit-touch-callout"]="none",o.CLASS_NAME="SuperMap.LevelRenderer.Painter.Layer",o}return rH(t,e),sH(t,[{key:"destroy",value:function(){this.dom=null,this.domBack=null,this.ctxBack=null,this.painter=null,this.unusedCount=null,this.config=null,this.dirty=null,this.elCount=null,this.clearColor=null,this.motionBlur=null,this.lastFrameAlpha=null,this.zoomable=null,this.panable=null,this.maxZoom=null,this.minZoom=null,this.ctx=null,c5.destroy.apply(this,arguments)}},{key:"initContext",value:function(){this.ctx=this.dom.getContext("2d"),1!=N5.devicePixelRatio&&this.ctx.scale(N5.devicePixelRatio,N5.devicePixelRatio)}},{key:"createBackBuffer",value:function(){this.domBack=N5.createDom(hK.createUniqueID("SuperMap.Theme.back-"+this.id),"canvas",this.painter),this.ctxBack=this.domBack.getContext("2d"),1!=N5.devicePixelRatio&&this.ctxBack.scale(N5.devicePixelRatio,N5.devicePixelRatio)}},{key:"resize",value:function(e,t){this.dom.style.width=e+"px",this.dom.style.height=t+"px",this.dom.setAttribute("width",e*N5.devicePixelRatio),this.dom.setAttribute("height",t*N5.devicePixelRatio),1!=N5.devicePixelRatio&&this.ctx.scale(N5.devicePixelRatio,N5.devicePixelRatio),this.domBack&&(this.domBack.setAttribute("width",e*N5.devicePixelRatio),this.domBack.setAttribute("height",t*N5.devicePixelRatio),1!=N5.devicePixelRatio&&this.ctxBack.scale(N5.devicePixelRatio,N5.devicePixelRatio))}},{key:"clear",value:function(){var e=this.dom,t=this.ctx,n=e.width,r=e.height,o=this.clearColor,i=this.motionBlur,a=this.lastFrameAlpha;if(i&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,n/N5.devicePixelRatio,r/N5.devicePixelRatio)),o?(t.save(),t.fillStyle=this.config.clearColor,t.fillRect(0,0,n/N5.devicePixelRatio,r/N5.devicePixelRatio),t.restore()):t.clearRect(0,0,n/N5.devicePixelRatio,r/N5.devicePixelRatio),i){var s=this.domBack;t.save(),t.globalAlpha=a,t.drawImage(s,0,0,n/N5.devicePixelRatio,r/N5.devicePixelRatio),t.restore()}}}]),t}(c5),I5=function(e){function t(e,n,r){function o(e,t){return function(n){return e.call(t,n)}}function i(e,t,n){var r=this;if(r._draggingTarget&&r._draggingTarget.id==e.id||e.isSilent())return!1;var o=r._event;if(e.isCover(t,n)){if(e.hoverable)if(e.isHoverByRefDataID&&!0===e.isHoverByRefDataID){if(e.refDataID){var i=e.refDataID,a=null;e.refDataHoverGroup&&(a=e.refDataHoverGroup);for(var s=r.storage._shapeList,l=0,u=s.length;l<u;l++){var c=s[l];c.refDataID&&i===c.refDataID&&(a?c.refDataHoverGroup&&a===c.refDataHoverGroup&&r.storage.addHover(c):r.storage.addHover(c))}}}else r.storage.addHover(e);for(var f=e.parent;f;){if(f.clipShape&&!f.clipShape.isCover(r._mouseX,r._mouseY))return!1;f=f.parent}return r._lastHover!=e&&(r._processOutShape(o),r._processDragLeave(o),r._lastHover=e,r._processDragEnter(o)),r._processOverShape(o),r._processDragOver(o),r._hasfound=1,!0}return!1}var a;uH(this,t),a=pH(this,hH(t).call(this,e,n,r)),a.root=e,a.storage=n,a.painter=r,a._lastX=0,a._lastY=0,a._mouseX=0,a._mouseY=0,a._findHover=null,a._domHover=null,a._findHover=function(e,t){return function(n,r,o){return e.call(t,n,r,o)}}(i,yH(a)),a._domHover=r.getDomHover(),a.CLASS_NAME="SuperMap.LevelRenderer.Handler";var s={resize:function(e){e=e||window.event,this._lastHover=null,this._isMouseDown=0,this.dispatch(i5.EVENT.RESIZE,e)},click:function(e){e=this._zrenderEventFixed(e);var t=this._lastHover;(t&&t.clickable||!t)&&this._clickThreshold<10&&this._dispatchAgency(t,i5.EVENT.CLICK,e),this._mousemoveHandler(e)},dblclick:function(e){e=e||window.event,e=this._zrenderEventFixed(e);var t=this._lastHover;(t&&t.clickable||!t)&&this._clickThreshold<5&&this._dispatchAgency(t,i5.EVENT.DBLCLICK,e),this._mousemoveHandler(e)},mousewheel:function(e){e=this._zrenderEventFixed(e);var t=e.wheelDelta||-e.detail,n=t>0?1.1:1/1.1,r=this.painter.getLayers(),o=!1;for(var i in r)if("hover"!==i){var a=r[i],s=a.position;if(a.zoomable){a.__zoom=a.__zoom||1;var l=a.__zoom;l*=n,l=Math.max(Math.min(a.maxZoom,l),a.minZoom),n=l/a.__zoom,a.__zoom=l,s[0]-=(this._mouseX-s[0])*(n-1),s[1]-=(this._mouseY-s[1])*(n-1),a.scale[0]*=n,a.scale[1]*=n,a.dirty=!0,o=!0}}o&&this.painter.refresh(),this._dispatchAgency(this._lastHover,i5.EVENT.MOUSEWHEEL,e),this._mousemoveHandler(e)},mousemove:function(e){this._clickThreshold++,e=this._zrenderEventFixed(e),this._lastX=this._mouseX,this._lastY=this._mouseY,this._mouseX=u5.Util_event.getX(e),this._mouseY=u5.Util_event.getY(e);var t=this._mouseX-this._lastX,n=this._mouseY-this._lastY;this._processDragStart(e),this._hasfound=0,this._event=e,this._iterateAndFindHover(),this._hasfound||((!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)&&(this._processOutShape(e),this._processDragLeave(e)),this._lastHover=null,this.storage.delHover(),this.painter.clearHover());var r="";if(this._draggingTarget)this.storage.drift(this._draggingTarget.id,t,n),this._draggingTarget.modSelf(),this.storage.addHover(this._draggingTarget);else if(this._isMouseDown){var o=this.painter.getLayers(),i=!1;for(var a in o)if("hover"!==a){var s=o[a];s.panable&&(r="move",s.position[0]+=t,s.position[1]+=n,i=!0,s.dirty=!0)}i&&this.painter.refresh()}this._draggingTarget||this._hasfound&&this._lastHover.draggable?r="move":this._hasfound&&this._lastHover.clickable&&(r="pointer"),this.root.style.cursor=r,this._dispatchAgency(this._lastHover,i5.EVENT.MOUSEMOVE,e),(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover()},mouseout:function(e){e=this._zrenderEventFixed(e);var t=e.toElement||e.relatedTarget;if(t!=this.root)for(;t&&9!=t.nodeType;){if(t==this.root)return void this._mousemoveHandler(e);t=t.parentNode}e.zrenderX=this._lastX,e.zrenderY=this._lastY,this.root.style.cursor="",this._isMouseDown=0,this._processOutShape(e),this._processDrop(e),this._processDragEnd(e),this.painter.refreshHover(),this.dispatch(i5.EVENT.GLOBALOUT,e)},mousedown:function(e){if(this._clickThreshold=0,2==this._lastDownButton)return this._lastDownButton=e.button,void(this._mouseDownTarget=null);this._lastMouseDownMoment=new Date,e=this._zrenderEventFixed(e),this._isMouseDown=1,this._mouseDownTarget=this._lastHover,this._dispatchAgency(this._lastHover,i5.EVENT.MOUSEDOWN,e),this._lastDownButton=e.button},mouseup:function(e){e=this._zrenderEventFixed(e),this.root.style.cursor="",this._isMouseDown=0,this._mouseDownTarget=null,this._dispatchAgency(this._lastHover,i5.EVENT.MOUSEUP,e),this._processDrop(e),this._processDragEnd(e)},touchstart:function(e){e=this._zrenderEventFixed(e,!0),this._lastTouchMoment=new Date,this._mobildFindFixed(e),this._mousedownHandler(e)},touchmove:function(e){e=this._zrenderEventFixed(e,!0),this._mousemoveHandler(e),this._isDragging&&u5.Util_event.stop(e)},touchend:function(e){e=this._zrenderEventFixed(e,!0),this._mouseupHandler(e);var t=new Date;t-this._lastTouchMoment<i5.EVENT.touchClickDelay&&(this._mobildFindFixed(e),this._clickHandler(e),t-this._lastClickMoment<i5.EVENT.touchClickDelay/2&&(this._dblclickHandler(e),this._lastHover&&this._lastHover.clickable&&u5.Util_event.stop(e)),this._lastClickMoment=t),this.painter.clearHover()}};return function(e){for(var t=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],n=t.length;n--;){var r=t[n];e["_"+r+"Handler"]=o(s[r],e)}}(yH(a)),window.addEventListener?(window.addEventListener("resize",a._resizeHandler),u5.Util_env.os.tablet||u5.Util_env.os.phone?(e.addEventListener("touchstart",a._touchstartHandler),e.addEventListener("touchmove",a._touchmoveHandler),e.addEventListener("touchend",a._touchendHandler)):(e.addEventListener("click",a._clickHandler),e.addEventListener("dblclick",a._dblclickHandler),e.addEventListener("mousewheel",a._mousewheelHandler),e.addEventListener("mousemove",a._mousemoveHandler),e.addEventListener("mousedown",a._mousedownHandler),e.addEventListener("mouseup",a._mouseupHandler)),e.addEventListener("DOMMouseScroll",a._mousewheelHandler),e.addEventListener("mouseout",a._mouseoutHandler)):(window.attachEvent("onresize",a._resizeHandler),e.attachEvent("onclick",a._clickHandler),e.ondblclick=a._dblclickHandler,e.attachEvent("onmousewheel",a._mousewheelHandler),e.attachEvent("onmousemove",a._mousemoveHandler),e.attachEvent("onmouseout",a._mouseoutHandler),e.attachEvent("onmousedown",a._mousedownHandler),e.attachEvent("onmouseup",a._mouseupHandler)),a}return dH(t,e),fH(t,[{key:"destroy",value:function(){this.dispose(),this._lastX=null,this._lastY=null,this._mouseX=null,this._mouseY=null,this._findHover=null,K2.prototype.destroy.apply(this,arguments)}},{key:"on",value:function(e,t){return this.bind(e,t),this}},{key:"un",value:function(e,t){return this.unbind(e,t),this}},{key:"trigger",value:function(e,t){var n=i5.EVENT;switch(e){case n.RESIZE:case n.CLICK:case n.DBLCLICK:case n.MOUSEWHEEL:case n.MOUSEMOVE:case n.MOUSEDOWN:case n.MOUSEUP:case n.MOUSEOUT:this["_"+e+"Handler"](t)}}},{key:"dispose",value:function(){var e=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),u5.Util_env.os.tablet||u5.Util_env.os.phone?(e.removeEventListener("touchstart",this._touchstartHandler),e.removeEventListener("touchmove",this._touchmoveHandler),e.removeEventListener("touchend",this._touchendHandler)):(e.removeEventListener("click",this._clickHandler),e.removeEventListener("dblclick",this._dblclickHandler),e.removeEventListener("mousewheel",this._mousewheelHandler),e.removeEventListener("mousemove",this._mousemoveHandler),e.removeEventListener("mousedown",this._mousedownHandler),e.removeEventListener("mouseup",this._mouseupHandler)),e.removeEventListener("DOMMouseScroll",this._mousewheelHandler),e.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),e.detachEvent("onclick",this._clickHandler),e.detachEvent("dblclick",this._dblclickHandler),e.detachEvent("onmousewheel",this._mousewheelHandler),e.detachEvent("onmousemove",this._mousemoveHandler),e.detachEvent("onmouseout",this._mouseoutHandler),e.detachEvent("onmousedown",this._mousedownHandler),e.detachEvent("onmouseup",this._mouseupHandler)),this.root=null,this._domHover=null,this.storage=null,this.painter=null,this.un()}},{key:"_processDragStart",value:function(e){var t=this._lastHover;if(this._isMouseDown&&t&&t.draggable&&!this._draggingTarget&&this._mouseDownTarget==t){if(t.dragEnableTime&&new Date-this._lastMouseDownMoment<t.dragEnableTime)return;var n=t;this._draggingTarget=n,this._isDragging=1,n.invisible=!0,this.storage.mod(n.id),this._dispatchAgency(n,i5.EVENT.DRAGSTART,e),this.painter.refresh()}}},{key:"_processDragEnter",value:function(e){this._draggingTarget&&this._dispatchAgency(this._lastHover,i5.EVENT.DRAGENTER,e,this._draggingTarget)}},{key:"_processDragOver",value:function(e){this._draggingTarget&&this._dispatchAgency(this._lastHover,i5.EVENT.DRAGOVER,e,this._draggingTarget)}},{key:"_processDragLeave",value:function(e){this._draggingTarget&&this._dispatchAgency(this._lastHover,i5.EVENT.DRAGLEAVE,e,this._draggingTarget)}},{key:"_processDrop",value:function(e){this._draggingTarget&&(this._draggingTarget.invisible=!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,i5.EVENT.DROP,e,this._draggingTarget))}},{key:"_processDragEnd",value:function(e){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,i5.EVENT.DRAGEND,e),this._lastHover=null),this._isDragging=0,this._draggingTarget=null}},{key:"_processOverShape",value:function(e){this._dispatchAgency(this._lastHover,i5.EVENT.MOUSEOVER,e)}},{key:"_processOutShape",value:function(e){this._dispatchAgency(this._lastHover,i5.EVENT.MOUSEOUT,e)}},{key:"_dispatchAgency",value:function(e,t,n,r){var o="on"+t,i={type:t,event:n,target:e,cancelBubble:!1},a=e;for(r&&(i.dragged=r);a&&(a[o]&&(i.cancelBubble=a[o](i)),a.dispatch(t,i),a=a.parent,!i.cancelBubble););e?i.cancelBubble||this.dispatch(t,i):r||this.dispatch(t,{type:t,event:n})}},{key:"_iterateAndFindHover",value:function(){for(var e,t=u5.Util_matrix.create(),n=this.storage.getShapeList(),r=[0,0],o=n.length-1;o>=0;o--){var i=n[o];if(void 0!==i.zlevel&&(e=this.painter.getLayer(i.zlevel,e),r[0]=this._mouseX,r[1]=this._mouseY,e.needTransform&&(u5.Util_matrix.invert(t,e.transform),u5.Util_vector.applyTransform(r,r,t))),this._findHover(i,r[0],r[1]))break}}},{key:"_mobildFindFixed",value:function(e){var t=[{x:10},{x:-20},{x:10,y:10},{y:-20}];this._lastHover=null,this._mouseX=e.zrenderX,this._mouseY=e.zrenderY,this._event=e,this._iterateAndFindHover();for(var n=0;!this._lastHover&&n<t.length;n++){var r=t[n];r.x&&(this._mouseX+=r.x),r.y&&(this._mouseX+=r.y),this._iterateAndFindHover()}this._lastHover&&(e.zrenderX=this._mouseX,e.zrenderY=this._mouseY)}},{key:"_zrenderEventFixed",value:function(e,t){if(e.zrenderFixed)return e;if(t){var n="touchend"!=e.type?e.targetTouches[0]:e.changedTouches[0];if(n){var r=this.root.getBoundingClientRect();e.zrenderX=n.clientX-r.left,e.zrenderY=n.clientY-r.top}}else{e=e||window.event;var o=e.toElement||e.relatedTarget||e.srcElement||e.target;o&&o!=this._domHover&&(e.zrenderX=(void 0!==e.offsetX?e.offsetX:e.layerX)+o.offsetLeft,e.zrenderY=(void 0!==e.offsetY?e.offsetY:e.layerY)+o.offsetTop)}return e.zrenderFixed=1,e}},{key:"getLastHoverOne",value:function(){return this._lastHover?this._lastHover:null}}]),t}(K2),F5=function(){function e(){mH(this,e),this.CLASS_NAME="SuperMap.LevelRenderer.Animation.easing"}return gH(e,[{key:"destroy",value:function(){}},{key:"Linear",value:function(e){return e}},{key:"QuadraticIn",value:function(e){return e*e}},{key:"QuadraticOut",value:function(e){return e*(2-e)}},{key:"QuadraticInOut",value:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},{key:"CubicIn",value:function(e){return e*e*e}},{key:"CubicOut",value:function(e){return--e*e*e+1}},{key:"CubicInOut",value:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},{key:"QuarticIn",value:function(e){return e*e*e*e}},{key:"QuarticOut",value:function(e){return 1- --e*e*e*e}},{key:"QuarticInOut",value:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},{key:"QuinticIn",value:function(e){return e*e*e*e*e}},{key:"QuinticOut",value:function(e){return--e*e*e*e*e+1}},{key:"QuinticInOut",value:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},{key:"SinusoidalIn",value:function(e){return 1-Math.cos(e*Math.PI/2)}},{key:"SinusoidalOut",value:function(e){return Math.sin(e*Math.PI/2)}},{key:"SinusoidalInOut",value:function(e){return.5*(1-Math.cos(Math.PI*e))}},{key:"ExponentialIn",value:function(e){return 0===e?0:Math.pow(1024,e-1)}},{key:"ExponentialOut",value:function(e){return 1===e?1:1-Math.pow(2,-10*e)}},{key:"ExponentialInOut",value:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},{key:"CircularIn",value:function(e){return 1-Math.sqrt(1-e*e)}},{key:"CircularOut",value:function(e){return Math.sqrt(1- --e*e)}},{key:"CircularInOut",value:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},{key:"ElasticIn",value:function(e){var t,n=.1;return 0===e?0:1===e?1:(n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))}},{key:"ElasticOut",value:function(e){var t,n=.1;return 0===e?0:1===e?1:(n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)}},{key:"ElasticInOut",value:function(e){var t,n=.1;return 0===e?0:1===e?1:(n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)}},{key:"BackIn",value:function(e){var t=1.70158;return e*e*((t+1)*e-t)}},{key:"BackOut",value:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1}},{key:"BackInOut",value:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},{key:"BounceIn",value:function(e){return 1-this.BounceOut(1-e)}},{key:"BounceOut",value:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},{key:"BounceInOut",value:function(e){return e<.5?.5*this.BounceIn(2*e):.5*this.BounceOut(2*e-1)+.5}}]),e}(),D5=function(){function e(t){SH(this,e),this._targetPool=t.target||{},this._targetPool instanceof Array||(this._targetPool=[this._targetPool]),this._life=t.life||1e3,this._delay=t.delay||0,this._startTime=(new Date).getTime()+this._delay,this._endTime=this._startTime+1e3*this._life,this.loop=void 0!==t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this.CLASS_NAME="SuperMap.LevelRenderer.Animation.Clip"}return OH(e,[{key:"destroy",value:function(){}},{key:"step",value:function(e){var t=new F5,n=(e-this._startTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r="string"==typeof this.easing?t[this.easing]:this.easing,o="function"==typeof r?r(n):n;return this.fire("frame",o),1==n?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}}},{key:"restart",value:function(){var e=(new Date).getTime(),t=(e-this._startTime)%this._life;this._startTime=(new Date).getTime()-t+this.gap}},{key:"fire",value:function(e,t){for(var n=0,r=this._targetPool.length;n<r;n++)this["on"+e]&&this["on"+e](this._targetPool[n],t)}}]),e}(),G5=function(e){function t(e){var n;return PH(this,t),n=EH(this,kH(t).call(this,e)),e=e||{},n.stage={},n.onframe=function(){},n._clips=[],n._running=!1,n._time=0,hK.extend(xH(n),e),n.CLASS_NAME="SuperMap.LevelRenderer.Animation",n}return jH(t,e),TH(t,[{key:"add",value:function(e){
this._clips.push(e)}},{key:"remove",value:function(e){var t=(new L2).indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)}},{key:"_update",value:function(){for(var e=(new Date).getTime(),t=e-this._time,n=this._clips,r=n.length,o=[],i=[],a=0;a<r;a++){var s=n[a],l=s.step(e);l&&(o.push(l),i.push(s))}this.stage.update&&this.stage.update();for(var u=0;u<r;)n[u]._needsRemove?(n[u]=n[r-1],n.pop(),r--):u++;r=o.length;for(var c=0;c<r;c++)i[c].fire(o[c]);this._time=e,this.onframe(t),this.dispatch("frame",t)}},{key:"start",value:function(){function e(){n._running&&(n._update(),t(e))}var t=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){setTimeout(e,16)},n=this;this._running=!0,this._time=(new Date).getTime(),t(e)}},{key:"stop",value:function(){this._running=!1}},{key:"clear",value:function(){this._clips=[]}},{key:"animate",value:function(e,t){t=t||{};var n=new B5(e,t.loop,t.getter,t.setter);return n.animation=this,n}}],[{key:"_interpolateNumber",value:function(e,t,n){return(t-e)*n+e}},{key:"_interpolateArray",value:function(e,n,r,o,i){var a=e.length;if(1==i)for(var s=0;s<a;s++)o[s]=t._interpolateNumber(e[s],n[s],r);else for(var l=e[0].length,u=0;u<a;u++)for(var c=0;c<l;c++)o[u][c]=t._interpolateNumber(e[u][c],n[u][c],r)}},{key:"_isArrayLike",value:function(e){switch(_H(e)){case"undefined":case"string":return!1}return void 0!==e.length}},{key:"_catmullRomInterpolateArray",value:function(e,n,r,o,i,a,s,l,u){var c=e.length;if(1==u)for(var f=0;f<c;f++)l[f]=t._catmullRomInterpolate(e[f],n[f],r[f],o[f],i,a,s);else for(var p=e[0].length,h=0;h<c;h++)for(var y=0;y<p;y++)l[h][y]=t._catmullRomInterpolate(e[h][y],n[h][y],r[h][y],o[h][y],i,a,s)}},{key:"_catmullRomInterpolate",value:function(e,t,n,r,o,i,a){var s=.5*(n-e),l=.5*(r-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*i+s*o+t}},{key:"_cloneValue",value:function(e){var n=Array.prototype.slice;if(t._isArrayLike(e)){var r=e.length;if(t._isArrayLike(e[0])){for(var o=[],i=0;i<r;i++)o.push(n.call(e[i]));return o}return n.call(e)}return e}},{key:"rgba2String",value:function(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}}]),t}(K2),B5=function(){function e(t,n,r,o){function i(e,t){return e[t]}function a(e,t,n){e[t]=n}PH(this,e),this._tracks={},this._target=t,this._loop=n||!1,this._getter=r||i,this._setter=o||a,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[],this.CLASS_NAME="SuperMap.LevelRenderer.Animation.Animator"}return TH(e,[{key:"when",value:function(e,t){for(var n in t)this._tracks[n]||(this._tracks[n]=[],0!==e&&this._tracks[n].push({time:0,value:G5._cloneValue(this._getter(this._target,n))})),this._tracks[n].push({time:parseInt(e,10),value:t[n]});return this}},{key:"during",value:function(e){return this._onframeList.push(e),this}},{key:"start",value:function(e){var t=this,n=this._setter,r=this._getter,o=t._onframeList.length,i="spline"===e,a=function(){if(0===--t._clipCount){t._tracks={};for(var e=t._doneList.length,n=0;n<e;n++)t._doneList[n].call(t)}};for(var s in this._tracks)!function(s,l){var u=s.length;if(u){var c=s[0].value,f=G5._isArrayLike(c),p=!1,h=f&&G5._isArrayLike(c[0])?2:1;s.sort(function(e,t){return e.time-t.time});for(var y=s[u-1].time,d=[],v=[],m=0;m<u;m++){d.push(s[m].time/y);var b=s[m].value;"string"==typeof b&&(b=u5.Util_color.toArray(b),0===b.length&&(b[0]=b[1]=b[2]=0,b[3]=1),p=!0),v.push(b)}var g,S,w,O,_,P,C,T=0,E=0;if(p)var k=[0,0,0,0];var x=function(e,a){if(a<E){for(g=Math.min(T+1,u-1),S=g;S>=0&&!(d[S]<=a);S--);S=Math.min(S,u-2)}else{for(S=T;S<u&&!(d[S]>a);S++);S=Math.min(S-1,u-2)}T=S,E=a;var s=d[S+1]-d[S];if(0!==s){if(w=(a-d[S])/s,i)if(_=v[S],O=v[0===S?S:S-1],P=v[S>u-2?u-1:S+1],C=v[S>u-3?u-1:S+2],f)G5._catmullRomInterpolateArray(O,_,P,C,w,w*w,w*w*w,r(e,l),h);else{var c;c=p?G5.rgba2String(k):G5._catmullRomInterpolate(O,_,P,C,w,w*w,w*w*w),n(e,l,c)}else if(f)G5._interpolateArray(v[S],v[S+1],w,r(e,l),h);else{var y;p?(G5._interpolateArray(v[S],v[S+1],w,k,1),y=G5.rgba2String(k)):y=G5._interpolateNumber(v[S],v[S+1],w),n(e,l,y)}for(S=0;S<o;S++)t._onframeList[S](e,a)}},j=new D5({target:t._target,life:y,loop:t._loop,delay:t._delay,onframe:x,ondestroy:a});e&&"spline"!==e&&(j.easing=e),t._clipList.push(j),t._clipCount++,t.animation.add(j)}}(this._tracks[s],s);return this}},{key:"stop",value:function(){for(var e=0;e<this._clipList.length;e++){var t=this._clipList[e];this.animation.remove(t)}this._clipList=[]}},{key:"delay",value:function(e){return this._delay=e,this}},{key:"done",value:function(e){return e&&this._doneList.push(e),this}}]),e}(),U5=function(){function e(t,n){RH(this,e),this.id=t,this.storage=new L5,this.painter=new N5(n,this.storage),this.handler=new I5(n,this.storage,this.painter),this.animatingElements=[],this.animation=new G5({stage:{update:e.getFrameCallback(this)}}),this._needsRefreshNextFrame=!1,this.animation.start(),this.CLASS_NAME="SuperMap.LevelRenderer.Render"}return NH(e,[{key:"destroy",value:function(){this.id=null,this.storage=null,this.painter=null,this.handler=null,this.animatingElements=null,this.animation=null,this._needsRefreshNextFrame=null}},{key:"getId",value:function(){return this.id}},{key:"addShape",value:function(e){return this.storage.addRoot(e),this}},{key:"addGroup",value:function(e){return this.storage.addRoot(e),this}},{key:"delShape",value:function(e){return this.storage.delRoot(e),this}},{key:"delGroup",value:function(e){return this.storage.delRoot(e),this}},{key:"modShape",value:function(e,t){return this.storage.mod(e,t),this}},{key:"modGroup",value:function(e,t){return this.storage.mod(e,t),this}},{key:"modLayer",value:function(e,t){return this.painter.modLayer(e,t),this}},{key:"addHoverShape",value:function(e){return this.storage.addHover(e),this}},{key:"render",value:function(e){return this.painter.render(e),this._needsRefreshNextFrame=!1,this}},{key:"refresh",value:function(e){return this.painter.refresh(e),this._needsRefreshNextFrame=!1,this}},{key:"refreshNextFrame",value:function(){return this._needsRefreshNextFrame=!0,this}},{key:"refreshHover",value:function(e){return this.painter.refreshHover(e),this}},{key:"refreshShapes",value:function(e,t){return this.painter.refreshShapes(e,t),this}},{key:"resize",value:function(){return this.painter.resize(),this}},{key:"animate",value:function(e,t,n){if("string"==typeof e&&(e=this.storage.get(e)),e){var r;if(t){for(var o=t.split("."),i=e,a=0,s=o.length;a<s;a++)i&&(i=i[o[a]]);i&&(r=i)}else r=e;if(!r)return void u5.Util_log('Property "'+t+'" is not existed in element '+e.id);var l=this.animatingElements;return void 0===e.__aniCount&&(e.__aniCount=0),0===e.__aniCount&&l.push(e),e.__aniCount++,this.animation.animate(r,{loop:n}).done(function(){if(0===--e.__aniCount){var t=(new L2).indexOf(l,e);l.splice(t,1)}})}u5.Util_log("Element not existed")}},{key:"clearAnimation",value:function(){this.animation.clear()}},{key:"getWidth",value:function(){return this.painter.getWidth()}},{key:"getHeight",value:function(){return this.painter.getHeight()}},{key:"toDataURL",value:function(e,t,n){return this.painter.toDataURL(e,t,n)}},{key:"shapeToImage",value:function(e,t,n){var r=hK.createUniqueID("SuperMap.LevelRenderer.ToImage_");return this.painter.shapeToImage(r,e,t,n)}},{key:"on",value:function(e,t){return this.handler.on(e,t),this}},{key:"un",value:function(e,t){return this.handler.un(e,t),this}},{key:"trigger",value:function(e,t){return this.handler.trigger(e,t),this.handler.dispatch(e,t),this}},{key:"clear",value:function(){return this.storage.delRoot(),this.painter.clear(),this}},{key:"dispose",value:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=null,this.animatingElements=null,this.storage=null,this.painter=null,this.handler=null}},{key:"updateHoverShapes",value:function(e){return this.painter.updateHoverLayer(e),this}},{key:"getAllShapes",value:function(){return this.storage._shapeList}},{key:"clearAll",value:function(){return this.clear(),this.painter.clearHover(),this}},{key:"getHoverOne",value:function(){return this.handler.getLastHoverOne()}}],[{key:"getFrameCallback",value:function(e){return function(){var t=e.animatingElements;if(t instanceof Array){for(var n=0,r=t.length;n<r;n++)e.storage.mod(t[n].id);(t.length||e._needsRefreshNextFrame)&&e.refresh()}}}}]),e}(),H5=function(){function e(){MH(this,e),e._instances={},e.Tool={},this.version="2.0.4",this.CLASS_NAME="SuperMap.LevelRenderer"}return FH(e,[{key:"destroy",value:function(){this.dispose(),this.version=null}},{key:"init",value:function(t){var n=new U5(hK.createUniqueID("LRenderer_"),t);return e._instances[n.id]=n,n}},{key:"dispose",value:function(t){if(t)t.dispose(),this.delInstance(t.id);else{for(var n in e._instances)e._instances[n].dispose();e._instances={}}return this}},{key:"getInstance",value:function(t){return e._instances[t]}},{key:"delInstance",value:function(t){return delete e._instances[t],this}}]),e}();rX.LevelRenderer=H5;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var J5={EXCEL:"EXCEL",CSV:"CSV",ISERVER:"ISERVER",GEOJSON:"GEOJSON",JSON:"JSON"},z5={fileMaxSize:10485760},V5=function(){function e(t){DH(this,e),this.FileTypes=J5,this.FileConfig=z5,this.loadFileObject=t&&t.loadFileObject?t.loadFileObject:[]}return BH(e,[{key:"set",value:function(e,t){this[e]=t}},{key:"get",value:function(e){return this[e]}}]),e}(),W5=function(){function e(){UH(this,e),this._initView()}return JH(e,[{key:"_initView",value:function(){var e=document.createElement("div");e.hidden=!0,e.setAttribute("class","component-messageboxcontainer component-border-bottom-orange");var t=document.createElement("div");t.setAttribute("class","icon"),this.icon=document.createElement("span"),this.icon.setAttribute("class","supermapol-icons-message-warning"),t.appendChild(this.icon),e.appendChild(t);var n=document.createElement("div");n.setAttribute("class","component-messagebox"),n.innerHTML="",e.appendChild(n),this.messageBox=n;var r=document.createElement("div");r.setAttribute("class","component-messagebox__cancelbtncontainer");var o=document.createElement("button");o.setAttribute("class","component-messagebox__cancelBtn"),o.innerHTML="x",o.onclick=this.closeView.bind(this),r.appendChild(o),e.appendChild(r),this.messageBoxContainer=e,document.body.appendChild(this.messageBoxContainer)}},{key:"closeView",value:function(){this.messageBoxContainer.hidden=!0}},{key:"showView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warring";"success"===t?(this.icon.setAttribute("class","supermapol-icons-message-success"),this.messageBoxContainer.setAttribute("class","component-messageboxcontainer component-border-bottom-green")):"failure"===t?(this.icon.setAttribute("class","supermapol-icons-message-failure"),this.messageBoxContainer.setAttribute("class","component-messageboxcontainer component-border-bottom-red")):"warring"===t&&(this.icon.setAttribute("class","supermapol-icons-message-warning"),this.messageBoxContainer.setAttribute("class","component-messageboxcontainer component-border-bottom-orange")),this.messageBox.innerHTML=e,this.messageBoxContainer.hidden=!1}}]),e}();rX.Components.MessageBox=W5;var q5=n(10),Y5=n.n(q5),Q5={code:null,defaultCode:"en-US",getCode:function(){return rX.Lang.code||rX.Lang.setCode(),rX.Lang.code},setCode:function(){var e=this.getLanguageFromCookie();if(e)return void(rX.Lang.code=e);e=rX.Lang.defaultCode,e="Netscape"===navigator.appName?navigator.language:navigator.browserLanguage,0===e.indexOf("zh")&&(e="zh-CN"),0===e.indexOf("en")&&(e="en-US"),rX.Lang.code=e},getLanguageFromCookie:function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var n=e[t];" "===n.charAt(0);)n=n.substring(1);if(-1!==n.indexOf("language="))return n.substring("language=".length,n.length)}return""},i18n:function(e){var t=rX.Lang[rX.Lang.getCode()],n=t&&t[e];return n||(n=e),n}};rX.Lang=Q5,rX.i18n=rX.Lang.i18n;var X5=n(5),K5=n.n(X5),Z5={rABS:"undefined"!=typeof FileReader&&FileReader.prototype&&FileReader.prototype.readAsBinaryString,rABF:"undefined"!=typeof FileReader&&FileReader.prototype&&FileReader.prototype.readAsArrayBuffer,rAT:"undefined"!=typeof FileReader&&FileReader.prototype&&FileReader.prototype.readAsText,readFile:function(e,t,n,r,o){J5.JSON===e||J5.GEOJSON===e?this.readTextFile(t,n,r,o):J5.EXCEL!==e&&J5.CSV!==e||this.readXLSXFile(t,n,r,o)},readTextFile:function(e,t,n,r){var o=new FileReader;o.onloadend=function(e){t&&t.call(r,e.target.result)},o.onerror=function(e){n&&n.call(r,e)},this.rAT?o.readAsText(e.file,"utf-8"):o.readAsBinaryString(e.file)},readXLSXFile:function(e,t,n,r){var o=new FileReader;o.onloadend=function(e){var o=new Uint8Array(e.target.result),i=K5.a.read(o,{type:"array"});try{if(i&&i.SheetNames&&i.SheetNames.length>0){var a=i.SheetNames[0],s=K5.a.utils.sheet_to_csv(i.Sheets[a]);t&&t.call(r,s)}}catch(e){n&&n.call(r,e)}},o.onerror=function(e){n&&n.call(r,e)},this.rABF&&o.readAsArrayBuffer(e.file)},processDataToGeoJson:function(e,t,n,r,o){var i=null;if("EXCEL"===e||"CSV"===e)i=this.processExcelDataToGeoJson(t),n&&n.call(o,i);else if("JSON"===e||"GEOJSON"===e){var a=t;"string"==typeof a&&(a=JSON.parse(a)),"ISERVER"===a.type?i=a.data.recordsets[0].features:"FeatureCollection"===a.type?i=a:r&&r.call(o,Q5.i18n("msg_dataInWrongGeoJSONFormat")),n&&n.call(o,i)}else r&&r.call(o,Q5.i18n("msg_dataInWrongFormat"))},processExcelDataToGeoJson:function(e){for(var t=this.string2Csv(e),n=t.colTitles,r=-1,o=-1,i=0,a=n.length;i<a;i++)this.isXField(n[i])&&(r=i),this.isYField(n[i])&&(o=i);for(var s=[],l=0,u=t.rows.length;l<u;l++){var c=t.rows[l],f=Number(c[r]),p=Number(c[o]),h={};for(var y in t.colTitles){h[t.colTitles[y]]=t.rows[l][y]}var d={type:"Feature",geometry:{type:"Point",coordinates:[f,p]},properties:h};s.push(d)}return s},isXField:function(e){var t=e.toLowerCase();return"x"===t||"smx"===t||"jd"===t||"经度"===t||"东经"===t||"longitude"===t||"lot"===t||"lon"===t||"lng"===t||"x坐标"===t},isYField:function(e){var t=e.toLowerCase();return"y"===t||"smy"===t||"wd"===t||"纬度"===t||"北纬"===t||"latitude"===t||"lat"===t||"y坐标"===t},string2Csv:function(e,t){var n=e.split("\n"),r={};r.colTitles=t?[]:n[0].split(","),r.rows=[];for(var o=t?0:1;o<n.length;o++)n[o]&&r.rows.push(n[o].split(","));return r}};rX.Components.FileReaderUtil=Z5;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $5=function(){function e(t){zH(this,e),this.datasets=t,this.EVENT_TYPES=["getdatafailed"],this.events=new jK(this,null,this.EVENT_TYPES)}return WH(e,[{key:"getDatasetInfo",value:function(e){var t=this.datasets.url,n=this;KK.get(t).then(function(e){return e.json()}).then(function(t){if(t.datasetInfo){var r=t.datasetInfo;n.datasetsInfo={dataSourceName:r.dataSourceName,datasetName:r.name,mapName:t.name},e({result:n.datasetsInfo})}}).catch(function(e){console.log(e),n._fireFailedEvent(e)})}},{key:"getDataFeatures",value:function(e,t){var n,r,o,i=e.result,a={name:i.datasetName+"@"+i.dataSourceName};Object.assign(a,this.datasets.queryInfo),n=new rX.FilterParameter(a),r=new rX.GetFeaturesBySQLParameters({queryParameter:n,datasetNames:[i.dataSourceName+":"+i.datasetName],fromIndex:0,toIndex:1e5}),o=new rX.GetFeaturesBySQLService(i.dataUrl,{eventListeners:{processCompleted:t,processFailed:function(){}}}),o.processAsync(r)}},{key:"getLayerFeatures",value:function(e,t){var n,r,o,i=e.result,a={name:i.mapName};Object.assign(a,this.datasets.queryInfo),n=new rX.FilterParameter(a),r=new rX.QueryBySQLParameters({queryParams:[n],expectCount:1e5}),o=new rX.QueryBySQLService(i.dataUrl,{eventListeners:{processCompleted:t,processFailed:function(){}}}),o.processAsync(r)}},{key:"getDataInfoByIptl",value:function(e){this.getServiceInfo(this.datasets.url,e)}},{key:"getServiceInfo",value:function(e,t){var n=this;KK.get(e,null,{withCredentials:this.datasets.withCredentials}).then(function(e){return e.json()}).then(function(r){if(!1===r.succeed)return void n._fireFailedEvent(r);if(!(r.dataItemServices&&r.dataItemServices.length>0))return void n.getDatafromContent(e,t);var o,i=r.dataItemServices;i.forEach(function(r){if("RESTDATA"===r.serviceType&&"PUBLISHED"===r.serviceStatus)o=r;else{if("RESTMAP"!==r.serviceType||"PUBLISHED"!==r.serviceStatus)return void n.getDatafromContent(e,t);o=r}}),o&&n.getDatafromRest(o.serviceType,o.address,t)}).catch(function(e){console.log(e),n._fireFailedEvent(e)})}},{key:"getDatafromContent",value:function(e,t){var n=this,r={result:{}},o=this;e+="/content.json?pageSize=9999999&currentPage=1",KK.get(e,null,{withCredentials:this.datasets.withCredentials}).then(function(e){return e.json()}).then(function(e){if(!1===e.succeed)return void o._fireFailedEvent(e);if(e.type){if("JSON"===e.type||"GEOJSON"===e.type){if(e.content=JSON.parse(e.content.trim()),!e.content.features)return void console.log(Q5.i18n("msg_jsonResolveFiled"));var i=n._formatGeoJSON(e.content);r.result.features={type:e.content.type,features:i}}else if("EXCEL"===e.type||"CSV"===e.type){var a=n._excelData2Feature(e.content);r.result.features={type:"FeatureCollection",features:a}}t(r,"content")}},this).catch(function(e){console.log(e),o._fireFailedEvent(e)})}},{key:"getDatafromRest",value:function(e,t,n){var r=this,o=this.datasets.withCredentials;if("RESTDATA"===e){var i,a,s="".concat(t,"/data/datasources");KK.get(s,null,{withCredentials:o}).then(function(e){return e.json()}).then(function(e){i=e.datasourceNames[0],s="".concat(t,"/data/datasources/").concat(i,"/datasets"),KK.get(s,null,{withCredentials:o}).then(function(e){return e.json()}).then(function(e){return a=e.datasetNames[0],r.getDatafromRestData("".concat(t,"/data"),[i+":"+a],n),[i+":"+a]}).catch(function(e){r._fireFailedEvent(e)})}).catch(function(e){r._fireFailedEvent(e)})}else{var l,u,c,f="".concat(t,"/maps");KK.get(f,null,{withCredentials:o}).then(function(e){return e.json()}).then(function(e){l=e[0].name,c=e[0].path,f=f="".concat(t,"/maps/").concat(l,"/layers"),KK.get(f,null,{withCredentials:o}).then(function(e){return e.json()}).then(function(e){return u=e[0].subLayers.layers[0].caption,r.getDatafromRestMap(u,c,n),u}).catch(function(e){r._fireFailedEvent(e)})}).catch(function(e){r._fireFailedEvent(e)})}}},{key:"getDatafromRestData",value:function(e,t,n){var r=this;this.datasets.queryInfo.attributeFilter=this.datasets.queryInfo.attributeFilter||"SmID>0",this._getFeatureBySQL(e,t,this.datasets.queryInfo,function(e){n(e,"RESTDATA")},function(e){console.log(e),r._fireFailedEvent(e)})}},{key:"getDatafromRestMap",value:function(e,t,n){var r=this;this.datasets.queryInfo.attributeFilter=this.datasets.queryInfo.attributeFilter||"smid=1",this._queryFeatureBySQL(t,e,this.datasets.queryInfo,null,null,function(e){n(e,"RESTMAP")},function(e){console.log(e),r._fireFailedEvent(e)})}},{key:"_getFeatureBySQL",value:function(e,t,n,r,o){var i,a,s,l={name:t.join().replace(":","@")};Object.assign(l,n),i=new LZ(l),s=new u0({queryParameter:i,datasetNames:t,fromIndex:0,toIndex:1e5,returnContent:!0}),a=new c0(e,{eventListeners:{processCompleted:function(e){r&&r(e)},processFailed:function(e){o&&o(e)}}}),a.processAsync(s)}},{key:"_queryFeatureBySQL",value:function(e,t,n,r,o,i,a,s,l,u){var c,f,p={name:t};Object.assign(p,n),c=new LZ(p),r&&(c.fields=r);var h={queryParams:[c]};u&&(h.queryOption=sX.ATTRIBUTE),s&&(h.startRecord=s),l&&(h.expectCount=l),o&&(h.prjCoordSys={epsgCode:o}),f=new S1(h),this._queryBySQL(e,f,function(e){"processCompleted"===e.type?i(e):a(e)})}},{key:"_queryBySQL",value:function(e,t,n,r){var o=this;new w1(e,{eventListeners:{scope:o,processCompleted:n,processFailed:n},format:o._processFormat(r)}).processAsync(t)}},{key:"_processFormat",value:function(e){return e||oX.GEOJSON}},{key:"_formatGeoJSON",value:function(e){var t=e.features;return t.forEach(function(e,t){e.properties.index=t}),t}},{key:"_excelData2Feature",value:function(e){for(var t=e.colTitles,n=-1,r=-1,o=0,i=t.length;o<i;o++)Z5.isXField(t[o])&&(n=o),Z5.isYField(t[o])&&(r=o);for(var a=[],s=0,l=e.rows.length;s<l;s++){var u=e.rows[s],c=Number(u[n]),f=Number(u[r]),p={};for(var h in e.colTitles){p[e.colTitles[h]]=e.rows[s][h]}p.index=s+"";var y={type:"Feature",geometry:{type:"Point",coordinates:[c,f]},properties:p};a.push(y)}return a}},{key:"_fireFailedEvent",value:function(e){var t=e?{error:e,message:Q5.i18n("msg_getdatafailed")}:{message:Q5.i18n("msg_getdatafailed")};this.events.triggerEvent("getdatafailed",t)}}]),e}(),e3=function(){function e(t){qH(this,e),this.datasets=t.datasets,this.xField=[],this.yField=[],this.grid={top:"50px",bottom:"50px",left:"50px",right:"60px"},this.chartType=t.type||"bar",this._initXYField(t.chartOptions),this.EVENT_TYPES=["getdatafailed"],this.events=new jK(this,null,this.EVENT_TYPES)}return QH(e,[{key:"_initXYField",value:function(e){var t=this;e&&e.length>0&&e.forEach(function(e){e.xAxis&&t.xField.push({field:e.xAxis.field,name:e.xAxis.name}),e.yAxis&&t.yField.push({field:e.yAxis.field,name:e.yAxis.name})})}},{key:"getDatasetInfo",value:function(e){var t=this;this.createChart=e,this.datasets&&this._checkUrl(this.datasets.url)&&(this.chartModel=new $5(this.datasets),"iServer"===this.datasets.type?this.chartModel.getDatasetInfo(this._getDatasetInfoSuccess.bind(this)):"iPortal"===this.datasets.type&&this.chartModel.getDataInfoByIptl(this._getDataInfoSuccess.bind(this)),this.chartModel.events.on({getdatafailed:function(e){t.events.triggerEvent("getdatafailed",e)}}))}},{key:"_getDatasetInfoSuccess",value:function(e){var t=this.datasets.url,n=t.indexOf("rest");if(n>0){var r=t.indexOf("/",n+5),o=t.substring(n+5,r),i=t.substring(0,n+4)+"/data";if("maps"===o){var a=t.indexOf("/",r+1),s=t.substring(r+1,a);i=t.substring(0,n+4)+"/maps/"+s,e.result.dataUrl=i,this._getLayerFeatures(e)}else"data"===o&&(e.result.dataUrl=i,this._getDataFeatures(e))}}},{key:"_getDataInfoSuccess",value:function(e,t){var n=this;"RESTMAP"===t?n._getChartDatasFromLayer(e):n._getChartDatas(e)}},{key:"_getDataFeatures",value:function(e){this.chartModel.getDataFeatures(e,this._getChartDatas.bind(this))}},{key:"_getLayerFeatures",value:function(e){this.chartModel.getLayerFeatures(e,this._getChartDatasFromLayer.bind(this))}},{key:"_getChartDatas",value:function(e){if(e){this.features=e.result.features;var t=this.features.features,n={};if(t.length){var r=t[0],o=[],i=[];for(var a in r.properties)o.push(a),i.push(this._getDataType(r.properties[a]));n={features:t,fieldCaptions:o,fieldTypes:i,fieldValues:[]};for(var s in i){var l=[];for(var u in t){var c=t[u],f=n.fieldCaptions[s],p=c.properties[f];l.push(p)}n.fieldValues.push(l)}this.createChart(n)}}}},{key:"_getChartDatasFromLayer",value:function(e){if(e.result.recordsets){var t=e.result.recordsets[0],n=t.features.features;this.features=t.features;var r={};if(n.length){r={features:t.features,fieldCaptions:t.fieldCaptions,fieldTypes:t.fieldTypes,fieldValues:[]};for(var o in r.fieldCaptions){var i=[];for(var a in n){var s=n[a],l=r.fieldCaptions[o],u=s.properties[l];i.push(u)}r.fieldValues.push(i)}this.createChart(r)}}}},{key:"_createChartOptions",value:function(e){return this.calculatedData=this._createChartDatas(e),this.updateChartOptions(this.chartType)}},{key:"changeType",value:function(e){if(e!==this.chartType)return this.chartType=e,this.updateChartOptions(this.chartType)}},{key:"updateData",value:function(e,t,n){this.updateChart=n,this.xField=[],this.yField=[],this._initXYField(t),e.type=e.type||"iServer",e.withCredentials=e.withCredentials||!1,this.datasets=e,this.getDatasetInfo(this._updateDataSuccess.bind(this))}},{key:"_updateDataSuccess",value:function(e){var t=this._createChartOptions(e);this.updateChart(t)}},{key:"updateChartOptions",value:function(e,t){if(this.calculatedData){var n=this.grid,r=this._createChartSeries(this.calculatedData,e),o=[];for(var i in this.calculatedData.XData)o.push({value:this.calculatedData.XData[i].fieldsData});var a={type:"category",name:this.xField[0].name||"X",data:o,nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{lineStyle:{color:"#eee"}}},s={type:"value",name:this.yFieldName||"Y",data:{},nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{lineStyle:{color:"#eee"}}},l={formatter:"{b0}: {c0}"},u="#404a59";return t&&(t.grid&&(n=t.grid),t.tooltip&&(l=t.tooltip),t.backgroundColor&&(u=t.backgroundColor)),{backgroundColor:u,grid:n,series:r,xAxis:a,yAxis:s,tooltip:l}}}},{key:"_createChartDatas",value:function(e){var t=0,n=[],r=e.fieldCaptions,o=this;r.forEach(function(e,n){o.xField[0]&&e===o.xField[0].field&&(t=n)}),this.yFieldName="",this.yField.forEach(function(e,t){0!==t&&(o.yFieldName=o.yFieldName+","),o.yFieldName=o.yFieldName+e.name,r.forEach(function(t,r){t===e.field&&n.push(r)})});var i=this._getAttrData(e,t),a=[];if(n.length>0)n.forEach(function(t){var n=[];for(var r in e.fieldValues[t])n.push({value:e.fieldValues[t][r]});a.push(n)});else{for(var s=[],l=[],u=i.length,c=0;c<u;c++){for(var f=!1,p=0,h=l.length;p<h;p++)if(i[c].fieldsData===l[p].fieldsData){s[p].value++,l[p].recordIndexs.push(c),f=!0;break}f||i[c].fieldsData&&(l.push({fieldsData:i[c].fieldsData,recordIndexs:[c]}),s.push({value:1}))}i=l,a=[s]}return{XData:i,YData:a}}},{key:"_getAttrData",value:function(e,t){0===t&&(this.xField=[{field:e.fieldCaptions[t],name:e.fieldCaptions[t]}]);for(var n=[],r=0,o=e.fieldValues[t].length;r<o;r++){var i=e.fieldValues[t][r];n.push({recordIndexs:r,fieldsData:i})}return n}},{key:"_createChartSeries",value:function(e,t){var n=[];return e.YData.forEach(function(e){var r=0,o=[],i=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0)r=l.value.value,o.push({value:r})}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}var c={type:t,data:o,name:"y"};n.push(c)}),n}},{key:"_isDate",value:function(e){return/((^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(10|12|0?[13578])([-\/\._])(3[01]|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(11|0?[469])([-\/\._])(30|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(0?2)([-\/\._])(2[0-8]|1[0-9]|0?[1-9])$)|(^([2468][048]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([3579][26]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][13579][26])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][13579][26])([-\/\._])(0?2)([-\/\._])(29)$))/gi.test(e)}},{key:"_isNumber",value:function(e){var t=Number(e);return 0===t||!isNaN(t)}},{key:"_getDataType",value:function(e){if(null!==e&&void 0!==e&&""!==e){if(this._isDate(e))return"DATE";if(this._isNumber(e))return"NUMBER"}return"STRING"}},{key:"_checkUrl",value:function(e){return!(""===e||!this._isMatchUrl(e))&&(!/^http[s]?:\/\/localhost/.test(e)&&!/^http[s]?:\/\/127.0.0.1/.test(e))}},{key:"_isMatchUrl",value:function(e){return new RegExp("(https?|http|file|ftp)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]").test(e)}},{key:"getStyle",value:function(){return{grid:this.grid,tooltip:this.tooltip,backgroundColor:this.backgroundColor}}},{key:"getFeatures",value:function(){return this.features}},{key:"setStyle",value:function(e){return this.updateChartOptions(this.chartType,e)}}]),e}();rX.Components.ChartViewModel=e3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var t3=function(){function e(t,n){XH(this,e),this.domID=t,this.chartType=n.type||"bar",n.datasets.type=n.datasets.type||"iServer",n.datasets.withCredentials=n.datasets.withCredentials||!1,this.viewModel=new e3(n),this._fillDataToView()}return ZH(e,[{key:"onAdd",value:function(e){this.addChart=e}},{key:"_fillDataToView",value:function(){var e=new W5;this.viewModel.getDatasetInfo(this._createChart.bind(this)),this.viewModel.events.on({getdatafailed:function(t){e.showView(t.message)}})}},{key:"getStyle",value:function(){return this.viewModel.getStyle()}},{key:"getFeatures",value:function(){return this.viewModel.getFeatures()}},{key:"setStyle",value:function(e){var t=this.viewModel.setStyle(e);this._updateChart(t)}},{key:"changeType",value:function(e){if(this.chartType!==e){this.chartType=e;var t=this.viewModel.changeType(e);this._updateChart(t)}}},{key:"updateData",value:function(e,t){var n=this;this.viewModel.updateData(e,t,function(e){n._updateChart(e),n.addChart&&n.addChart()})}},{key:"_createChart",value:function(e){this.echart=Y5.a.init(document.getElementById(this.domID),null,{renderer:"canvas"});var t=this.viewModel._createChartOptions(e);this.echart.setOption(t),this.addChart&&this.addChart()}},{key:"_updateChart",value:function(e){this.echart&&(this.echart.clear(),this.echart.setOption(e))}}]),e}();rX.Components.Chart=t3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at/r* http://www.apache.org/licenses/LICENSE-2.0.html.*/
var n3=function(){function e(t){$H(this,e),t=t||{},this.id=t.id?t.id:null,this.rootContainer=null}return tJ(e,[{key:"getElement",value:function(){return this.id&&(this.rootContainer.id=this.id),this.rootContainer}},{key:"_initView",value:function(){}},{key:"showView",value:function(){this.rootContainer.hidden=!1}},{key:"closeView",value:function(){this.rootContainer.hidden=!0}}]),e}();rX.Components.TemplateBase=n3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var r3=function(e){function t(e){var n;rJ(this,t),n=aJ(this,lJ(t).call(this,e));var r=e.title?e.title:"";return n._initView(r),n}return uJ(t,e),iJ(t,[{key:"_initView",value:function(e){var t=document.createElement("div");t.setAttribute("class","component-container");var n=document.createElement("div");n.setAttribute("class","component-title");var r=document.createElement("div");r.innerHTML=e,n.appendChild(r),t.appendChild(n);var o=document.createElement("div");return o.setAttribute("class","component-content"),t.appendChild(o),this.content=o,this.rootContainer=t,t}},{key:"getContentElement",value:function(){return this.content}},{key:"appendContent",value:function(e){this.content.appendChild(e)}}]),t}(n3);rX.Components.CommonContainer=r3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var o3=function(e){function t(e){var n;return pJ(this,t),n=dJ(this,mJ(t).call(this,e)),n._initView(e),n}return bJ(t,e),yJ(t,[{key:"_initView",value:function(e){var t=this._createElement("div","component-selecttool");if(e.labelName){this._createElement("label","component-selecttool__lable--describe",t).innerHTML=e.labelName}var n=this._createElement("div","component-selecttool--chart",t);n.setAttribute("tabindex","1");var r=this._createElement("div","component-selecttool__name",n);r.title=e.optionsArr[0],r.innerHTML=e.optionsArr[0];var o=this._createElement("div","component-selecttool__trianglebtn--chart",n),i=this._createElement("div","component-triangle-down-img",o),a=this._createElement("div","component-selecttool__content",n),s=this._createElement("div","component-selecttool__content--chart",a),l=this._createElement("div","component-selecttool__scrollarea__content",s);l.setAttribute("tabindex","1"),this.createOptions(l,e.optionsArr),this.optionClickEvent(l,r,e.optionsClickCb),this._selectClickEvent(n,a,i),this.rootContainer=t}},{key:"createOptions",value:function(e,t){for(var n in t){var r=this._createElement("div","component-selecttool__option",e);r.title=t[n],r.innerHTML=t[n]}}},{key:"_selectClickEvent",value:function(e,t,n){e.onclick=function(e){"block"===t.style.display?(t.style.display="none",n.className="component-triangle-down-img"):(t.style.display="block",n.className="triangle-up-img"),e.preventDefault(),e.stopPropagation()},e.onmousedown=function(e){e.target!==this&&(this.focus(),e.preventDefault(),e.stopPropagation())},e.onblur=function(){t.style.display="none",n.className="component-triangle-down-img"}}},{key:"_createElement",value:function(e,t,n){var r=document.createElement(e||"div");return t&&(r.className=t),n&&n.appendChild(r),r}},{key:"optionClickEvent",value:function(e,t,n){for(var r=0;r<e.children.length;r++)!function(r){var o=e.children[r];o.onclick=function(){t.innerHTML=o.innerHTML,t.title=o.title,o.getAttribute("data-value")&&t.setAttribute("data-value",o.getAttribute("data-value")),n&&n(o)}}(r)}}]),t}(n3);rX.Components.Select=o3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var i3=function(e){function t(e){var n;return wJ(this,t),n=PJ(this,TJ(t).call(this,e)),n._initView(e),n}return EJ(t,e),_J(t,[{key:"_initView",value:function(e){var t=document.createElement("div");t.className="component-dropdownbox--container";var n=document.createElement("div");n.setAttribute("tabindex","1"),n.className="component-dropdownbox",t.appendChild(n);var r=document.createElement("div");n.appendChild(r),this._createDropDownOption(e[0],r);var o=document.createElement("div");o.className="component-dropdownbox__triangle-btn",n.appendChild(o);var i=document.createElement("div");i.className="component-triangle-down-img",o.appendChild(i);var a={parentEle:n,dropDownContent:["component-dropdownbox__content component-dropdownbox__content--chart","dropDownContent"],scrollareaContent:"component-selecttool__scrollarea__content",optionsArr:e,triangleBtn:i,dropDownTopContainer:r};this._createDropDownBox(a),this.rootContainer=t}},{key:"_createDropDownBox",value:function(e){var t=e.parentEle,n=e.dropDownTopContainer,r=document.createElement("div");r.className=e.dropDownContent[0],t.appendChild(r);var o=document.createElement("div");o.className=e.scrollareaContent,r.appendChild(o);for(var i=e.optionsArr,a=0;a<i.length;a++)this._createDropDownOption(i[a],o);var s=e.triangleBtn;this._dropDownClickEvent(t,r,s),this._eleOnblur(t,r,s);for(var l=o.children,u=0;u<l.length;u++)!function(e){l[e].onclick=function(){n.innerHTML=l[e].outerHTML}}(u)}},{key:"_createDropDownOption",value:function(e,t){var n=document.createElement("div");n.className="component-dropdownbox__item";var r=e;r.dataValue&&n.setAttribute("data-value",r.dataValue),t.appendChild(n);var o=document.createElement("div");o.className="component-dropdownbox__item__img",n.appendChild(o);var i=document.createElement("div");r.icon.className&&(i.className=r.icon.className),r.icon.background&&(i.style.background=r.icon.background),o.appendChild(i);var a=document.createElement("div");a.className="component-dropdownbox__item__title",a.title=r.title,a.innerHTML=r.title,n.appendChild(a);var s=document.createElement("div");s.className="component-dropdownbox__item__remark",s.title=r.remark,s.innerHTML=r.remark,n.appendChild(s)}},{key:"_dropDownClickEvent",value:function(e,t,n){e.onclick=function(e){"block"===t.style.display?(t.style.display="none",n.className="component-triangle-down-img"):(t.style.display="block",n.className="triangle-up-img"),e.preventDefault(),e.stopPropagation()},e.onmousedown=function(e){e.target!==this&&(this.focus(),e.preventDefault(),e.stopPropagation())}}},{key:"_eleOnblur",value:function(e,t,n){e.onblur=function(){t.style.display="none",n.className="component-triangle-down-img"}}},{key:"_createElement",value:function(e,t,n){var r=document.createElement(e||"div");return t&&(r.className=t),n&&n.appendChild(r),r}}]),t}(n3);rX.Components.DropDownBox=i3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var a3=function(e){function t(e){var n;return jJ(this,t),e=e||{},n=LJ(this,MJ(t).call(this,e)),e.title=e.title?e.title:"",n._initView(e.title),n}return IJ(t,e),RJ(t,[{key:"_initView",value:function(e){var t=document.createElement("div");t.setAttribute("class","component-popcontainer");var n=document.createElement("div");n.setAttribute("class","component-popcontainer__header");var r=document.createElement("label");r.setAttribute("class","component-popcontainer__header__title"),r.innerHTML=e,n.appendChild(r);var o=document.createElement("span");o.setAttribute("class","supermapol-icons-clear component-popcontainer__header__close"),o.onclick=this.closeView.bind(this),t.appendChild(o),t.appendChild(n);var i=document.createElement("div");i.setAttribute("class","component-popcontainer__content"),this.content=i,t.appendChild(i),this.rootContainer=t}},{key:"appendContent",value:function(e){this.content.appendChild(e)}}]),t}(n3);rX.Components.PopContainer=a3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var s3=function(e){function t(e){var n;return GJ(this,t),e.title=e.title?e.title:"属性",n=HJ(this,zJ(t).call(this,e)),n.rootContainer.firstChild.hidden=!0,e.attributes=e.attributes?e.attributes:[],n._createAttributesTable(e.attributes),n}return VJ(t,e),UJ(t,[{key:"_createAttributesTable",value:function(e){var t=document.createElement("table");t.setAttribute("class","component-popcontainer__content__table");var n=document.createElement("tbody"),r=!0;for(var o in e){var i=document.createElement("tr");r&&i.setAttribute("class","component-popcontainer__content__td--color");var a=document.createElement("td"),s=document.createElement("Span");s.innerHTML=o,a.appendChild(s);var l=document.createElement("td");l.innerHTML=e[o],i.appendChild(a),i.appendChild(l),n.appendChild(i),r=!r}t.appendChild(n),this.appendContent(t)}}]),t}(a3);rX.Components.AttributesPopContainer=s3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var l3=function(e){function t(e){var n;return YJ(this,t),n=KJ(this,$J(t).call(this,e)),n._initView(),n}return ez(t,e),XJ(t,[{key:"_initView",value:function(){var e=document.createElement("div");e.setAttribute("class","component-tabpage");var t=document.createElement("ul");this.header=t;var n=document.createElement("div");n.setAttribute("class","component-tabpage__content"),this.content=n,e.appendChild(t),e.appendChild(n),this.rootContainer=e}},{key:"setTabs",value:function(e){this.removeAllTabs(),this.appendTabs(e)}},{key:"appendTabs",value:function(e){for(var t=0;t<e.length;t++){var n=document.createElement("span");n.index=t,n.appendChild(document.createTextNode(e[t].title)),n.onclick=this._changeTabsPage.bind(this);var r=e[t].content;r.index=t,r.hidden=!0,this.header.appendChild(n),this.content.appendChild(r)}this.header.firstChild.setAttribute("class","on"),this.content.firstChild.hidden=!1}},{key:"removeTab",value:function(e){this.header.removeChild(this.header.children[e]),this.content.removeChild(this.content.children[e])}},{key:"removeAllTabs",value:function(){for(var e=this.header.children.length;e>0;e--)this.header.removeChild(this.header.children[e]),this.content.removeChild(this.content.children[e])}},{key:"_changeTabsPage",value:function(e){for(var t=e.target.index,n=0;n<this.header.children.length;n++)this.header.children[n].setAttribute("class",""),this.content.children[n].hidden=!0,n===t&&(this.header.children[n].setAttribute("class","on"),this.content.children[n].hidden=!1)}}]),t}(n3);rX.Components.IndexTabsPageContainer=l3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var u3=function(e){function t(e){var n;return rz(this,t),n=az(this,lz(t).call(this,e)),n.rootContainer.classList.add("component-citytabpage--noneBoxShadow"),n.config=e.config,hK.isArray(n.config)?(n.header.hidden=!0,n._createCityItem("城市",n.config),n.content.style.border="none"):(n._createTabs(),n.header.onclick=function(e){for(var t=0;t<n.header.children.length;t++)n.header.children[t].setAttribute("class","");e.target.setAttribute("class","on"),n._createCityContent(e.target.innerHTML)}),n}return uz(t,e),iz(t,[{key:"_createTabs",value:function(){if(hK.isArray(this.config))for(var e=0;e<this.config.length;e++){var t="";for(var n in this.config[e])t+=n;var r=document.createElement("li");r.innerHTML=t,this.header.appendChild(r)}else for(var o in this.config){var i=document.createElement("li");i.innerHTML=o,this.header.appendChild(i)}this.header.firstChild.setAttribute("class","on"),this._createCityContent(this.header.firstChild.innerHTML)}},{key:"_createCityContent",value:function(e){for(var t=this.content.children.length;t>0;t--)this.content.removeChild(this.content.children[t-1]);var n=this.config[e];for(var r in n)this._createCityItem(r,n[r])}},{key:"_createCityItem",value:function(e,t){var n=document.createElement("div"),r=document.createElement("div");r.setAttribute("class","component-citytabpag__py-key"),r.innerHTML=e,n.appendChild(r);var o=document.createElement("div");o.setAttribute("class","component-citytabpag__content");for(var i=0;i<t.length;i++){var a=document.createElement("span");a.innerHTML=t[i],o.appendChild(a)}"HOT"===e&&(o.style.width="428px"),n.appendChild(o),this.content.appendChild(n)}}]),t}(l3);rX.Components.CityTabsPage=u3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c3=function(e){function t(e){var n;return pz(this,t),n=dz(this,mz(t).call(this,e)),n.navTabsTitle=null,n.navTabsContent=null,e.tabs=e.tabs?e.tabs:[],n._initView(e.tabs),n}return bz(t,e),yz(t,[{key:"_initView",value:function(e){var t=document.createElement("div");t.setAttribute("class","component-navtabspage");var n=document.createElement("span");n.setAttribute("class","supermapol-icons-close"),n.onclick=this.closeView.bind(this),t.appendChild(n);var r=document.createElement("div");this.navTabsTitle=r,r.setAttribute("class","component-navtabspage__title"),t.appendChild(r);var o=document.createElement("div");this.navTabsContent=o,o.setAttribute("class","component-navtabspage__content"),t.appendChild(o),e.length>0&&this.appendTabs(e),this.rootContainer=t}},{key:"setTabs",value:function(e){this.removeAllTabs(),this.appendTabs(e)}},{key:"appendTabs",value:function(e){for(var t=0;t<e.length;t++){var n=document.createElement("span");n.index=t,n.appendChild(document.createTextNode(e[t].title)),n.onclick=this._changeTabsPage.bind(this);var r=e[t].content;r.index=t,r.hidden=!0,this.navTabsTitle.appendChild(n),this.navTabsContent.appendChild(r)}this.navTabsTitle.firstChild.setAttribute("class","component-navtabspage__tabs--select"),this.navTabsContent.firstChild.hidden=!1}},{key:"removeTab",value:function(e){this.navTabsTitle.removeChild(this.navTabsTitle.children[e]),this.navTabsContent.removeChild(this.navTabsContent.children[e])}},{key:"removeAllTabs",value:function(){for(var e=this.navTabsTitle.children.length;e>0;e--)this.navTabsTitle.removeChild(this.navTabsTitle.children[e]),this.navTabsContent.removeChild(this.navTabsContent.children[e])}},{key:"_changeTabsPage",value:function(e){for(var t=e.target.index,n=0;n<this.navTabsTitle.children.length;n++)this.navTabsTitle.children[n].setAttribute("class",""),this.navTabsContent.children[n].hidden=!0,n===t&&(this.navTabsTitle.children[n].setAttribute("class","component-navtabspage__tabs--select"),this.navTabsContent.children[n].hidden=!1)}}]),t}(n3);rX.Components.NavTabsPage=c3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var f3=function(e){function t(e){var n;return wz(this,t),e=e||{},n=Pz(this,Tz(t).call(this,e)),n.currentPage=0,n.pageNumberLis=[],n.currentPageNumberLis=[],n.linkageEvent=null,e.contents=e.contents?e.contents:null,e.pageCounts=e.pageCounts?e.pageCounts:0,n._initView(e.contents,e.pageCounts),n}return Ez(t,e),_z(t,[{key:"setLinkageEvent",value:function(e){this.linkageEvent=e}},{key:"_initView",value:function(e,t){var n=document.createElement("div");n.setAttribute("class","component-pagination");var r=document.createElement("div");r.setAttribute("class","component-pagination__content"),n.appendChild(r),this.content=r;var o=document.createElement("ul");o.setAttribute("class","component-pagination__link"),o.onclick=this._changePageEvent.bind(this),n.appendChild(o),this._createLink(o),this.link=o,e&&this.setContent(e),0!==t&&this.setPageLink(t),this.rootContainer=n}},{key:"setContent",value:function(e){this.clearContent(),this.appendContent(e)}},{key:"appendContent",value:function(e){this.content.appendChild(e)}},{key:"clearContent",value:function(){for(var e=this.content.children.length-1;e>=0;e--)this.content.removeChild(this.content.children[e])}},{key:"setPageLink",value:function(e){this.pageNumberLis=[],this.currentPageNumberLis=[],this.clearPageLink(),this._createPageLi(e),this._appendPageLink()}},{key:"_createPageLi",value:function(e){for(var t=0;t<e;t++){var n=document.createElement("li");n.innerHTML=t+1,this.pageNumberLis.push(n)}if(this.pageNumberLis[0].setAttribute("class","active"),this.currentPage=1,e<5)this.currentPageNumberLis=this.pageNumberLis;else for(var r=0;r<5;r++)this.currentPageNumberLis.push(this.pageNumberLis[r])}},{key:"_appendPageLink",value:function(){for(var e=0;e<this.currentPageNumberLis.length;e++)this.link.insertBefore(this.currentPageNumberLis[e],this.link.childNodes[this.link.children.length-2]);for(var t=0;t<this.currentPageNumberLis.length;t++)this.currentPageNumberLis[t].setAttribute("class",""),Number(this.currentPageNumberLis[t].innerHTML)===this.currentPage&&this.currentPageNumberLis[t].setAttribute("class","active");this._changeDisableState(),this.linkageEvent&&this.linkageEvent(this.currentPage)}},{key:"clearPageLink",value:function(){for(var e=this.link.children.length-3;e>1;e--)this.link.removeChild(this.link.children[e])}},{key:"_createLink",value:function(e){for(var t=0;t<4;t++){var n=document.createElement("li");n.setAttribute("class","disable");var r=document.createElement("span");n.appendChild(r),0===t?(r.id="first",r.setAttribute("class","supermapol-icons-first")):1===t?(r.id="prev",r.setAttribute("class","supermapol-icons-prev")):2===t?(r.id="next",r.setAttribute("class","supermapol-icons-next")):3===t&&(r.id="last",r.setAttribute("class","supermapol-icons-last")),e.appendChild(n)}}},{key:"_changePageEvent",value:function(e){var t=e.target;if("disable"!==t.parentElement.classList[0]){var n;if(t.id)n=t.id;else{if(!Number(t.innerHTML))return;n=Number(t.innerHTML)}this._prePageNum(n),this.clearPageLink(),this._appendPageLink()}}},{key:"_changeDisableState",value:function(){this.link.children[0].setAttribute("class",""),this.link.children[1].setAttribute("class",""),this.link.children[this.link.children.length-1].setAttribute("class",""),this.link.children[this.link.children.length-2].setAttribute("class",""),1===this.currentPage&&(this.link.children[0].setAttribute("class","disable"),this.link.children[1].setAttribute("class","disable")),this.currentPage===this.pageNumberLis.length&&(this.link.children[this.link.children.length-1].setAttribute("class","disable"),this.link.children[this.link.children.length-2].setAttribute("class","disable"))}},{key:"_prePageNum",value:function(e){var t=[];if(this.currentPage="first"===e?1:"last"===e?this.pageNumberLis.length:"prev"===e?this.currentPage-1:"next"===e?this.currentPage+1:e,this.pageNumberLis.length<=5)for(var n=0;n<this.pageNumberLis.length;n++)t.push(this.pageNumberLis[n]);else if(this.currentPage<=3)for(var r=0;r<5;r++)t.push(this.pageNumberLis[r]);else if(this.currentPage>=this.pageNumberLis.length-3)for(var o=this.pageNumberLis.length-5;o<this.pageNumberLis.length;o++)t.push(this.pageNumberLis[o]);else for(var i=this.currentPage-3;i<=this.currentPage+1;i++)t.push(this.pageNumberLis[i]);t.length>0&&(this.currentPageNumberLis=t)}}]),t}(n3);rX.Components.PaginationContainer=f3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var p3={getFileType:function(e){var t=/^.*\.(?:csv)$/i,n=/^.*\.(?:xls|xlsx)$/i,r=/^.*\.(?:geojson|json)$/i;return n.test(e)?J5.EXCEL:t.test(e)?J5.CSV:r.test(e)?J5.GEOJSON:null}},h3={title_dataFlowService:"Data Flow Service",title_distributedAnalysis:"Distributed Analysis",title_clientComputing:"Client Computing",title_dataServiceQuery:"Data Service Query",title_searchCity:"Search city",title_searchLayer:" Search layer",text_input_value_inputDataFlowUrl:"Please enter the data stream service address such as: ws://{serviceRoot}/{dataFlowName}/dataflow/subscribe",text_displayFeaturesInfo:"Display feature information",text_subscribe:"subscribe",text_cancelSubscribe:"unsubscribe",text_densityAnalysis:"Density Analysis",text_CalculateTheValuePerUnitArea:"Calculate the value per unit area within the neighborhood shape",text_option_selectDataset:"Please select a dataset",text_label_dataset:"Dataset",text_option_simplePointDensityAnalysis:"Simple point density analysis",text_option_nuclearDensityAnalysis:"Nuclear density analysis",text_label_analyticalMethod:"Analytical method",text_option_quadrilateral:"Quadrilateral",text_option_hexagon:"hexagon",text_label_meshType:"Mesh type",text_option_notSet:"Not set",text_label_weightField:"Weight field",text_label_gridSizeInMeters:"Grid size",text_label_searchRadius:"Search radius",text_label_queryRange:"Scope of analysis",text_label_areaUnit:"Area unit",text_option_equidistantSegmentation:"Equidistant segmentation",text_option_logarithm:"Logarithm",text_option_equalCountingSegment:"Equal counting segment",text_option_squareRootSegmentation:"Square root segmentation",text_label_thematicMapSegmentationMode:"Thematic map segmentation mode",text_label_thematicMapSegmentationParameters:"Thematic map segmentation parameters",text_option_greenOrangePurpleGradient:"Green orange purple gradient",text_option_greenOrangeRedGradient:"Green orange red gradient",text_option_rainbowGradient:"Rainbow gradient",text_option_spectralGradient:"Spectral gradient",text_option_terrainGradient:"Terrain gradient",text_label_thematicMapColorGradientMode:"Thematic map color gradient mode",text_label_resultLayerName:"Result layer name",text_chooseFile:"Open File",text_isoline:"Isoline",text_extractDiscreteValue:"Extract discrete value generation curve",text_buffer:"Buffer",text_specifyTheDistance:"Specify the distance to create the surrounding area",text_label_analysisLayer:"Analysis layer",text_label_extractField:"Extract field",text_label_extractedValue:"Extracted value",text_label_distanceAttenuation:"Distance attenuation",text_label_gridSize:"gridSize",text_label_bufferRadius:"Buffer radius",text_label_defaultkilometers:"Default 10 kilometers",text_label_kilometer:"kilometer",text_label_unit:"unit",text_retainOriginal:"Retain original object field",text_mergeBuffer:"Merge buffer",text_label_color:"Color",text_label_buffer:"[Buffer]",text_label_isolines:"[Isolines]",text_label_queryRangeTips:"The default is the full range of input data. Example: -74.050, 40.650, -73.850, 40.850",text_label_queryModel:"Query mode",text_label_IDArrayOfFeatures:"ID array of features",text_label_maxFeatures:"The maximum number of features that can be returned",text_label_bufferDistance:"Buffer distance",text_label_queryRange1:"Query range",text_label_spatialQueryMode:"Spatial query mode",text_label_featureFilter:"Feature filter",text_label_geometricObject:"Geometric object",text_label_queryMode:"Query mode",text_label_searchTips:"Search for city locations or layer features",text_label_chooseSearchLayers:"Select a query layer",text_loadSearchCriteria:"Load search criteria",text_saveSearchCriteria:"Save search criteria",btn_analyze:"Analyze",btn_analyzing:"Analyzing",btn_emptyTheAnalysisLayer:"Empty the analysis layer",btn_cancelAnalysis:"Cancel",btn_query:"Query",btn_querying:"Querying",btn_emptyTheRresultLayer:"Clear all result layers","msg_dataReturnedIsEmpty.":"The request is successful and the data returned by the query is empty.",msg_dataFlowServiceHasBeenSubscribed:"The data stream service has been subscribed to.",msg_inputDataFlowUrlFirst:"Please enter the data stream service address first.",msg_datasetOrMethodUnsupport:"This dataset does not support this analysis type. Please reselect the dataset.",msg_selectDataset:"Please select a data set!",msg_setTheWeightField:"Please set the weight field!",msg_theFieldNotSupportAnalysis:"The field you currently select does not support analysis!",msg_resultIsEmpty:"The result of the analysis is empty!",msg_openFileFail:"Failed to open file!",msg_fileTypeUnsupported:"File format is not supported!",msg_fileSizeExceeded:"File size exceeded! The file size should not exceed 10M!",msg_dataInWrongGeoJSONFormat:"Wrong data format! Non standard GEOJSON format data!",msg_dataInWrongFormat:"Wrong data format! Non standard EXCEL, CSV or GEOJSON format data!",msg_searchKeywords:"Search keywords cannot be empty. Please enter your search criteria.",msg_searchGeocodeField:"Did not match the address matching service data!",msg_cityGeocodeField:"The address matching service of the current city is not configured.",msg_getFeatureField:"No related vector features found!",msg_dataflowservicesubscribed:"The data stream service has been subscribed to.",msg_subscribesucceeded:"The data stream service subscription was successful.",msg_crsunsupport:"Does not support the coordinate system of the current map",msg_tilematrixsetunsupport:"Incoming TileMatrixSet is not supported",msg_jsonResolveFiled:"JSON format parsing failure！",msg_requestContentFiled:"Failed to request data through iportal!",msg_getdatafailed:"Failed to get data!"};rX.Lang["en-US"]=h3;/* CCopyright© 2000 - 2019 SuperMapSoftware Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var y3={title_dataFlowService:"数据流服务",title_distributedAnalysis:"分布式分析",title_clientComputing:"客户端计算",title_dataServiceQuery:"数据服务查询",title_searchCity:"搜索城市",title_searchLayer:"搜索图层",text_input_value_inputDataFlowUrl:"请输入数据流服务地址如:ws://{serviceRoot}/{dataFlowName}/dataflow/subscribe",text_displayFeaturesInfo:"显示要素信息",text_subscribe:"订阅",text_cancelSubscribe:"取消订阅",text_densityAnalysis:"密度分析",text_CalculateTheValuePerUnitArea:"计算点指定邻域形状内的每单位面积量值",text_option_selectDataset:"请选择数据集",text_label_dataset:"数据集",text_option_simplePointDensityAnalysis:"简单点密度分析",text_option_nuclearDensityAnalysis:"核密度分析",text_label_analyticalMethod:"分析方法",text_option_quadrilateral:"四边形",text_option_hexagon:"六边形",text_label_meshType:"网格面类型",text_option_notSet:"未设置",text_label_weightField:"权重字段",text_label_gridSizeInMeters:"网格大小",text_label_searchRadius:"搜索半径",text_label_queryRange:"分析范围",text_label_areaUnit:"面积单位",text_option_equidistantSegmentation:"等距离分段",text_option_logarithm:"对数",text_option_equalCountingSegment:"等计数分段",text_option_squareRootSegmentation:"平方根分段",text_label_thematicMapSegmentationMode:"专题图分段模式",text_label_thematicMapSegmentationParameters:"专题图分段参数",text_option_greenOrangePurpleGradient:"绿橙紫渐变",text_option_greenOrangeRedGradient:"绿橙红渐变",text_option_rainbowGradient:"彩虹渐变",text_option_spectralGradient:"光谱渐变",text_option_terrainGradient:"地形渐变",text_label_thematicMapColorGradientMode:"专题图颜色渐变模式",text_label_resultLayerName:"结果图层名称",text_chooseFile:"选择文件",text_isoline:"等值线",text_extractDiscreteValue:"提取离散值生成曲线",text_buffer:"缓冲区",text_specifyTheDistance:"指定距离创建周边区域",text_label_analysisLayer:"分析图层",text_label_extractField:"提取字段",text_label_extractedValue:"提取值",text_label_distanceAttenuation:"距离衰减",text_label_gridSize:"栅格大小",text_label_bufferRadius:"缓冲半径",text_label_defaultkilometers:"默认10千米",text_option_kilometer:"千米",text_label_unit:"单位",text_retainOriginal:"保留原对象字段属性",text_mergeBuffer:"合并缓冲区",text_label_color:"颜色",text_label_buffer:"[缓冲区]",text_label_isolines:"[等值线]",text_label_queryRangeTips:"默认为输入数据的全幅范围。范例：-74.050,40.650,-73.850,40.850",text_label_IDArrayOfFeatures:"要素 ID 数组",text_label_maxFeatures:"最多可返回的要素数量",text_label_bufferDistance:"缓冲区距离",text_label_queryRange1:"查询范围",text_label_spatialQueryMode:"空间查询模式",text_label_featureFilter:"要素过滤器",text_label_geometricObject:"几何对象",text_label_queryMode:"查询模式",text_label_searchTips:"搜索城市地点或图层要素",text_label_chooseSearchLayers:"选择查询图层",text_loadSearchCriteria:"加载搜索条件",text_saveSearchCriteria:"保存搜索条件",btn_analyze:"分析",btn_analyzing:"分析中",btn_emptyTheAnalysisLayer:"清空分析图层",btn_cancelAnalysis:"取消",btn_query:"查询",btn_querying:"查询中",btn_emptyTheRresultLayer:"清除所有结果图层",msg_dataFlowServiceHasBeenSubscribed:"已订阅该数据流服务。",msg_inputDataFlowUrlFirst:"请先输入数据流服务地址。",msg_datasetOrMethodUnsupport:"该数据集不支持本分析类型，请重新选择数据集",msg_selectDataset:"请选择数据集！",msg_setTheWeightField:"请设置权重字段！",msg_theFieldNotSupportAnalysis:"您当前选择的字段不支持分析！",msg_resultIsEmpty:"分析的结果为空！",msg_dataReturnedIsEmpty:"请求成功，查询返回的数据为空。",msg_openFileFail:"打开文件失败！",msg_fileTypeUnsupported:"不支持该文件格式！",msg_fileSizeExceeded:"文件大小超限！文件大小不得超过 10M！",msg_dataInWrongGeoJSONFormat:"数据格式错误！非标准的 GEOJSON 格式数据！",msg_dataInWrongFormat:"数据格式错误！非标准的 EXCEL, CSV 或 GEOJSON 格式数据！",msg_searchKeywords:"搜索关键字不能为空，请输入搜索条件。",msg_searchGeocodeField:"未匹配到地址匹配服务数据！",msg_cityGeocodeField:"未配置当前城市的地址匹配服务。",msg_getFeatureField:"未查找到相关矢量要素！",msg_dataflowservicesubscribed:"已订阅该数据流服务。",msg_subscribesucceeded:"数据流服务订阅成功。",msg_crsunsupport:"不支持当前地图的坐标系",msg_tilematrixsetunsupport:"不支持传入的TileMatrixSet",msg_jsonResolveFiled:"json格式解析失败！",msg_requestContentFiled:"通过iportal请求数据失败！",msg_getdatafailed:"获取数据失败！"};rX.Lang["zh-CN"]=y3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var d3=n(0),v3=n.n(d3),m3=function(){function e(e,t){e.onAdd(t)}function t(e){e.removeFromMap()}function n(e,t){e.setVisibility(t)}function r(e,t){var n=document.getElementById(e);if(t){var r=document.getElementById(t);r||v3.a.Evented.prototype.fire("error",{error:new Error('Layer with id "'.concat(t,'" does not exist on this document.'))})}n&&r?r.parentNode.insertBefore(n,r):n.parentNode.appendChild(n)}v3.a.Map.prototype.overlayLayersManager={},v3.a.Map.prototype.addLayerBak=v3.a.Map.prototype.addLayer,v3.a.Map.prototype.addLayer=function(t,n){return t.source||"custom"===t.type?(this.addLayerBak(t,n),this):this.overlayLayersManager[t.id]||this.style._layers[t.id]?void this.fire("error",{error:new Error("A layer with this id already exists.")}):(e(t,this),this.overlayLayersManager[t.id]=t,this)},v3.a.Map.prototype.getLayer=function(e){return this.overlayLayersManager[e]?this.overlayLayersManager[e]:this.style.getLayer(e)},v3.a.Map.prototype.moveLayer=function(e,t){return this.overlayLayersManager[e]?(r(e,t),this):this.style._layers[e]?(this.style.moveLayer(e,t),this._update(!0),this):void 0},v3.a.Map.prototype.removeLayer=function(e){return this.overlayLayersManager[e]?(t(this.overlayLayersManager[e]),delete this.overlayLayersManager[e],this):(this.style.removeLayer(e),this._update(!0),this)},v3.a.Map.prototype.setLayoutProperty=function(e,t,r){return this.overlayLayersManager[e]?("visibility"===t&&(r="visible"===r,n(this.overlayLayersManager[e],r),this.style.fire("data",{dataType:"style"})),this):(this.style.setLayoutProperty(e,t,r),this._update(!0),this)},v3.a.Map.prototype.updateTransform=function(e,t,n,r,o,i,a){this.transform.units=e,this.transform.latRange=[this._tileExtent[1],this._tileExtent[3]],this.transform.lngRange=[this._tileExtent[0],this._tileExtent[2]];var s=this.mercatorZfromAltitude;v3.a.MercatorCoordinate.fromLngLat=function(e,r){r=r||0;var o=v3.a.LngLat.convert(e);return new v3.a.MercatorCoordinate((o.lng-t)/i,(n-o.lat)/a,s(r,o.lat))},v3.a.MercatorCoordinate.prototype.toLngLat=function(){return new v3.a.LngLat(this.x*i+t,n-this.y*a)},this.customConvertPoint=window.URL.createObjectURL(new Blob(["customConvertPoint = {projectX:function(x){return (x - "+r+") / "+i+" + 0.5},projectY:function(y){y = 0.5 - ((y - "+o+") / "+a+");return y < 0 ? 0 : y > 1 ? 1 : y;},toY:function(y){return (0.5-y)*"+a+"+"+o+";}}"],{type:"text/javascript"}))}}();/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
v3.a.supermap=v3.a.supermap||{};/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b3=function(){function e(t){xz(this,e),this.imageUrl=null,this.link=null,this.width=null,this.height=null,this.alt="SuperMap iClient",this._extend(this,t)}return Az(e,[{key:"onAdd",value:function(e){this._map=e,this._container=document.createElement("div"),this._container.className="mapboxgl-ctrl iclient-logo",this._container.style.marginTop=0,this._container.style.marginBottom=0,this._container.style.marginLeft=0,this._container.style.marginRight=0;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAAAdCAYAAAAjHtusAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozYWZlOGIwMi01MWE3LTRiZjYtYWVkYS05MGQ2ZTQ4YjZiMmUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODg0NkFBQUE3RjEzMTFFNzhFRjJFQkY4RjcxQjc1NjIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODg0NkFBQTk3RjEzMTFFNzhFRjJFQkY4RjcxQjc1NjIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4MWI3NzdhNC1lZmEyLTQ1MzUtOGQzNi03MmRjNDkyODMzN2UiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjYTYzODVjMi1jNDQ1LTExN2EtYTc0ZC1lM2I5MzJlMGE4Y2QiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5q1HM0AAAF/ElEQVR42tSabYhUVRjHZ7W01C1uaCRW4F3oi9SXCUnwQ9gsGUFvOEtQH1bLu5VS9sbYh5KicjYt29qiGQwVg2xWWKgocob91AvC+CWsoJqB3qHMSdTMpZyeU/+Df07n3pk7997Z6cBv99z7nHvOvf/z/pxJNZvNVI/jCKXmv6EquAmVkxPSlvtp2GItr0/96fFQForChJAWDiVYTkMYMu4XBFcYjLOwWS3sNwmn8NGzZ0h4Flv/zwIdchAnh/slCGmmKUNIBzYPaXOUr0vPuEjD71JAPh7l61embzinhV3V8nnCGmGT8LwlzSL8/yUh4Tfjo9T/CgnCIYNKycA2Qq21AcHU/VHE80Idoo3Qs0W6p0UtUnkZvEMDeVcCyqxEafF7hL8Qf0oYsIj+lfC9cH1CwhchWAGCtZO+AooQOkdC1Km1VtCb63StW73uFSzgKFUkNwBbmZGGmqowhvg8ZNpH9oXChcIcYRdeNomgxLkaH+S1SGubAxyIpFv+Zp+0DYjrAS00j/dem2VGEl6FJ4Qa4quEu8j2hTCJ+GJhe4JjfQMf6JCYPPbysMPxBlp0BUKOogEF9Rg9/heNvNKYfM0KsZUZaYxX4STGrzJa+zbhPeFH2DcK10KItcI+pI0rVElwXl1ULaKnIJhDw0oRQpTQc1zcbwRU8ATy4DR6yMlTzwkqMziEWHvubJ4Nk4ZtHdnqwvwY17xq3Z4FjrG+z2Kdrdf2ZSGD+xlLPh6t1R0jP9fI22ZzKI92yvQl7EbmBxI4S7Y+vIAOL87QZqsc5uNnssxZIcfYjXT9snCR7jjobidp+FkxA2v+Cq1QervMDmp4P7Xs3YZtE9kOC3P/By6JGaETl8ElwueYTNTDq4UDsKnd7YfCNbT239LF1udS72xYJt1UWxNfN4IIP4bWuTpEja01JtMFZFsm/AHbtHBlDE6yasA4moYTrUbvdBTXHqUrAH4uSadbyzF+vbBM2IsNkS3MNa5305JxqfA02T4TnkX8XOH1mPw8ruVejpxbI9hZD2Cz1U7LdrrUvjP/WfZinNZhr6V27hP+FPZh9aLvLxVO4DllX0G2OcKnlO/DCblxaz6uXBtmi+8mBaP3/SP8IuEIiTRoPPQm2TaEmEyXo0JU+F0YiPFD0hhOsiE/vqeEVwyTgF8L51OilcIZ2I4Ll5NttvAJPfukUeB2sk0ZPSbKIUUJpCII7+DasWy08uhNNazT0wGHI7mAtB7KqMKm38HhDdAUibTVKGicbB8YAqrJ9DRsp43JdB4qUof1HQrPE6XTQWu3Ce/inVzjXhXpMiTwUYugNVQ+p80jrUsV5EH0POKeuXO9QjhFq5GryNYvfEMCDhsftYVsB9ETtG0V9ZjfhCURhbcJFpfwVZ9jvhxsLHwTYtp2svlWQw3vXL8UnqHVSIG8l8ex+tHhBXgjddgqHEZ8ufAA2aaEnYgrF/KrPXrEmMUqZ9THLW06xhoBaVueQpkug+ewOUphE3Qv2Q5gGamXYa+QbVq4O+DQ5FHyZqrjxNt7UHh9uuRa0F7HjCF8o9PCTOGnscM7g2u1Hl9C9oeEnxC/1ajZg8JLiM9Hj9GHJseMShwL2DO0G5yEWn3Zh1QUods5CPkIoqlwAZxhXMsb6HrcEPBxchhdJ6wj29vCW4hfLOzo8J3rltYX50nXQAATSf/K4DEaGlTLvplsk/QCpoD60EQ7gLYZc8H9wq+I3yncEOEcNhuz6HWf3XEiwU/4Y8YEqVp2P10rt+8REvBGw026i4aDcbL9jF8r8Blmf4fCOzhViiscskygXRdehf3CO4hfigmTBXyQrl8TFtD1IzQX3CbcQrY3hPcRv4z8OmHPXwchVNln2MmE7BX6VwIFi/he6uxvb6JM3m0fdqvx/ATidxg2JeC7VDErAw5NzGfvwRJVheEIQ8Mg/pdwIM+UOmi9Q8ivCsrIy0tF+wVbEcLrd3Pb2XisEb4Tdlhsi4WP4RBbaLGrHfC3PrvMIezy9rTpGm5lz9LOMG15xvFxD/j5gjzjjDbMOzk+9zzt3v5bgAEAibzFeFHVgYkAAAAASUVORK5CYII=";this.imageUrl&&(t=this.imageUrl);var n=this.alt,r="94px",o="29px",i="width:"+r+";height:"+o+";";this.imageUrl&&(r=this.width,o=this.height,i="width:"+r+";height:"+o+";",r&&o||(i=""));var a=this.link||"http://iclient.supermap.io";return this._container.innerHTML="<a href='"+a+"' target='_blank'><img src="+t+" alt='"+n+"' style='"+i+"margin-bottom: 2px'></a>",this._createStyleSheet(),this._container}},{key:"_createStyleSheet",value:function(){var e=document.createElement("style");e.type="text/css",e.innerHTML=".iclient-logo{margin:0 !important;}.iclient-logo a{border: none;display: block;height:31px;}.iclient-logo img{border: none;white-space: nowrap}",document.getElementsByTagName("head")[0].appendChild(e)}},{key:"_extend",value:function(e){for(var t=0;t<Object.getOwnPropertyNames(arguments).length;t++){var n=Object.getOwnPropertyNames(arguments)[t];if("caller"!=n&&"callee"!=n&&"length"!=n&&"arguments"!=n){var r=arguments[n];if(r)for(var o=0;o<Object.getOwnPropertyNames(r).length;o++){var i=Object.getOwnPropertyNames(r)[o];"caller"!=n&&"callee"!=n&&"length"!=n&&"arguments"!=n&&(e[i]=r[i])}}}return e}}]),e}();v3.a.supermap.LogoControl=b3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var g3=function(){function e(){Rz(this,e)}return Nz(e,null,[{key:"toSuperMapGeometry",value:function(e){if(e&&e.type){return(new BK).read(e,"FeatureCollection")[0].geometry}}},{key:"toSuperMapBounds",value:function(e){return this.isArray(e)?new dK(e[0],e[1],e[2],e[3]):new dK(e.getWest(),e.getSouth(),e.getEast(),e.getNorth())}},{key:"toSuperMapPoint",value:function(e){return this.isArray(e)?new SK(e[0],e[1]):e.lng&&e.lat?new SK(e.lng,e.lat):new SK(e.geometry.coordinates[0],e.geometry.coordinates[1])}},{key:"toSuperMapPolygon",value:function(e){var t=e.getWest(),n=e.getEast(),r=e.getSouth(),o=e.getNorth();return new TK([new _K([new SK(t,r),new SK(n,r),new SK(n,o),new SK(t,o)])])}},{key:"isArray",value:function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{key:"toGeoJSON",value:function(e){if(e){return(new BK).toGeoJSON(e)}}},{key:"toProcessingParam",value:function(e){var t={};if(e.length<1)t="";else{for(var n=[],r=0;r<e.length;r++){var o={};o.x=e[r][0],o.y=e[r][1],n.push(o)}t.type="REGION",t.points=n}return t}},{key:"extend",value:function(e){for(var t=0;t<Object.getOwnPropertyNames(arguments).length;t++){var n=Object.getOwnPropertyNames(arguments)[t];if("caller"!=n&&"callee"!=n&&"length"!=n&&"arguments"!=n){var r=arguments[n];if(r)for(var o=0;o<Object.getOwnPropertyNames(r).length;o++){var i=Object.getOwnPropertyNames(r)[o];"caller"!=n&&"callee"!=n&&"length"!=n&&"arguments"!=n&&(e[i]=r[i])}}}return e}},{key:"isNumber",value:function(e){if(""===e)return!1;var t=Number(e);return 0===t||!isNaN(t)}},{key:"isString",value:function(e){return"string"==typeof e&&e.constructor===String}},{key:"newGuid",value:function(e){for(var t=e||32,n="",r=1;r<t;r++){n+=Math.floor(16*Math.random()).toString(16)}return n}},{key:"hexToRgba",value:function(e,t){var n=[],r=[];if(e=e.replace(/#/,""),3==e.length){for(var o=[],i=0;i<3;i++)o.push(e.charAt(i)+e.charAt(i));e=o.join("")}for(var a=0;a<6;a+=2)n[a]="0x"+e.substr(a,2),r.push(parseInt(Number(n[a])));return r.push(t),"rgba("+r.join(",")+")"}},{key:"isMatchAdministrativeName",value:function(e,t){if(this.isString(t)){var n=e.substr(0,2);return"张家"===n&&(n=e.substr(0,3)),!!t.match(new RegExp(n))}return!1}}]),e}();v3.a.supermap.Util=g3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var S3=function(){function e(t,n){Mz(this,e),this.geometry=t,this.attributes=n}return Fz(e,[{key:"toFeature",value:function(){var e=g3.toSuperMapGeometry(this.geometry),t=[];return this.geometry instanceof v3.a.LngLat?t=[this.geometry.lng,this.geometry.lat]:this.geometry instanceof v3.a.Point?t=[this.geometry.x,this.geometry.y]:3===this.geometry.length&&(e=new OK(this.geometry[0],this.geometry[1],this.geometry[2])),t.length>1&&(e=new SK(t[0],t[1])),new RK(e,this.attributes)}}]),e}();v3.a.supermap.ThemeFeature=S3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var w3=function(){function e(t,n){Dz(this,e);var r=n||{};this.name=t,this.id=r.id?r.id:hK.createUniqueID("themeLayer_"),this.opacity=r.opacity?r.opacity:1,this.visibility=!0,this.loadWhileAnimating=void 0===r.loadWhileAnimating||r.loadWhileAnimating,this.map=r.map?r.map:null,this.features=[],this.TFEvents=[],this.map&&this.map.addLayer(this)}return Bz(e,[{key:"onAdd",value:function(e){this.map=e,this._createCanvasContainer(),this.addTFEvents(),this.map.on("resize",this.resizeEvent.bind(this)),this.map.on("zoomstart",this.zoomStartEvent.bind(this)),this.map.on("zoomend",this.zoomEndEvent.bind(this)),this.map.on("rotatestart",this.rotateStartEvent.bind(this)),this.map.on("rotate",this.rotateEvent.bind(this)),this.map.on("rotateend",this.rotateEndEvent.bind(this)),this.map.on("dragend",this.dragEndEvent.bind(this)),this.map.on("movestart",this.moveStartEvent.bind(this)),this.map.on("move",this.moveEvent.bind(this)),this.map.on("moveend",this.moveEndEvent.bind(this)),this.map.on("remove",this.removeFromMap.bind(this)),this.refresh()}},{key:"refresh",value:function(){0!==this.features.length&&this.map&&this.redrawThematicFeatures(this.map.getBounds())}},{key:"_createCanvasContainer",value:function(){this.movingOffset=[0,0],this.mapContainer=this.map.getCanvasContainer(),this.div=document.createElement("div"),this.div.id=this.id,this.div.style.position="absolute";var e=this.map.getCanvasContainer(),t=this.map.getCanvas();this.mapContainer.style.perspective=this.map.transform.cameraToCenterDistance+"px",this.div.style.width=t.style.width,this.div.style.height=t.style.height,this.div.className="themeLayer",this.div.width=parseInt(t.width),this.div.height=parseInt(t.height),e.appendChild(this.div),this.setOpacity(this.opacity),this.levelRenderer=new H5,this.renderer=this.levelRenderer.init(this.div),this.renderer.clear()}},{key:"destroyFeatures",value:function(e){if(void 0==e&&(e=this.features),e){this.removeFeatures(e);for(var t=e.length-1;t>=0;t--)e[t].destroy()}}},{key:"setVisibility",value:function(e){e!==this.visibility&&(this.visibility=e,this.display(e),this.redrawThematicFeatures(this.map.getBounds()))}},{key:"display",value:function(e){this.div.style.display=e?"block":"none"}},{key:"setOpacity",value:function(e){if(e!==this.opacity){this.opacity=e;var t=this.div;hK.modifyDOMElement(t,null,null,null,null,null,null,e),null!==this.map&&v3.a.Evented.prototype.fire("changelayer",{layer:this,property:"opacity"})}}},{key:"addFeatures",value:function(e){}},{key:"removeFeatures",value:function(e){if(e&&0!==e.length){if(e===this.features)return this.removeAllFeatures();hK.isArray(e)||(e=[e]);for(var t=[],n=e.length-1;n>=0;n--){var r=e[n],o=hK.indexOf(this.features,r);-1!==o?this.features.splice(o,1):t.push(r)}for(var i=[],a=0,s=this.features.length;a<s;a++)r=this.features[a],i.push(r);this.features=[],this.addFeatures(i),this.renderer&&this.redrawThematicFeatures(this.map.getBounds());var l=0==t.length;v3.a.Evented.prototype.fire("featuresremoved",{features:t,succeed:l})}}},{key:"removeAllFeatures",value:function(){this.renderer&&this.renderer.clear(),this.features=[],v3.a.Evented.prototype.fire("featuresremoved",{features:[],succeed:!0})}},{key:"getFeatures",value:function(){for(var e=this.features.length,t=new Array(e),n=0;n<e;++n)t[n]=this.features[n];return t}},{key:"getFeatureBy",value:function(e,t){var n=null;for(var r in this.features)if(this.features[r][e]===t){n=this.features[r];break}return n}},{key:"getFeatureById",value:function(e){return this.getFeatureBy("id",e)}},{key:"getFeaturesByAttribute",value:function(e,t){var n,r=[];for(var o in this.features)(n=this.features[o])&&n.attributes&&n.attributes[e]===t&&r.push(n);return r}},{key:"redrawThematicFeatures",value:function(e){}},{key:"on",value:function(e,t,n){return this.renderer?this.renderer.on(e,t):this.map.on(e,t),this}},{key:"off",value:function(e,t,n){var r=this;return r.renderer?r.renderer.off(e,t):this.map.off(e,t),this}},{key:"addTFEvents",value:function(){for(var e=this.TFEvents,t=e.length,n=0;n<t;n++)this.renderer.on(e[n][0],e[n][1])}},{key:"getLocalXY",value:function(e){var t,n=this.map;if(e instanceof SK||e instanceof OK){var r=n.project(new v3.a.LngLat(e.x,e.y));t=[r.x,r.y]}if(e instanceof yK){var o=n.project(new v3.a.LngLat(e.lon,e.lat));t=[o.x,o.y]}return t}},{key:"toiClientFeature",value:function(e){hK.isArray(e)||(e=[e]);for(var t=[],n=0;n<e.length;n++)if(e[n]instanceof S3)t.push(e[n].toFeature());else if(e[n]instanceof RK)t.push(e[n]);else if(-1!=["FeatureCollection","Feature","Geometry"].indexOf(e[n].type)){var r=new BK;t=t.concat(r.read(e[n]))}else{if(!e[n].geometry||!e[n].geometry.parts)throw new Error("features's type is not be supported.");t.push(T1.fromJson(e[n]).toFeature())}return t}},{key:"toFeature",value:function(e){return this.toiClientFeature(e)}},{key:"moveEndEvent",value:function(){!this.loadWhileAnimating&&this.visibility&&(this.div.style.transform="",this.redrawThematicFeatures(this.map.getBounds()),this._show())}},{key:"moveStartEvent",value:function(){if(!this.loadWhileAnimating&&this.visibility){this.startPitch=this.map.getPitch(),this.startBearing=this.map.getBearing();var e=this.map.project(new v3.a.LngLat(0,0));this.startMoveX=e.x,this.startMoveY=e.y}}},{key:"moveEvent",value:function(){if(this.loadWhileAnimating||!this.visibility)return void this.redrawThematicFeatures(this.map.getBounds());if(!this.rotating&&!this.zooming){0!==this.map.getPitch()&&this._hide(),this.mapContainer.style.perspective=this.map.transform.cameraToCenterDistance+"px";var e=this.map.getPitch()-this.startPitch,t=-this.map.getBearing()+this.startBearing,n=this.map.project(new v3.a.LngLat(0,0)),r=n.x-this.startMoveX,o=n.y-this.startMoveY;this.div.style.transform="rotateX("+e+"deg) rotateZ("+t+"deg) translate3d("+r+"px, "+o+"px, 0px)"}}},{key:"zoomStartEvent",value:function(){!this.loadWhileAnimating&&this.visibility&&(this.zooming=!0,this._hide())}},{key:"zoomEndEvent",value:function(){!this.loadWhileAnimating&&this.visibility&&(this.zooming=!1,this._show())}},{key:"rotateStartEvent",value:function(){!this.loadWhileAnimating&&this.visibility&&(this.rotating=!0)}},{key:"rotateEvent",value:function(){if(!this.loadWhileAnimating&&this.visibility){0!==this.map.getPitch()&&this._hide(),this.mapContainer.style.perspective=this.map.transform.cameraToCenterDistance+"px";var e=this.map.getPitch()-this.startPitch,t=-this.map.getBearing()+this.startBearing;this.div.style.transform="rotateX("+e+"deg) rotateZ("+t+"deg)"}}},{key:"rotateEndEvent",value:function(){!this.loadWhileAnimating&&this.visibility&&(this.rotating=!1,this._show())}},{key:"dragEndEvent",value:function(){!this.loadWhileAnimating&&this.visibility&&this._hide()}},{key:"resizeEvent",value:function(){this.mapContainer.style.perspective=this.map.transform.cameraToCenterDistance+"px";var e=this.map.getCanvas();this.div.style.width=e.style.width,this.div.style.height=e.style.height,this.div.width=parseInt(e.width),this.div.height=parseInt(e.height),this.renderer.resize()}},{key:"removeFromMap",value:function(){this.mapContainer.removeChild(this.div),this.removeAllFeatures()}},{key:"moveTo",value:function(e,t){var n=document.getElementById(this.div.id);if(t=void 0===t||t){var r=document.getElementById(e);return void(n&&r&&r.parentNode.insertBefore(n,r))}var o=document.getElementById(e);if(n){if(o.nextSibling)return void o.parentNode.insertBefore(n,o.nextSibling);o.parentNode.appendChild(n)}}},{key:"_hide",value:function(){this.renderer.painter.root.style.display="none"}},{key:"_show",value:function(){this.renderer.painter.root.style.display="block"}}]),e}();v3.a.supermap.ThemeLayer=w3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var O3=function(e){function t(e,n,r){var o;return Hz(this,t),o=Vz(this,Qz(t).call(this,e,r)),o.chartsSetting=r.chartsSetting||{},o.themeFields=r.themeFields||null,o.overlayWeightField=r.overlayWeightField||null,o.isOverLay=void 0===r.isOverLay||r.isOverLay,o.charts=r.charts||[],o.cache=r.cache||{},o.chartsType=n,o}return Xz(t,e),zz(t,[{key:"setChartsType",value:function(e){this.chartsType=e,this.redraw()}},{key:"addFeatures",value:function(e){!1!==v3.a.Evented.prototype.fire("beforefeaturesadded",{features:e})&&(this.features=this.toiClientFeature(e),this.renderer&&this.redrawThematicFeatures(this.map.getBounds()))}},{key:"redrawThematicFeatures",value:function(e){this.clearCache(),this.renderer.clearAll();for(var t=this.features,n=0,r=t.length;n<r;n++){var o=t[n],i=this.cache,a=o.id;if(!i[a]){i[a]=a;var s=this.createThematicFeature(o);s&&this.overlayWeightField&&o.attributes[this.overlayWeightField]&&!isNaN(o.attributes[this.overlayWeightField])&&(s.__overlayWeight=o.attributes[this.overlayWeightField]),s&&this.charts.push(s)}}this.drawCharts()}},{key:"createThematicFeature",value:function(e){var t;return w5[this.chartsType]&&this.themeFields&&this.chartsSetting&&(t=new w5[this.chartsType](e,this,this.themeFields,this.chartsSetting)),!!t&&(t.assembleShapes(),t)}},{key:"drawCharts",value:function(){if(this.renderer){var e=this.charts;if(this.overlayWeightField&&e.sort(function(e,t){return void 0===e.__overlayWeight&&void 0===t.__overlayWeight?0:void 0!==e.__overlayWeight&&void 0===t.__overlayWeight?-1:void 0===e.__overlayWeight&&void 0!==t.__overlayWeight?1:void 0!==e.__overlayWeight&&void 0!==t.__overlayWeight?parseFloat(e.__overlayWeight)<parseFloat(t.__overlayWeight)?1:-1:0}),this.isOverLay)for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n],i=o.resetLocation(),a=o.chartBounds,s=[{x:a.left,y:a.top},{x:a.left,y:a.bottom},{x:a.right,y:a.bottom},{x:a.right,y:a.top},{x:a.left,y:a.top}],l=!1;if(0!==n)for(var u=0;u<t.length;u++)if(this.isQuadrilateralOverLap(s,t[u])){l=!0;break}if(!l){t.push(s);for(var c=o.shapes,f=0,p=c.length;f<p;f++)c[f].refOriginalPosition=i,this.renderer.addShape(c[f])}}else for(var h=0,y=e.length;h<y;h++)for(var d=e[h],v=d.resetLocation(),m=d.shapes,b=0,g=m.length;b<g;b++)m[b].refOriginalPosition=v,this.renderer.addShape(m[b]);this.renderer.render()}}},{key:"getShapesByFeatureID",value:function(e){var t=[],n=this.renderer.getAllShapes();if(!e)return n;for(var r=0,o=n.length;r<o;r++){var i=n[r];i.refDataID&&e===i.refDataID&&t.push(i)}return t}},{key:"isQuadrilateralOverLap",value:function(e,t){var n=e.length,r=t.length;if(5!==n||5!==r)return null;for(var o=!1,i=0;i<n;i++)if(this.isPointInPoly(e[i],t)){o=!0;break}for(var a=0;a<r;a++)if(this.isPointInPoly(t[a],e)){o=!0;break}for(var s=0;s<n-1&&!o;s++)for(var l=0;l<r-1;l++){var u=hK.lineIntersection(e[s],e[s+1],t[l],t[l+1]);if("SuperMap.Geometry.Point"===u.CLASS_NAME){o=!0;break}}return o}},{key:"isPointInPoly",value:function(e,t){for(var n=!1,r=-1,o=t.length,i=o-1;++r<o;i=r)(t[r].y<=e.y&&e.y<t[i].y||t[i].y<=e.y&&e.y<t[r].y)&&e.x<(t[i].x-t[r].x)*(e.y-t[r].y)/(t[i].y-t[r].y)+t[r].x&&(n=!n);return n}},{key:"isChartInMap",value:function(e,t){for(var n=e,r=!1,o=0,i=t.length;o<i;o++){var a=t[o];if(a.x>=n.left&&a.x<=n.right&&a.y>=n.top&&a.y<=n.bottom){r=!0;break}}return r}},{key:"clearCache",value:function(){this.cache={},this.charts=[]}},{key:"removeFeatures",value:function(e){this.clearCache(),qz(Qz(t.prototype),"removeFeatures",this).call(this,e)}},{key:"removeAllFeatures",value:function(){this.clearCache(),qz(Qz(t.prototype),"removeAllFeatures",this).call(this)}},{key:"redraw",value:function(){return this.clearCache(),!!this.renderer&&(this.redrawThematicFeatures(this.map.getBounds()),!0)}},{key:"clear",value:function(){this.renderer&&(this.renderer.clearAll(),this.renderer.refresh()),this.removeAllFeatures(),this.clearCache()}}]),t}(w3);v3.a.supermap.GraphThemeLayer=O3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _3=function(e){function t(e,n){var r;return $z(this,t),r=nV(this,rV(t).call(this,e,n)),r.name=null,r.style=null,r.highlightStyle=null,r.nodesClipPixel=2,r.isHoverAble=!1,r.isMultiHover=!1,r.isClickAble=!0,r.isAllowFeatureStyle=!1,hK.extend(oV(r),n),r.cache=n.cache||{},r.cacheFields=n.cacheFields||[],r.maxCacheCount=n.maxCacheCount||0,r.isCustomSetMaxCacheCount=void 0!==n.isCustomSetMaxCacheCount&&n.isCustomSetMaxCacheCount,r}return iV(t,e),tV(t,[{key:"addFeatures",value:function(e){v3.a.Evented.prototype.fire("beforefeaturesadded",{features:e}),this.features=this.toiClientFeature(e),this.isCustomSetMaxCacheCount||(this.maxCacheCount=5*this.features.length),this.renderer&&this.redrawThematicFeatures(this.map.getBounds())}},{key:"removeFeatures",value:function(e){this.clearCache(),w3.prototype.removeFeatures.apply(this,arguments)}},{key:"removeAllFeatures",value:function(){this.clearCache(),w3.prototype.removeAllFeatures.apply(this,arguments)}},{key:"redrawThematicFeatures",value:function(e){this.clearCache();var t=this.renderer.getHoverOne(),n=null;t&&t.refDataID&&(n=t.refDataID),this.renderer.clearAll();for(var r=this.features,o=this.cache,i=this.cacheFields,a=this.map.getZoom(),s=this.maxCacheCount,l=0,u=r.length;l<u;l++){var c,f=r[l],p=f.id+"_zoom_"+a.toString();if(o[p])o[p].updateAndAddShapes();else{if(c=this.createThematicFeature(r[l]),c.getShapesCount()<1)continue;if(o[p]=c,i.push(p),i.length>s){var h=i[0];i.splice(0,1),delete o[h]}}}if(this.renderer.render(),n&&this.isHoverAble&&this.isMultiHover){var y=this.getShapesByFeatureID(n);this.renderer.updateHoverShapes(y)}}},{key:"createThematicFeature",value:function(e){var t=hK.copyAttributesWithClip(this.style);e.style&&!0===this.isAllowFeatureStyle&&(t=hK.copyAttributesWithClip(e.style));var n={};n.nodesClipPixel=this.nodesClipPixel,n.isHoverAble=this.isHoverAble,n.isMultiHover=this.isMultiHover,n.isClickAble=this.isClickAble,n.highlightStyle=S5.transformStyle(this.highlightStyle);for(var r=new A5(e,this,S5.transformStyle(t),n),o=0;o<r.shapes.length;o++)this.renderer.addShape(r.shapes[o]);return r}},{key:"clearCache",value:function(){this.cache={},this.cacheFields=[]}},{key:"clear",value:function(){this.renderer.clearAll(),this.renderer.refresh(),this.removeAllFeatures(),this.clearCache()}},{key:"getCacheCount",value:function(){return this.cacheFields.length}},{key:"setMaxCacheCount",value:function(e){isNaN(e)||(this.maxCacheCount=e,this.isCustomSetMaxCacheCount=!0)}},{key:"getShapesByFeatureID",value:function(e){var t=[],n=this.renderer.getAllShapes();if(!e)return n;for(var r=0,o=n.length;r<o;r++){var i=n[r];i.refDataID&&e===i.refDataID&&t.push(i)}return t}}]),t}(w3);v3.a.supermap.GeoFeatureThemeLayer=_3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P3=function(e){function t(e,n){var r;return lV(this,t),r=fV(this,dV(t).call(this,e,n)),r.isOverLay=!0,r.isAvoid=!0,r.themeField=null,r.styleGroups=null,hK.extend(pV(r),n),r.defaultStyle={fontColor:"#000000",fontOpacity:1,fontSize:"12px",fontStyle:"normal",fontWeight:"normal",labelAlign:"cm",labelXOffset:0,labelYOffset:0,labelRotation:0,fill:!1,fillColor:"#ee9900",fillOpacity:.4,stroke:!1,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",labelRect:!0,labelSelect:!0,_isGeoTextStrategyStyle:!0},r.getPxBoundsMode=0,r.labelFeatures=[],r}return vV(t,e),cV(t,[{key:"redrawThematicFeatures",value:function(e){if(this.features.length>0&&0==this.labelFeatures.length)for(var n=this.setLabelsStyle(this.features),r=0,o=n.length;r<o;r++)this.labelFeatures.push(n[r]);this.features=this.getDrawnLabels(this.labelFeatures),hV(dV(t.prototype),"redrawThematicFeatures",this).call(this,e)}},{key:"removeFeatures",value:function(e){this.labelFeatures=[],hV(dV(t.prototype),"removeFeatures",this).call(this,arguments)}},{key:"removeAllFeatures",value:function(){this.labelFeatures=[],hV(dV(t.prototype),"removeAllFeatures",this).call(this,arguments)}},{key:"createThematicFeature",value:function(e){var t=this.getStyleByData(e),n={};n.nodesClipPixel=this.nodesClipPixel,n.isHoverAble=this.isHoverAble,n.isMultiHover=this.isMultiHover,n.isClickAble=this.isClickAble,n.highlightStyle=S5.transformStyle(this.highlightStyle);for(var r=new A5(e,this,S5.transformStyle(t),n),o=0;o<r.shapes.length;o++)this.renderer.addShape(r.shapes[o]);return r}},{key:"getDrawnLabels",value:function(e){for(var t,n,r,o,i=[],a=[],s={labelAlign:"cm",labelXOffset:0,labelYOffset:0},l=this.map,u=l.getZoom(),c=l.getCanvas(),f={x:parseFloat(c.style.width),y:parseFloat(c.style.height)},p=0,h=e.length;p<h;p++){n=e[p],(n.isStyleChange||void 0===n.isStyleChange)&&(n=this.setStyle(n));var y=this.getLabelPxLocation(n);if(y.x>=0&&y.x<=f.x&&y.y>=0&&y.y<=f.y){if(n.style.minZoomLevel>-1&&u<=n.style.minZoomLevel)continue;if(n.style.maxZoomLevel>-1&&u>n.style.maxZoomLevel)continue;var d=null;n.isStyleChange?(n.isStyleChange=null,d=this.calculateLabelBounds(n,y)):d=n.geometry.bsInfo.w&&n.geometry.bsInfo.h?this.calculateLabelBounds2(n,y):this.calculateLabelBounds(n,y);var v=new dK(0,f.y,f.x,0),m=d.length;if(this.isAvoid){var b=this.getAvoidInfo(v,d);if(b){if("left"===b.aspectW){n.style.labelXOffset+=b.offsetX;for(var g=0;g<m;g++)d[g].x+=b.offsetX}else if("right"===b.aspectW){n.style.labelXOffset+=-b.offsetX;for(var S=0;S<m;S++)d[S].x+=-b.offsetX}if("top"===b.aspectH){n.style.labelYOffset+=b.offsetY;for(var w=0;w<m;w++)d[w].y+=b.offsetY}else if("bottom"===b.aspectH){n.style.labelYOffset+=-b.offsetY;for(var O=0;O<m;O++)d[O].y+=-b.offsetY}n.isStyleChange=!0}}if(this.isOverLay){var _=!1;if(0!=p)for(var P=0;P<a.length;P++)if(this.isQuadrilateralOverLap(d,a[P])){_=!0;break}if(_)continue;a.push(d)}for(var C=[],T=0;T<m-1;T++)C.push(l.unproject(d[T]));var E=C[3],k=C[1],x=new dK(E.lng,E.lat,k.lng,k.lat),j=x.getCenterLonLat(),A=new OK(j.lon,j.lat,n.attributes[this.themeField]);A.calculateBounds(),r=hK.cloneObject(n.style),o=hK.cloneObject(hK.copyAttributes(r,s)),t=new RK(A,n.attributes,o),t.id=n.id,t.fid=n.fid,i.push(t)}}return i}},{key:"getStyleByData",value:function(e){var t=e;if(t.style=hK.copyAttributes(t.style,this.defaultStyle),this.style&&this.style.fontSize&&parseFloat(this.style.fontSize)<12&&(this.style.fontSize="12px"),t.style=hK.copyAttributes(t.style,this.style),this.themeField&&this.styleGroups&&t.attributes){var n=this.themeField,r=t.attributes,o=this.styleGroups,i=!1,a=null;for(var s in r)if(n===s){i=!0,a=r[s];break}if(i)for(var l=0,u=o.length;l<u;l++)if(a>=o[l].start&&a<o[l].end){var c=o[l].style;c&&c.fontSize&&parseFloat(c.fontSize)<12&&(c.fontSize="12px"),t.style=hK.copyAttributes(t.style,c)}t.style.label=t.attributes[this.themeField]}return t.style}},{key:"setLabelsStyle",value:function(e){for(var t,n=[],r=0,o=e.length;r<o;r++){var i=e[r];if("SuperMap.Geometry.GeoText"!==i.geometry.CLASS_NAME)return e;(i.geometry.bsInfo.w||i.geometry.bsInfo.h)&&(i.geometry.bsInfo.w=null,i.geometry.bsInfo.h=null,i.geometry.labelWTmp=null),t=this.setStyle(i),t.layer=this.layer,n.push(t)}return n}},{key:"setStyle",value:function(e){var t=e;if(t.style=hK.copyAttributes(t.style,this.defaultStyle),this.style&&this.style.fontSize&&parseFloat(this.style.fontSize)<12&&(this.style.fontSize="12px"),t.style=hK.copyAttributes(t.style,this.style),this.groupField&&this.styleGroups&&t.attributes){var n=this.groupField,r=t.attributes,o=this.styleGroups,i=!1,a=null;for(var s in r)if(n===s){i=!0,a=r[s];break}if(i)for(var l=0,u=o.length;l<u;l++)if(a>=o[l].start&&a<o[l].end){var c=o[l].style;c&&c.fontSize&&parseFloat(c.fontSize)<12&&(c.fontSize="12px"),t.style=hK.copyAttributes(t.style,c)}}return t.style.label=t.geometry.text,t}},{key:"getLabelPxLocation",value:function(e){var t=e.geometry,n=e.style,r=t.getCentroid(),o=this.map.project(new v3.a.LngLat(r.x,r.y)),i=new v3.a.Point(o.x,o.y);if(n.labelXOffset||n.labelYOffset){var a=isNaN(n.labelXOffset)?0:n.labelXOffset,s=isNaN(n.labelYOffset)?0:n.labelYOffset,l=i.add(new v3.a.Point(a,-s));return new v3.a.Point(l.x,l.y)}return new v3.a.Point(i.x,i.y)}},{key:"calculateLabelBounds",value:function(e,t){var n=e.geometry,r=null,o=null;if(0==this.getPxBoundsMode)r=n.getLabelPxBoundsByText(t,e.style);else{if(1!==this.getPxBoundsMode)return null;o=this.getLabelInfo(e.geometry.getCentroid(),e.style),r=n.getLabelPxBoundsByLabel(t,o.w,o.h,e.style)}var i=[];return i=e.style.labelRotation%180==0?[{x:r.left,y:r.top},{x:r.right,y:r.top},{x:r.right,y:r.bottom},{x:r.left,y:r.bottom},{x:r.left,y:r.top}]:this.rotationBounds(r,t,e.style.labelRotation),n.bounds=new dK(i[1].x,i[3].y,i[2].x,i[4].y),i}},{key:"calculateLabelBounds2",value:function(e,t){var n,r,o,i,a,s=e.geometry.bsInfo,l=e.style,u=hK.cloneObject(t);if(l.labelAlign&&"cm"!==l.labelAlign)switch(l.labelAlign){case"lt":u.x+=s.w/2,u.y+=s.h/2;break;case"lm":u.x+=s.w/2;break;case"lb":u.x+=s.w/2,u.y-=s.h/2;break;case"ct":u.y+=s.h/2;break;case"cb":u.y-=s.h/2;break;case"rt":u.x-=s.w/2,u.y+=s.h/2;break;case"rm":u.x-=s.w/2;break;case"rb":u.x-=s.w/2,u.y-=s.h/2}r=u.x-s.w/2,o=u.y+s.h/2,a=l.fontStyle&&"italic"===l.fontStyle?u.x+s.w/2+parseInt(parseFloat(l.fontSize)/2):u.x+s.w/2,i=u.y-s.h/2,n=new dK(r,o,a,i);var c=[];return c=l.labelRotation%180==0?[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.right,y:n.bottom},{x:n.left,y:n.bottom},{x:n.left,y:n.top}]:this.rotationBounds(n,t,l.labelRotation),e.geometry.bounds=new dK(c[1].x,c[3].y,c[2].x,c[4].y),c}},{key:"getLabelInfo",value:function(e,t){var n={l:"left",r:"right",t:"top",b:"bottom"},r={l:0,r:-1,t:0,b:-1};t=hK.extend({fontColor:"#000000",labelAlign:"cm"},t);var o=this.getLocalXY(e),i=0;if(t.labelXOffset||t.labelYOffset){var a=isNaN(t.labelXOffset)?0:t.labelXOffset,s=isNaN(t.labelYOffset)?0:t.labelYOffset;o[0]+=a,o[1]-=s}var l=document.createElement("canvas");l.globalAlpha=0,l.lineWidth=1;var u=l.getContext("2d");u.fillStyle=t.fontColor,u.globalAlpha=t.fontOpacity||1;var c,f,p,h=[t.fontStyle?t.fontStyle:"normal","normal",t.fontWeight?t.fontWeight:"normal",t.fontSize?t.fontSize:"1em",t.fontFamily?t.fontFamily:"sans-serif"].join(" "),y=t.label.split("\n"),d=y.length;if(u.fillText){u.font=h,u.textAlign=n[t.labelAlign[0]]||"center",u.textBaseline=n[t.labelAlign[1]]||"middle",c=r[t.labelAlign[1]],null==c&&(c=-.5),f=u.measureText("Mg").height||u.measureText("xx").width,o[1]+=f*c*(d-1);for(var v=0;v<d;v++)p=u.measureText(y[v]).width,i<p&&(i=p)}else if(u.mozDrawText){u.mozTextStyle=h,c=r[t.labelAlign[1]],null==c&&(c=-.5),f=u.mozMeasureText("xx"),o[1]+=f*(1+c*d);for(var m=0;m<d;m++)p=u.measureText(y[m]).width,i<p&&(i=p)}var b={};return i?(b.w=i,b.h=t.fontSize,b.rows=y.length,b):null}},{key:"rotationBounds",value:function(e,t,n){var r=new v3.a.Point(e.left,e.top),o=new v3.a.Point(e.right,e.top),i=new v3.a.Point(e.right,e.bottom),a=new v3.a.Point(e.left,e.bottom),s=[];s.push(this.getRotatedLocation(r.x,r.y,t.x,t.y,n)),s.push(this.getRotatedLocation(o.x,o.y,t.x,t.y,n)),s.push(this.getRotatedLocation(i.x,i.y,t.x,t.y,n)),s.push(this.getRotatedLocation(a.x,a.y,t.x,t.y,n));for(var l=[],u=0;u<s.length;u++)l.push({x:s[u].x,y:s[u].y});return l.push({x:s[0].x,y:s[0].y}),l}},{key:"getRotatedLocation",value:function(e,t,n,r,o){var i,a,s={};return t=-t,r=-r,o=-o,i=(e-n)*Math.cos(o/180*Math.PI)-(t-r)*Math.sin(o/180*Math.PI)+n,a=(e-n)*Math.sin(o/180*Math.PI)+(t-r)*Math.cos(o/180*Math.PI)+r,s.x=i,s.y=-a,s}},{key:"getAvoidInfo",value:function(e,t){function n(t){if(!e.contains(t.x,t.y)){if(t.y<e.top){var n=Math.abs(e.top-t.y);n>l&&(l=n,u="top")}if(t.y>e.bottom){var r=Math.abs(t.y-e.bottom);r>l&&(l=r,u="bottom")}if(t.x<e.left){var o=Math.abs(e.left-t.x);o>s&&(s=o,c="left")}if(t.x>e.right){var i=Math.abs(t.x-e.right);i>s&&(s=i,c="right")}}}if(5!==t.length)return null;for(var r=[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom},{x:e.left,y:e.top}],o=!1,i=r.length,a=t.length,s=0,l=0,u="",c="",f=0;f<i-1;f++)for(var p=0;p<a-1;p++){var h=hK.lineIntersection(r[f],r[f+1],t[p],t[p+1]);"SuperMap.Geometry.Point"===h.CLASS_NAME&&(n(t[p]),n(t[p+1]),o=!0)}return o?{aspectW:c,aspectH:u,offsetX:s,offsetY:l}:null}},{key:"isQuadrilateralOverLap",value:function(e,t){var n=e.length,r=t.length;if(5!==n||5!==r)return null;for(var o=!1,i=0;i<n;i++)if(this.isPointInPoly(e[i],t)){o=!0;break}for(var a=0;a<r;a++)if(this.isPointInPoly(t[a],e)){o=!0;break}for(var s=0;s<n-1&&!o;s++)for(var l=0;l<r-1;l++){var u=hK.lineIntersection(e[s],e[s+1],t[l],t[l+1]);if("SuperMap.Geometry.Point"===u.CLASS_NAME){o=!0;break}}return o}},{key:"isPointInPoly",value:function(e,t){for(var n=!1,r=-1,o=t.length,i=o-1;++r<o;i=r)(t[r].y<=e.y&&e.y<t[i].y||t[i].y<=e.y&&e.y<t[r].y)&&e.x<(t[i].x-t[r].x)*(e.y-t[r].y)/(t[i].y-t[r].y)+t[r].x&&(n=!n);return n}}]),t}(_3);v3.a.supermap.LabelThemeLayer=P3;var C3=n(2),T3=C3.baiduMapLayer?C3.baiduMapLayer.__proto__:Function,E3=function(e){function t(e,n,r,o){var i;if(gV(this,t),i=OV(this,TV(t).call(this,e,r,o)),!T3)return OV(i);i.map=e;var a=_V(i);return o=o||{},a.init(o),a.argCheck(o),i.canvasLayer=n,i.stopAniamation=!1,i.animation=o.animation,i.clickEvent=i.clickEvent.bind(_V(i)),i.mousemoveEvent=i.mousemoveEvent.bind(_V(i)),i.map.on("resize",i.resizeEvent.bind(_V(i))),i.map.on("zoomstart",i.zoomStartEvent.bind(_V(i))),i.map.on("zoomend",i.zoomEndEvent.bind(_V(i))),i.map.on("rotatestart",i.rotateStartEvent.bind(_V(i))),i.map.on("rotate",i.rotateEvent.bind(_V(i))),i.map.on("rotateend",i.rotateEndEvent.bind(_V(i))),i.map.on("movestart",i.moveStartEvent.bind(_V(i))),i.map.on("move",i.moveEvent.bind(_V(i))),i.map.on("moveend",i.moveEndEvent.bind(_V(i))),i.map.on("remove",i.removeEvent.bind(_V(i))),i.bindEvent(),i._expectShow=!0,i}return EV(t,e),wV(t,[{key:"clickEvent",value:function(e){var n=e.point;PV(TV(t.prototype),"clickEvent",this).call(this,n,e)}},{key:"mousemoveEvent",value:function(e){var n=e.point;PV(TV(t.prototype),"mousemoveEvent",this).call(this,n,e)}},{key:"bindEvent",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.on("click",this.clickEvent),this.options.methods.mousemove&&e.on("mousemove",this.mousemoveEvent))}},{key:"unbindEvent",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.off("click",this.clickEvent),this.options.methods.mousemove&&e.off("mousemove",this.mousemoveEvent))}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"addData",value:function(e,t){var n=e;e&&e.get&&(n=e.get()),this.dataSet.add(n),this.update({options:t})}},{key:"update",value:function(e){var n=e||{},r=n.data;r&&r.get&&(r=r.get()),void 0!=r&&this.dataSet.set(r),PV(TV(t.prototype),"update",this).call(this,{options:n.options})}},{key:"getData",value:function(){return this.dataSet}},{key:"removeData",value:function(e){if(this.dataSet){var t=this.dataSet.get({filter:function(t){return null==e||"function"!=typeof e||!e(t)}});this.dataSet.set(t),this.update({options:null})}}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"updateData",value:function(e,t){e&&e.get&&this.dataSet.set(e.get()),this.update({options:t})}},{key:"_canvasUpdate",value:function(e){var t=this.map;if(this.canvasLayer&&!this.stopAniamation){var n=this,r=n.options.animation,o=this.getContext();if(n.isEnabledTime()){if(void 0===e)return void this.clear(o);"2d"===this.context&&(o.save(),o.globalCompositeOperation="destination-out",o.fillStyle="rgba(0, 0, 0, .1)",o.fillRect(0,0,o.canvas.width,o.canvas.height),o.restore())}else this.clear(o);if("2d"===this.context)for(var i in n.options)o[i]=n.options[i];else o.clear(o.COLOR_BUFFER_BIT);if(!(n.options.minZoom&&t.getZoom()<n.options.minZoom||n.options.maxZoom&&t.getZoom()>n.options.maxZoom)){var a=t.getBounds(),s=a.getEast()-a.getWest(),l=a.getNorth()-a.getSouth(),u=s/this.canvasLayer.canvas.width,c=l/this.canvasLayer.canvas.height,f=t.getCenter(),p=t.project(f),h={transferCoordinate:function(e){if(t.transform.rotationMatrix||"2d"===n.context){var r=t.project(new v3.a.LngLat(e[0],e[1]));return[r.x,r.y]}var o=[(e[0]-f.lng)/u,(f.lat-e[1])/c];return[o[0]+p.x,o[1]+p.y]}};void 0!==e&&(h.filter=function(t){var n=r.trails||10;return e&&t.time>e-n&&t.time<e});var y=n.dataSet.get(h);this.processData(y),n.options._size=n.options.size;var d=t.project(new v3.a.LngLat(0,0));this.drawContext(o,y,n.options,d),n.options.updateCallback&&n.options.updateCallback(e)}}}},{key:"init",value:function(e){var t=this;t.options=e,this.initDataRange(e),this.context=t.options.context||"2d",t.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(t.options.zIndex),this.initAnimator()}},{key:"destroy",value:function(){this.unbindEvent(),this.clearData(),this.animator&&this.animator.stop(),this.animator=null,this.canvasLayer=null}},{key:"addAnimatorEvent",value:function(){}},{key:"removeEvent",value:function(){this.canvasLayer.mapContainer.removeChild(this.canvasLayer.canvas)}},{key:"resizeEvent",value:function(){this.canvasLayer.mapContainer.style.perspective=this.map.transform.cameraToCenterDistance+"px";var e=this.canvasLayer.canvas;e.style.position="absolute",e.style.top="0px",e.style.left="0px";var t="undefined"==typeof window?{}:window,n=this.canvasLayer.devicePixelRatio=t.devicePixelRatio||1;e.width=parseInt(this.map.getCanvas().style.width)*n,e.height=parseInt(this.map.getCanvas().style.height)*n,this.canvasLayer.mapVOptions.context&&"2d"!=this.canvasLayer.mapVOptions.context||e.getContext("2d").scale(n,n),e.style.width=this.map.getCanvas().style.width,e.style.height=this.map.getCanvas().style.height}},{key:"moveEndEvent",value:function(){this.stopAniamation=!1,this.getContext().canvas.style.transform="",this._canvasUpdate(),!0===this._expectShow&&this._show()}},{key:"moveStartEvent",value:function(){this.startPitch=this.map.getPitch(),this.startBearing=this.map.getBearing();var e=this.map.project(new v3.a.LngLat(0,0));this.startMoveX=e.x,this.startMoveY=e.y,this.animation&&(this.stopAniamation=!0),this.rotating||this.zooming||(this._expectShow="none"!==this.canvasLayer.canvas.style.display,0!==this.map.getPitch()&&this._hide())}},{key:"moveEvent",value:function(){this.canvasLayer.mapContainer.style.perspective=this.map.transform.cameraToCenterDistance+"px";var e=this.map.getPitch()-this.startPitch,t=-this.map.getBearing()+this.startBearing,n=this.map.project(new v3.a.LngLat(0,0)),r=n.x-this.startMoveX,o=n.y-this.startMoveY;this.getContext().canvas.style.transform="rotateX("+e+"deg) rotateZ("+t+"deg) translate3d("+r+"px, "+o+"px, 0px)"}},{key:"zoomStartEvent",value:function(){this.zooming=!0,this._hide()}},{key:"zoomEndEvent",value:function(){this.zooming=!1}},{key:"rotateStartEvent",value:function(){this.rotating=!0,0!==this.map.getPitch()&&this._hide()}},{key:"rotateEvent",value:function(){this.canvasLayer.mapContainer.style.perspective=this.map.transform.cameraToCenterDistance+"px";var e=this.map.getPitch()-this.startPitch,t=-this.map.getBearing()+this.startBearing;this.getContext().canvas.style.transform="rotateX("+e+"deg) rotateZ("+t+"deg)"}},{key:"rotateEndEvent",value:function(){this.rotating=!1}},{key:"clear",value:function(e){e&&e.clearRect&&e.clearRect(0,0,parseInt(this.map.getCanvas().style.width),parseInt(this.map.getCanvas().style.height))}},{key:"draw",value:function(){this._canvasUpdate()}},{key:"_hide",value:function(){this.canvasLayer.canvas.style.display="none"}},{key:"_show",value:function(){this.canvasLayer.canvas.style.display="block"}}]),t}(T3),k3=function(){function e(t,n,r){xV(this,e),this.map=t,this.id=r.layerID?r.layerID:hK.createUniqueID("mapvLayer_"),delete r.layerID,this.mapVOptions=r,this.dataSet=n,this.visibility=!0,this.map&&this.map.addLayer(this)}return AV(e,[{key:"onAdd",value:function(e){this.map=e,this.renderer=new E3(this.map,this,this.dataSet,this.mapVOptions),this.canvas=this._createCanvas(),this.renderer._canvasUpdate(),this.mapContainer=e.getCanvasContainer(),this.mapContainer.appendChild(this.canvas),this.mapContainer.style.perspective=this.map.transform.cameraToCenterDistance+"px"}},{key:"removeFromMap",value:function(){this.mapContainer.removeChild(this.canvas),this.renderer.destroy()}},{key:"setVisibility",value:function(e){e!==this.visibility&&(this.visibility=e,e?this.show():this.hide())}},{key:"moveTo",value:function(e,t){var n=document.getElementById(this.canvas.id);if(t=void 0===t||t){var r=document.getElementById(e);return void(n&&r&&r.parentNode.insertBefore(n,r))}var o=document.getElementById(e);if(n){if(o.nextSibling)return void o.parentNode.insertBefore(n,o.nextSibling);o.parentNode.appendChild(n)}}},{key:"getTopLeft",value:function(){var e,t=this.map;if(t){e=t.getBounds().getNorthWest()}return e}},{key:"addData",value:function(e,t){this.renderer.addData(e,t)}},{key:"update",value:function(e){this.renderer.update(e)}},{key:"getData",value:function(){return this.renderer&&(this.dataSet=this.renderer.getData()),this.dataSet}},{key:"removeData",value:function(e){this.renderer&&this.renderer.removeData(e)}},{key:"clearData",value:function(){this.renderer.clearData()}},{key:"show",value:function(){return this.renderer&&this.renderer._show(),this}},{key:"hide",value:function(){return this.renderer&&this.renderer._hide(),this}},{key:"_createCanvas",value:function(){var e=document.createElement("canvas");e.id=this.id,e.style.position="absolute",e.style.top="0px",e.style.left="0px";var t="undefined"==typeof window?{}:window,n=this.devicePixelRatio=t.devicePixelRatio||1;return e.width=parseInt(this.map.getCanvas().style.width)*n,e.height=parseInt(this.map.getCanvas().style.height)*n,this.mapVOptions.context&&"2d"!=this.mapVOptions.context||e.getContext("2d").scale(n,n),e.style.width=this.map.getCanvas().style.width,e.style.height=this.map.getCanvas().style.height,e}},{key:"setZIndex",value:function(e){this.canvas.style.zIndex=e}}]),e}();v3.a.supermap.MapvLayer=k3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var x3=function(){function e(t,n){RV(this,e),this.id=t,this.map=null,this.opacity=1,this.parseNumber=!1,this.enableHighlight=!1,this.highlight={color:"#ADA91E"},this.baseHeightField=null,this.height=null,this.heightField="height",this.themeField=this.heightField,this.showLegend=!0,this.legendTitle=null,this.legendTheme="light",this.legendOrientation="horizontal",this.legendPosition="bottom-right",this._extend(this,n)}return NV(e,[{key:"setLayerOptions",value:function(e){return this._extend(this,e),this}},{key:"setHighlightStyleOptions",value:function(e){return this._extend(this.highlight,e),this}},{key:"setData",value:function(e,t){var n=this;return n.data=e,null!=t&&(n.parseNumber=t),n.parseNumber&&n.data&&n.data.features&&n.data.features.map(function(e){return n.baseHeightField&&e.properties[n.baseHeightField]&&(e.properties[n.baseHeightField]=parseFloat(e.properties[n.baseHeightField])),n.heightField&&e.properties[n.heightField]&&(e.properties[n.heightField]=parseFloat(e.properties[n.heightField])),e}),this}},{key:"getData",value:function(){return this.data}},{key:"addTo",value:function(e){return this.map=e,this.map?(this.show(),this):this}},{key:"show",value:function(e){return this._extend(this,e),this._addLayer(),this.enableHighlight&&this._addHighLightLayer(),this.showLegend&&(this.legend||(this.legend=this._createLegendControl()),this.map.addControl(this.legend,this.legendPosition)),this}},{key:"remove",value:function(){if(!this.map)return this;var e=this.id?this.id:"theme3DLayer";this.map.getLayer(e)&&(this.map.off("mousemove",e,this._onMouseMove.bind(this)),this.map.on("mouseout",e,this._onMouseMove.bind(this)),this.map.removeLayer(e));return this.map.getLayer("highlightLayer")&&(this._selectFeatureId=null,this.map.removeLayer("highlightLayer")),this.legend&&this.map.removeControl(this.legend),this}},{key:"getLayerStyleOptions",value:function(){}},{key:"getHighlightStyleOptions",value:function(){}},{key:"_createLegendControl",value:function(e){function t(){}var n=this;return t.prototype.onAdd=function(t){this._map=t,this._container=document.createElement("div");var r="legend-light";"dark"===n.legendTheme&&(r="legend-dark");var o=" legend-horizontal";if("vertical"===n.legendOrientation&&(o=" legend-vertical"),this._container.className="mapboxgl-ctrl legend "+r+o,e)this._container.innerHTML=e;else{var i=n.legendTitle||"",a=" <div class='legend-title'>"+i+"</div>",s=n._createLegendElement.call(n)||"",l="<div class='legend-content'>"+s+"</div>";this._container.innerHTML=a+l}return n._appendLegendCSSStyle(),this._container},t.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map=void 0},new t}},{key:"_createLegendElement",value:function(){}},{key:"_addLayer",value:function(){var e=this.getLayerStyleOptions(),t=this.id?this.id:"theme3DLayer",n=this.sourceId=t+"Source";this.map.getSource(n)?(this.map.removeSource(n),this.map.addSource(n,{type:"geojson",data:this.data})):this.map.addSource(n,{type:"geojson",data:this.data}),this.map.addLayer({id:t,type:"fill-extrusion",source:n,paint:e}),this.map.moveLayer(t)}},{key:"_addHighLightLayer",value:function(){if(this.map){var e=this.map;e.addLayer({id:"highlightLayer",type:"fill-extrusion",source:this.sourceId,paint:this.getHighlightStyleOptions(),filter:["in","$id",""]}),this._selectFeatureId=null,e.on("mousemove",this.id,this._onMouseMove.bind(this)),e.on("mouseout",this.id,this._onMouseMove.bind(this))}}},{key:"_onMouseMove",value:function(e){var t=this,n=this.map,r=n.queryRenderedFeatures(e.point,{layers:[t.id]});if(t.highlight&&t.highlight.callback&&t.highlight.callback(r,e),!r||r.length<1)return t._clearHighlight.call(t),void(t._selectFeatureId=null);var o=r[0].id;t._selectFeatureId!==o&&(t._selectFeatureId=o,n.setFilter("highlightLayer",["==","$id",t._selectFeatureId]))}},{key:"_clearHighlight",value:function(){this.map&&this.map.setFilter("highlightLayer",["in","$id",""])}},{key:"_appendLegendCSSStyle",value:function(){var e=document.createElement("style");e.type="text/css";e.innerHTML="\n        .legend {\n            display: inline-block;\n            border-radius: 2px;\n            -moz-border-radius: 2px;\n            -webkit-border-radius: 2px;\n            font-size: 12px;\n            color: rgba(0, 0, 0, 0.8);\n            background-color: rgb(255, 255, 255);\n        }\n        .legend-light {\n            color: rgba(0, 0, 0, 0.8);\n            background-color: rgb(255, 255, 255);\n            box-shadow: 0px 0px 6px #bbbbbb;\n            -moz-box-shadow: 0px 6px 10px #bbbbbb;\n            -webkit-box-shadow: 0px 0px 6px #bbbbbb;\n        }\n        .legend-dark {\n            color: rgba(255, 255, 255, 0.8);\n            background-color: rgb(64, 64, 64);\n        }\n        .legend .legend-title {\n            min-height: 14px;\n            max-width: 500px;\n            padding:6px 10px;\n        }\n        .legend-light .legend-title {\n            color: rgba(0, 0, 0, 0.8);\n        }\n        .legend-dark .legend-title {\n            color: rgba(255, 255, 255, 0.8);\n        }\n        .legend-content{\n            padding:6px 10px;\n        }\n        "+this._legendCSSStyle(),document.getElementsByTagName("head")[0].appendChild(e)}},{key:"_legendCSSStyle",value:function(){return"\n        .legend ul {\n            padding: 0;\n            margin: 0 16px;\n            height: 100%;\n            display: block;\n            list-style: none;\n        }\n\n        .legend li {\n            vertical-align: middle;\n        }\n\n        .legend li span:first-child {\n            vertical-align: middle;\n        }\n\n        .legend li span:last-child {\n            line-height: 28px;\n            max-width: 200px;\n            vertical-align: middle;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            -ms-text-overflow: ellipsis;\n        }\n\n        .legend-vertical li {\n            height: 28px;\n        }\n\n        .legend-vertical li span:first-child {\n            display: inline-block;\n            width: 60px;\n            height: 100%;\n        }\n\n        .legend-vertical li span:last-child {\n            display: inline-block;\n            margin-left: 16px;\n            height: 100%;\n        }\n\n        .legend-horizontal li {\n            height: 56px;\n            float: left;\n        }\n\n        .legend-horizontal li span:first-child {\n            display: block;\n            width: 100%;\n            height: 50%;\n        }\n\n        .legend-horizontal li span:last-child {\n            display: block;\n            vertical-align: middle;\n            width: 60px;\n            height: 50%;\n            text-align: center;\n        }\n        "}},{key:"_extend",value:function(e){for(var t=0;t<Object.getOwnPropertyNames(arguments).length;t++){var n=Object.getOwnPropertyNames(arguments)[t];if("caller"!=n&&"callee"!=n&&"length"!=n&&"arguments"!=n){var r=arguments[n];if(r)for(var o=0;o<Object.getOwnPropertyNames(r).length;o++){var i=Object.getOwnPropertyNames(r)[o];"caller"!=n&&"callee"!=n&&"length"!=n&&"arguments"!=n&&(e[i]=r[i])}}}return e}}]),e}();v3.a.supermap.Theme3DLayer=x3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var j3=function(e){function t(e,n){var r;return IV(this,t),r=GV(this,BV(t).call(this,e,n)),r.heightStops=null,r.colorStops=null,r.base=null,r.legendRatio=1,r._extend(UV(r),n),r}return HV(t,e),DV(t,[{key:"getLayerStyleOptions",value:function(){var e=null==this.opacity?1:this.opacity;e=isNaN(parseFloat(e))?1:parseFloat(e);var t=/^[0-9]+.?[0-9]*$/,n={"fill-extrusion-color":{stops:this.colorStops,property:this.themeField||this.heightField,type:"interval",base:t.test(this.base)?this.base:1},"fill-extrusion-opacity":e};return this.heightStops?n["fill-extrusion-height"]={stops:this.heightStops,property:this.heightField||"height",base:t.test(this.base)?this.base:1}:this.height?n["fill-extrusion-height"]=this.height:n["fill-extrusion-height"]={property:this.heightField||"height",type:"identity"},this.baseHeightField&&(n["fill-extrusion-base"]={property:this.baseHeightField,type:"identity"}),n}},{key:"getHighlightStyleOptions",value:function(){return{"fill-extrusion-color":this.highlight&&null!=this.highlight.color?this.highlight.color:"#ADA91E","fill-extrusion-height":{stops:this.heightStops,property:this.heightField},"fill-extrusion-opacity":this.highlight&&this.highlight.opacity||.6}}},{key:"_createLegendElement",value:function(){var e,t=this.colorStops&&this.colorStops.length||0,n="<ul>";for(e=0;e<t;e++){var r=this.colorStops[e][0],o=this._getWrapperText(r);if(e===t-1)o="> "+o;else{o=o+"-"+this._getWrapperText(this.colorStops[e+1][0])}n+="<li><span style='background-color:"+this.colorStops[e][1]+";'></span><span>"+o+"</span></li>"}return n+="</ul>"}},{key:"_getWrapperText",value:function(e){var t=e*(null==this.legendRatio?1:parseFloat(this.legendRatio)),n=parseFloat(t);return n%1e6<=1e6?n.toString():parseInt(n/1e3)+"k"}}]),t}(x3);v3.a.supermap.RangeTheme3DLayer=j3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var A3=function(e){function t(e,n){var r;return VV(this,t),r=YV(this,XV(t).call(this,e,n)),r.style=n.style,r.isHoverAble=n.isHoverAble,r.highlightStyle=n.highlightStyle,r.themeField=n.themeField,r.styleGroups=n.styleGroups,r}return KV(t,e),qV(t,[{key:"createThematicFeature",value:function(e){var t=this.getStyleByData(e),n={};n.nodesClipPixel=this.nodesClipPixel,n.isHoverAble=this.isHoverAble,n.isMultiHover=this.isMultiHover,n.isClickAble=this.isClickAble,n.highlightStyle=S5.transformStyle(this.highlightStyle);for(var r=new A5(e,this,S5.transformStyle(t),n),o=0;o<r.shapes.length;o++)this.renderer.addShape(r.shapes[o]);return r}},{key:"getStyleByData",value:function(e){var t={},n=e;if(t=hK.copyAttributesWithClip(t,this.style),this.themeField&&this.styleGroups&&this.styleGroups.length>0&&n.attributes){var r=this.themeField,o=n.attributes,i=this.styleGroups,a=!1,s=null;for(var l in o)if(r===l){a=!0,s=o[l];break}if(a)for(var u=0,c=i.length;u<c;u++)if(s>=i[u].start&&s<i[u].end){var f=i[u].style;t=hK.copyAttributesWithClip(t,f)}}return n.style&&!0===this.isAllowFeatureStyle&&(t=hK.copyAttributesWithClip(n.style)),t}}]),t}(_3);v3.a.supermap.RangeThemeLayer=A3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var R3=function(e){function t(e,n,r){var o;return eW(this,t),o=rW(this,iW(t).call(this,e,n,r)),o.symbolType=n,o.symbolSetting=r.symbolSetting,o.themeField=r.themeField,o}return aW(t,e),nW(t,[{key:"setSymbolType",value:function(e){this.symbolType=e,this.redraw()}},{key:"createThematicFeature",value:function(e){var t;return w5[this.symbolType]&&this.themeField&&this.symbolSetting&&(t=new w5[this.symbolType](e,this,[this.themeField],this.symbolSetting)),!!t&&(t.assembleShapes(),t)}}]),t}(O3);v3.a.supermap.RankSymbolThemeLayer=R3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var L3=function(e){function t(e,n){var r;return uW(this,t),r=pW(this,hW(t).call(this,e,n)),r.colorStops=null,r._extend(yW(r),n),r}return dW(t,e),fW(t,[{key:"getLayerStyleOptions",value:function(){var e=null==this.opacity?1:this.opacity;e=isNaN(parseFloat(e))?1:parseFloat(e);var t={"fill-extrusion-color":{stops:this.colorStops,property:this.themeField,type:"categorical"},"fill-extrusion-opacity":e};return null!=this.height?t["fill-extrusion-height"]=this.height:t["fill-extrusion-height"]={property:this.heightField||"height",type:"categorical"},this.baseHeightField&&(t["fill-extrusion-base"]={property:this.baseHeightField,type:"identity"}),t}},{key:"getHighlightStyleOptions",value:function(){var e=this.highlight&&null!=this.highlight.color?this.highlight.color:"#ADA91E",t={"fill-extrusion-color":e,"fill-extrusion-height":{stops:this.heightStops,property:this.heightField,type:"categorical"},"fill-extrusion-opacity":this.highlight&&this.highlight.opacity||.6};return null!=this.height&&(t["fill-extrusion-height"]=this.height||0),t}},{key:"_createLegendElement",value:function(){for(var e="<ul>",t=this.colorStops&&this.colorStops.length||0,n=0;n<t;n++){var r=this.colorStops[n][0];e+="<li><span style='background-color:"+this.colorStops[n][1]+";'></span><span>"+r+"</span></li>"}return e+="</ul>"}}]),t}(x3);v3.a.supermap.UniqueTheme3DLayer=L3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var N3=function(e){function t(e,n){var r;return bW(this,t),r=wW(this,_W(t).call(this,e,n)),r.themeField=n.themeField,r.style=n.style,r.styleGroups=n.styleGroups,r.isHoverAble=n.isHoverAble,r.highlightStyle=n.highlightStyle,r}return PW(t,e),SW(t,[{key:"createThematicFeature",value:function(e){var t=this.getStyleByData(e),n={};n.nodesClipPixel=this.nodesClipPixel,n.isHoverAble=this.isHoverAble,n.isMultiHover=this.isMultiHover,n.isClickAble=this.isClickAble,n.highlightStyle=S5.transformStyle(this.highlightStyle);for(var r=new A5(e,this,S5.transformStyle(t),n),o=0;o<r.shapes.length;o++)this.renderer.addShape(r.shapes[o]);return r}},{key:"getStyleByData",value:function(e){var t={},n=e;if(t=hK.copyAttributesWithClip(t,this.style),this.themeField&&this.styleGroups&&this.styleGroups.length>0&&n.attributes){var r=this.themeField,o=n.attributes,i=this.styleGroups,a=!1,s=null;for(var l in o)if(r===l){a=!0,s=o[l];break}if(a)for(var u=0,c=i.length;u<c;u++)if(s.toString()===i[u].value.toString()){var f=i[u].style;t=hK.copyAttributesWithClip(t,f)}}return n.style&&!0===this.isAllowFeatureStyle&&(t=hK.copyAttributesWithClip(n.style)),t}}]),t}(_3);v3.a.supermap.UniqueThemeLayer=N3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var M3=function(){function e(t,n,r){TW(this,e),this.lngLat=g3.isArray(t)?{lng:t[0],lat:t[1]}:t,this.style=g3.extend({},n),this.attributes=r}return kW(e,[{key:"getId",value:function(){return this.id}},{key:"setId",value:function(e){this.id=e}},{key:"getLngLat",value:function(){return this.lngLat}},{key:"setLngLat",value:function(e){this.lngLat=g3.isArray(e)?{lng:e[0],lat:e[1]}:e}},{key:"setStyle",value:function(e){this.style=g3.extend(this.style,e)}},{key:"getStyle",value:function(){return this.style}},{key:"setAttributes",value:function(e){this.attributes=g3.extend({},this.attributes,e)}},{key:"getAttributes",value:function(){return this.attributes}}]),e}();v3.a.supermap.Graphic=M3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var I3={color:[0,0,0,255],opacity:.8,radius:10,radiusScale:1,radiusMinPixels:0,radiusMaxPixels:Number.MAX_SAFE_INTEGER,strokeWidth:1,outline:!1},F3=function(){function e(t,n){xW(this,e);var r=g3.extend(this,I3,n);this.id=t||hK.createUniqueID("graphicLayer_"),this.graphics=[].concat(r.graphics),this.visibility=!0}return AW(e,[{key:"addTo",value:function(e){this.onAdd(e)}},{key:"onAdd",value:function(e){if(this.map=e,this.canvas)return this.mapContainer=this.map.getCanvasContainer(),this.mapContainer.appendChild(this.canvas),this;this._initContainer(),e.getCRS&&e.getCRS()!==v3.a.CRS.EPSG3857&&(this.coordinateSystem=3,this.isGeographicCoordinateSystem=!0);var t=this.getState(),n=t.data,r=t.color,o=t.radius,i=t.opacity,a=t.highlightColor,s=t.radiusScale,l=t.radiusMinPixels,u=t.radiusMaxPixels,c=t.strokeWidth,f=t.outline,p=this,h={id:"scatter-plot",data:n,pickable:Boolean(this.onClick)||Boolean(this.onHover),autoHighlight:!0,color:r,opacity:i,radius:o,radiusScale:s,highlightColor:a,radiusMinPixels:l,radiusMaxPixels:u,strokeWidth:c,outline:f,isGeographicCoordinateSystem:this.isGeographicCoordinateSystem,coordinateSystem:this.coordinateSystem,getPosition:function(e){if(!e)return[0,0,0];var t=e.getLngLat();return t&&[t.lng,t.lat,0]},getColor:function(e){var t=e&&e.getStyle();return t&&t.color||p.color},getRadius:function(e){var t=e&&e.getStyle();return t&&t.radius||p.radius},updateTriggers:{getColor:[r],getRadius:[o]}};this.onClick&&(h.onClick=this.onClick),this.onHover&&(h.onHover=this.onHover),this.layer=new window.DeckGL.ScatterplotLayer(h);var y={};for(var d in t)y[d]=t[d];return y.layers=[this.layer],y.canvas=this.canvas,this.deckGL=new window.DeckGL.experimental.DeckGLJS(y),this.map.on("render",this._moveEvent.bind(this)),this.map.on("resize",this._resizeEvent.bind(this)),this.draw(),this}},{key:"setStyle",value:function(e){var t={color:this.color,radius:this.radius,opacity:this.opacity,highlightColor:this.highlightColor,radiusScale:this.radiusScale,radiusMinPixels:this.radiusMinPixels,radiusMaxPixels:this.radiusMaxPixels,strokeWidth:this.strokeWidth,outline:this.outline};g3.extend(this,t,e),this.update()}},{key:"setGraphics",value:function(e){this.graphics=this.graphics||[],this.graphics.length=0;var t=g3.isArray(e)?[].concat(e):[e];this.layer.props.data||(this.layer.props.data=[]),this.layer.props.data.length=0;for(var n=0;n<t.length;n++)this.layer.props.data.push(t[n]);this.update()}},{key:"addGraphics",value:function(e){this.graphics=this.graphics||[];var t=g3.isArray(e)?[].concat(e):[e];this.layer.props.data||(this.layer.props.data=[]);for(var n=0;n<t.length;n++)this.layer.props.data.push(t[n]);this.update()}},{key:"getGraphicBy",value:function(e,t){var n=null;for(var r in this.graphics)if(this.graphics[r][e]===t){n=this.graphics[r];break}return n}},{key:"getGraphicById",value:function(e){return this.getGraphicBy("id",e)}},{key:"getGraphicsByAttribute",value:function(e,t){var n,r=[];for(var o in this.graphics)(n=this.graphics[o])&&n.attributes&&n.attributes[e]===t&&r.push(n);return r}},{key:"removeGraphics",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e||0===e.length||e===this.graphics)return this.graphics.length=0,this.layer.props.data&&(this.layer.props.data.length=0),void this.update();hK.isArray(e)||(e=[e]);for(var t=e.length-1;t>=0;t--){var n=e[t],r=hK.indexOf(this.graphics,n);-1!==r&&this.graphics.splice(r,1)}this.update()}},{key:"update",value:function(){this.layer.setChangeFlags({dataChanged:!0,propsChanged:!0,viewportChanged:!0,updateTriggersChanged:!0});var e=this.getState();this.layer.setState(e)}},{key:"clear",value:function(){this.removeGraphics(),this.deckGL.finalize()}},{key:"remove",value:function(){this.map.off("render",this._moveEvent.bind(this)),this.map.off("resize",this._resizeEvent.bind(this)),this.map.getCanvasContainer().removeChild(this.canvas)}},{key:"removeFromMap",value:function(){this.remove(),this.clear()}},{key:"moveTo",value:function(e,t){var n=document.getElementById(this.id);if(t=void 0===t||t){var r=document.getElementById(e);return void(n&&r&&r.parentNode.insertBefore(n,r))}var o=document.getElementById(e);if(n){if(o.nextSibling)return void o.parentNode.insertBefore(n,o.nextSibling);o.parentNode.appendChild(n)}}},{key:"setVisibility",value:function(e){this.canvas&&e!==this.visibility&&(this.visibility=e,this.canvas.style.display=e?"block":"none")}},{key:"getState",value:function(){var e=this.map,t=parseInt(this.canvas.style.width),n=parseInt(this.canvas.style.height),r=e.getCenter(),o=r.lng,i=r.lat,a=e.getZoom(),s=e.getMaxZoom(),l=e.getPitch(),u=e.getBearing(),c={longitude:o,latitude:i,zoom:a,maxZoom:s,pitch:l,bearing:u},f={};for(var p in c)f[p]=c[p];return f.width=t,f.height=n,f.data=this.graphics,f.color=this.color,f.radius=this.radius,f.opacity=this.opacity,f.highlightColor=this.highlightColor,f.radiusScale=this.radiusScale,f.radiusMinPixels=this.radiusMinPixels,f.radiusMaxPixels=this.radiusMaxPixels,f.strokeWidth=this.strokeWidth,f.outline=this.outline,e.getCRS&&e.getCRS()!==v3.a.CRS.EPSG3857&&(f.coordinateSystem=this.coordinateSystem,f.isGeographicCoordinateSystem=this.isGeographicCoordinateSystem),f}},{key:"draw",value:function(){var e=this.getState(),t={};for(var n in e)t[n]=e[n];t.layers=[this.layer],t.canvas=this.canvas,this.deckGL.setProps(t)}},{key:"_moveEvent",value:function(){this.draw()}},{key:"_resizeEvent",value:function(){var e=this.canvas,t=this.map;e.width=parseInt(t.getCanvas().style.width),e.height=parseInt(t.getCanvas().style.height),e.style.width=t.getCanvas().style.width,e.style.height=t.getCanvas().style.height,this.draw()}},{key:"_initContainer",value:function(){this.canvas=this._createCanvas(),this.mapContainer=this.map.getCanvasContainer(),this.mapContainer.appendChild(this.canvas)}},{key:"_createCanvas",value:function(){var e=document.createElement("canvas");this.id&&(e.id=this.id),e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.cursor="";var t=this.map;return e.width=parseInt(t.getCanvas().style.width),e.height=parseInt(t.getCanvas().style.height),e.style.width=t.getCanvas().style.width,e.style.height=t.getCanvas().style.height,e}}]),e}();v3.a.supermap.GraphicLayer=F3;var D3=n(1),G3={R:6378137,minZoom:0,maxZoom:22,nativeMaxZoom:19,RAD:Math.PI/180,METERS_PER_DEGREE:6378137*Math.PI/180,MAX_LATITUDE:85.0511287798,project:function(e){var t,n=this.RAD,r=this.METERS_PER_DEGREE,o=this.MAX_LATITUDE,i=e instanceof Array?{lng:e[0],lat:e[1]}:{lng:e.lng,lat:e.lat},a=i.lng,s=Math.max(Math.min(o,i.lat),-o);return t=0===s?0:Math.log(Math.tan((90+s)*n/2))/n,{x:a*r,y:t*r}},unproject:function(e){var t,n=e.x,r=e.y,o=this.RAD,i=this.METERS_PER_DEGREE;return 0===r?t=0:(t=r/i,t=(2*Math.atan(Math.exp(t*o))-Math.PI/2)/o),{lng:RW(n/i,-180,180),lat:RW(t,-this.MAX_LATITUDE,this.MAX_LATITUDE)}},locate:function(e,t,n){if(!e)return null;if(t=t||0,n=n||0,!t&&!n)return e;var r=e.lng;if(0!==t){var o=Math.abs(t),i=LW(e.lng);i+=2*Math.sqrt(Math.pow(Math.sin(o/(2*this.R)),2)/Math.pow(Math.cos(i),2))*(o>0?1:-1),r=RW(180*i/Math.PI,-180,180)}var a=e.lat;if(0!==n){var s=Math.abs(n),l=LW(e.lat);l+=2*Math.sin(s/(2*this.R))*(s>0?1:-1),a=RW(180*l/Math.PI,-90,90)}return{lng:r,lat:a}},getResolution:function(e){if(!this.resolutions){for(var t=[],n=12756274*Math.PI,r=0;r<=this.maxZoom;r++)t[r]=n/(256*Math.pow(2,r));this.resolutions=t}var o=0|e,i=this.resolutions.length;o=o<0?0:o>i-1?i-1:o;var a=this.resolutions[o];if((0|e)!==e&&o!==i-1){return a+(this.resolutions[o+1]-a)*(e-o)}return a}},B3={matrix:[1,-1,0,0],projection:G3,project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},lngLatToPoint:function(e,t){var n=this.project(e);return this.transform(n,this.projection.getResolution(t))},locate:function(e,t,n){return this.projection.locate(e,t,n)},transform:function(e,t){return{x:this.matrix[0]*(e.x-this.matrix[2])/t,y:this.matrix[1]*(e.y-this.matrix[3])/t}}};v3.a.supermap.Transform=B3;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var U3=B3.projection,H3=D3.Color,J3=D3.Scene,z3=D3.WebGLRenderer,V3=D3.CanvasRenderer,W3=D3.PerspectiveCamera,q3=Math.PI/180,Y3=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,Q3=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame,X3=function(){function e(t,n,r){NW(this,e),this._layer=t,this.renderer=n||"gl",this.options=r}return IW(e,[{key:"setMap",value:function(e){this.map=e}},{key:"render",value:function(){this._layer&&(this.prepare(),this._layer.fire("initialized"),this._layer&&this._layer.draw(this.context,this.scene,this.camera),this._layer.fire("draw"),this.renderScene())}},{key:"update",value:function(){this.remove(),this.render()}},{key:"renderScene",value:function(){this.locationCamera(),this.animationFrame=this.renderFrame(function(){this.animationFrame=null,this.context&&this.context.render(this.scene,this.camera)}.bind(this))}},{key:"renderFrame",value:function(e){return Y3(function(){e&&"function"==typeof e&&e()})}},{key:"resize",value:function(){this._resetElementSize(this.container),this._resetElementSize(this.canvas);var e=this.canvas.width,t=this.canvas.height,n=this.getMapSize();this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.context.setSize(n.width,n.height),this.renderScene()}},{key:"prepare",value:function(){if(!this.map)return new Error("map object is necessary");this.canvas?this.clear(this.context):(this._initContainer(),this._initThreeRenderer(),this._layer.fire("rendererinitialized"))}},{key:"getMapSize",value:function(){var e=this.map.getContainer();return{width:e.clientWidth,height:e.clientHeight}}},{key:"cancelFrame",value:function(){null!=this.animationFrame&&Q3(this.animationFrame)}},{key:"remove",value:function(){null!=this.animationFrame&&Q3(this.animationFrame),this.container.removeChild(this.canvas),this.container.parentNode.removeChild(this.container),this.context=null,this.canvas=null,this.container=null}},{key:"clear",value:function(e){e&&e.clear&&e.clear(),e&&e.clearRect&&e.clearRect(0,0,e.canvas.width,e.canvas.height)}},{key:"getScale",value:function(e){var t=this.map,n=null==e?t.getZoom():e,r=U3.getResolution(U3.nativeMaxZoom);return U3.getResolution(n)/r}},{key:"getCanvasContainer",value:function(){return this.container}},{key:"getCanvas",value:function(){return this.canvas}},{key:"locationCamera",value:function(){var e=this.map,t=this.getMapSize(),n=e.transform.zoomScale(U3.nativeMaxZoom-e.getZoom()-1),r=Math.tan(e.transform.fov/2*q3),o=this.camera,i=e.getPitch()*q3,a=-n*t.height/2/r;o.position.z=a*Math.cos(i);var s=B3.lngLatToPoint(e.getCenter(),U3.nativeMaxZoom),l=Math.sin(i)*a,u=e.getBearing()*q3;o.position.x=s.x+l*Math.sin(u),o.position.y=s.y-l*Math.cos(u),o.up.set(Math.sin(u),-Math.cos(u),0),o.lookAt(new D3.Vector3(s.x,s.y,0)),o.updateProjectionMatrix()}},{key:"_initContainer",value:function(){var e=this._createCanvas(),t=this.container=document.createElement("div");this._layer._layerId&&(t.id=this._layer._layerId),t.className="threejs-wrapper",t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.overflow="hidden",this._resetElementSize(t),t.appendChild(e),this.map.getCanvasContainer().appendChild(t)}},{key:"_createCanvas",value:function(){if(!this.canvas){var e=this.canvas=document.createElement("canvas");return e.className="threejs-overlay",e.style.outline="none",this._resetElementSize(e),e}}},{key:"_resetElementSize",value:function(e){if(e){var t=this.getMapSize(),n=window.devicePixelRatio?window.devicePixelRatio:1,r=n*t.width,o=n*t.height;e.width=r,e.height=o,e.style.width=t.width+"px",e.style.height=t.height+"px"}}},{key:"_initThreeRenderer",value:function(){var e,t=this.map,n=this.getMapSize(),r=this.renderer||"gl";"gl"===r?(e=new z3({canvas:this.canvas,alpha:!0,antialias:!0,preserveDrawingBuffer:!0},this.options),e.autoClear=!0,e.clear()):e=new V3(hK.extend({canvas:this.canvas,alpha:!0},this.options)),e.setClearColor(new H3(1,1,1),0),e.canvas=this.canvas,this.context=e;var o=t.transform.fov,i=Math.tan(o/2*q3),a=this.getScale(U3.minZoom)/this.getScale(U3.nativeMaxZoom),s=a*n.height/2/i;this.camera=new W3(o,n.width/n.height,1,s),this.scene=new J3,this.scene.add(this.camera)}}]),e}(),K3=D3.Vector3,Z3=D3.Shape,$3=D3.Mesh,e4=D3.BufferGeometry,t4=D3.ExtrudeGeometry,n4=function(e){function t(e,n,r){var o;DW(this,t),o=UW(this,HW(t).call(this)),o._layerId=e,o.options=r;var i=r&&r.threeOptions;return o.renderer=new X3(JW(o),n,i),o}return zW(t,e),BW(t,[{key:"toThreeShape",value:function(e){var t=this;if(!e)return null;var n=this.getCoordinatesCenter(e),r=this.lngLatToPosition(n),o=e.map(function(e){return t.lngLatToPosition({lng:e[0],lat:e[1]}).sub(r)});return new Z3(o)}},{key:"toThreeMesh",value:function(e,t,n,r){if(!e)return null;var o=e;r&&(o=this.removeDuplicatedCoordinates(e));var i=this.distanceToThreeVector3(t,t).x,a=this.toThreeShape(o),s=new t4(a,{amount:i,bevelEnabled:!0}),l=(new e4).fromGeometry(s),u=new $3(l,n),c=this.lngLatToPosition(this.getCoordinatesCenter(o));return u.position.set(c.x,c.y,-i),u}},{key:"addObject",value:function(e,t){t&&e&&this.setPosition(e,t),this.renderer&&this.renderer.scene.add(e)}},{key:"getScene",value:function(){return this.renderer.scene}},{key:"getCamera",value:function(){return this.renderer.camera}},{key:"getThreeRenderer",value:function(){return this.renderer.context}},{key:"clearMesh",value:function(){var e=this.renderer.scene;if(!e)return this;for(var t=e.children.length-1;t>=0;t--)e.children[t]instanceof D3.Mesh&&e.remove(e.children[t]);return this}},{key:"clearAll",value:function(e){var t=this.renderer.scene;if(!t)return this;for(var n=t.children.length-1;n>=0;n--)!e&&t.children[n]instanceof D3.Camera||t.remove(t.children[n]);return this}},{key:"setPosition",value:function(e,t){if(!e||!t)return this;var n=this.lngLatToPosition(t);return e.position.set(n.x,n.y,n.z),this}},{key:"lngLatToPosition",value:function(e){var t=B3.projection.nativeMaxZoom,n=B3.lngLatToPoint(e,t);return new K3(n.x,n.y,-0)}},{key:"distanceToThreeVector3",value:function(e,t,n){var r=this._map,o=n||r.getCenter(),i=B3.projection.nativeMaxZoom,a=B3.locate(o,e,t),s=B3.lngLatToPoint(o,i),l=B3.lngLatToPoint(a,i),u=Math.abs(l.x-s.x)*Math.sign(e),c=Math.abs(l.y-s.y)*Math.sign(t);return new K3(u,c,0)}},{key:"removeDuplicatedCoordinates",value:function(e){function t(e,t){return e[0]===t[0]&&e[1]===t[1]}for(var n=[].concat(e),r=n.length,o=r-1;o>=1;o--)t(n[o],n[o-1])&&n.splice(o,1);return t(n[0],n[n.length-1])&&n.splice(n.length-1,1),n}},{key:"getCoordinatesCenter",value:function(e){for(var t=0,n=0,r=0,o=0,i=e.length;o<i;o++)e[o]&&(t+=e[o][0],n+=e[o][1],r++);return{lng:t/r,lat:n/r}}},{key:"addTo",value:function(e){var t=this;return t._map=e,t.renderer.setMap(e),t.renderer.render(),t._map.on("render",this._update.bind(t)),t._map.on("resize",this._resize.bind(t)),t.on("render",function(){this.context&&this.context.render(this.scene,this.camera)}.bind(t.renderer)),this}},{key:"getCanvasContainer",value:function(){return this.renderer.getCanvasContainer()}},{key:"getCanvas",value:function(){return this.renderer.getCanvas()}},{key:"remove",value:function(){var e=this._map,t=this;e.off("render",t._update.bind(t)),e.off("resize",t._resize.bind(t)),t.renderer.remove(),t._map=null}},{key:"draw",value:function(e,t,n){return this}},{key:"renderScene",value:function(){return this.renderer.renderScene(),this.fire("renderscene"),this}},{key:"_resize",value:function(){this.renderer.resize()}},{key:"_update",value:function(){return this.renderScene(),this.fire("render"),this}}]),t}(v3.a.Evented);v3.a.supermap.ThreeLayer=n4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var r4=function(e){function t(e,n){var r;qW(this,t),r=XW(this,ZW(t).call(this));var o=n||{};return r.name=e,r.id=o.id?o.id:hK.createUniqueID("HeatMapLayer_"),r.map=o.map?o.map:null,r.loadWhileAnimating=void 0===o.loadWhileAnimating||o.loadWhileAnimating,r.visibility=!0,r.opacity=o.opacity?o.opacity:1,r.colors=o.colors?o.colors:["blue","cyan","lime","yellow","red"],r.useGeoUnit=!!o.useGeoUnit&&o.useGeoUnit,r.radius=o.radius?o.radius:50,r.featureWeight=o.featureWeight?o.featureWeight:null,r.features=[],r.maxWeight=null,r.minWeight=null,r.EVENT_TYPES=["featuresadded","featuresremoved","featuresdrawcompleted"],r.supported=!1,r.rootCanvas=null,r.canvasContext=null,r.maxWidth=null,r.maxHeight=null,r}return $W(t,e),QW(t,[{key:"onAdd",value:function(e){this.map=e,0!==this.features.length&&(this._createCanvasContainer(),this.map.on("resize",this._resizeEvent.bind(this)),this.map.on("zoomstart",this._zoomStartEvent.bind(this)),this.map.on("zoomend",this._zoomEndEvent.bind(this)),this.map.on("rotatestart",this._rotateStartEvent.bind(this)),this.map.on("rotate",this._rotateEvent.bind(this)),this.map.on("rotateend",this._rotateEndEvent.bind(this)),this.map.on("dragend",this._dragEndEvent.bind(this)),this.map.on("movestart",this._moveStartEvent.bind(this)),this.map.on("move",this._moveEvent.bind(this)),this.map.on("moveend",this._moveEndEvent.bind(this)),this.map.on("remove",this.removeFromMap.bind(this)),this.refresh())}},{key:"removeFromMap",value:function(){this.removeAllFeatures(),this.map.getCanvasContainer().removeChild(this.rootCanvas)}},{key:"_createCanvasContainer",value:function(){this.supported=!0,this.mapContainer=this.map.getCanvasContainer(),this.rootCanvas=document.createElement("canvas"),this.rootCanvas.id=this.id;var e=this.map.getCanvas();this.rootCanvas.width=this.maxWidth=parseInt(e.width),this.rootCanvas.height=this.maxHeight=parseInt(e.height),hK.modifyDOMElement(this.rootCanvas,null,null,null,"absolute",null,null,this.opacity),this.canvasContext=this.rootCanvas.getContext("2d"),this.mapContainer.appendChild(this.rootCanvas)}},{key:"addFeatures",value:function(e){this.features=this.toiClientFeature(e),this.fire(this.EVENT_TYPES[0],{features:e,succeed:!0}),this.refresh()}},{key:"refresh",value:function(){if(0!==this.features.length&&this.map){var e=this.map.getBounds();this.updateHeatPoints(e)}}},{key:"setOpacity",value:function(e){e!==this.opacity&&(this.opacity=e,hK.modifyDOMElement(this.rootCanvas,null,null,null,null,null,null,e),null!==this.map&&this.fire("changelayer",{layer:this,property:"opacity"}))}},{key:"updateHeatPoints",value:function(e){this.features&&this.features.length>0?this.convertFastToPixelPoints(e):this.canvasContext.clearRect(0,0,this.maxWidth,this.maxWidth)}},{key:"convertFastToPixelPoints",value:function(e){var t,n,r,o,i,a,s,l=[],u=e.getEast()-e.getWest(),c=e.getNorth()-e.getSouth(),f=this.map.getCanvas();o=u/f.width>c/f.height?u/f.width:c/f.height,this.useRadius=this.useGeoUnit?parseInt(this.radius/o):this.radius;for(var p=0;p<this.features.length;p++){var h=this.features[p],y=h.geometry,d=this.getPixelXY(new yK(y.x,y.y));this.featureWeight?(d.weight=h.attributes[this.featureWeight],this.maxWeight||(i=i||d.weight,a=a||d.weight,i=Math.max(i,d.weight),a=Math.min(a,d.weight))):d.weight=1,t=Math.floor(d.x),n=Math.floor(d.y),r=d.weight,l.push([t,n,r])}this.maxWeight?this.draw(l,this.maxWeight):(s=i&&a?(i+a)/2:1,this.draw(l,s))}},{key:"draw",value:function(e,t){if(!(this.maxHeight>0&&this.maxWidth>0))return!1;var n=this.canvasContext;this.canvasContext.clearRect(0,0,this.maxWidth,this.maxHeight),this.drawCircle(this.useRadius),this.createGradient();for(var r=0;r<e.length;r++){var o=e[r];this.canvasContext.globalAlpha=Math.max(o[2]/t,.05),this.canvasContext.drawImage(this.circle,o[0]-this.useRadius,o[1]-this.useRadius)}var i=n.getImageData(0,0,this.maxWidth,this.maxHeight);this.colorize(i.data,this.grad),n.putImageData(i,0,0)}},{key:"colorize",value:function(e,t){for(var n,r=0;r<e.length;r+=4)(n=4*e[r+3])&&(e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2])}},{key:"drawCircle",value:function(e){var t=e/2,n=this.circle=document.createElement("canvas"),r=n.getContext("2d");n.height=2*e,n.width=2*e,r.shadowOffsetX=r.shadowOffsetY=2*e,r.shadowBlur=t,r.shadowColor="#000000",r.beginPath(),r.arc(-e,-e,e/2,0,2*Math.PI,!0),r.closePath(),r.fill()}},{key:"createGradient",value:function(){var e=this.colors,t=document.createElement("canvas"),n=t.getContext("2d"),r=n.createLinearGradient(0,0,0,256);t.height=256,t.width=1;for(var o=1,i=0,a=e.length;i<a;i++)r.addColorStop(o/a,e[i]),o++;n.fillStyle=r,n.fillRect(0,0,1,256),this.grad=n.getImageData(0,0,1,256).data}},{key:"getPixelXY",value:function(e){var t,n=this.map;if(e instanceof SK||e instanceof OK){var r=n.project(new v3.a.LngLat(e.x,e.y));t={x:parseInt(r.x),y:parseInt(r.y)}}if(e instanceof yK){var o=n.project(new v3.a.LngLat(e.lon,e.lat));t={x:parseInt(o.x),y:parseInt(o.y)}}return t}},{key:"toiClientFeature",value:function(e){hK.isArray(e)||(e=[e]);for(var t=[],n=0;n<e.length;n++)if(e[n]instanceof RK)t.push(e[n]);else if(-1!=["FeatureCollection","Feature","Geometry"].indexOf(e[n].type)){var r=new BK;t=t.concat(r.read(e[n]))}else{if(!e[n].geometry||!e[n].geometry.parts)throw new Error("Features[".concat(n,"]'s type does not match, please check."));t.push(T1.fromJson(e[n]).toFeature())}return t}},{key:"removeFeatures",value:function(e){if(e&&0!==e.length&&this.features&&0!==this.features.length){if(e===this.features)return this.removeAllFeatures();hK.isArray(e)||(e=[e]);for(var t,n,r=[],o=0,i=e.length;o<i;o++)t=e[o],n=hK.indexOf(this.features,t),-1!==n?this.features.splice(n,1):r.push(t);var a=0==r.length;this.fire(this.EVENT_TYPES[1],{features:r,succeed:a}),this.refresh()}}},{key:"removeAllFeatures",value:function(){this.features=[],this.refresh()}},{key:"moveTo",value:function(e,t){var n=document.getElementById(this.rootCanvas.id);if(t=void 0===t||t){var r=document.getElementById(e);return void(n&&r&&r.parentNode.insertBefore(n,r))}var o=document.getElementById(e);if(n){if(o.nextSibling)return void o.parentNode.insertBefore(n,o.nextSibling);o.parentNode.appendChild(n)}}},{key:"setVisibility",value:function(e){this.rootCanvas&&e!==this.visibility&&(this.visibility=e,this.rootCanvas.style.display=e?"block":"none")}},{key:"_resizeEvent",value:function(){this.mapContainer.style.perspective=this.map.transform.cameraToCenterDistance+"px";var e=this.map.getCanvas();this.rootCanvas.style.width=e.style.width,this.rootCanvas.style.height=e.style.height,this.rootCanvas.width=this.maxWidth=parseInt(e.width),this.rootCanvas.height=this.maxHeight=parseInt(e.height);var t=window.devicePixelRatio||1;1!==t&&this.canvasContext&&this.canvasContext.scale(t,t),this.refresh()}},{key:"_zoomStartEvent",value:function(){!this.loadWhileAnimating&&this.visibility&&(this.zooming=!0,this._hide())}},{key:"_zoomEndEvent",value:function(){!this.loadWhileAnimating&&this.visibility&&(this.zooming=!1,this._show())}},{key:"_rotateStartEvent",value:function(){!this.loadWhileAnimating&&this.visibility&&(this.rotating=!0)}},{key:"_rotateEvent",value:function(){if(!this.loadWhileAnimating&&this.visibility){0!==this.map.getPitch()&&this._hide(),this.mapContainer.style.perspective=this.map.transform.cameraToCenterDistance+"px";var e=this.map.getPitch()-this.startPitch,t=-this.map.getBearing()+this.startBearing;this.rootCanvas.style.transform="rotateX("+e+"deg) rotateZ("+t+"deg)"}}},{key:"_rotateEndEvent",value:function(){!this.loadWhileAnimating&&this.visibility&&(this.rotating=!1,this._show())}},{key:"_dragEndEvent",value:function(){!this.loadWhileAnimating&&this.visibility&&this._hide()}},{key:"_moveEndEvent",value:function(){!this.loadWhileAnimating&&this.visibility&&(this.rootCanvas.style.transform="",this.refresh(),this._show())}},{key:"_moveStartEvent",value:function(){if(!this.loadWhileAnimating&&this.visibility){this.startPitch=this.map.getPitch(),this.startBearing=this.map.getBearing();var e=this.map.project(new v3.a.LngLat(0,0));this.startMoveX=e.x,this.startMoveY=e.y}}},{key:"_moveEvent",value:function(){if(this.loadWhileAnimating||!this.visibility)return void this.refresh();if(!this.rotating&&!this.zooming){0!==this.map.getPitch()&&this._hide(),this.mapContainer.style.perspective=this.map.transform.cameraToCenterDistance+"px";var e=this.map.getPitch()-this.startPitch,t=-this.map.getBearing()+this.startBearing,n=this.map.project(new v3.a.LngLat(0,0)),r=n.x-this.startMoveX,o=n.y-this.startMoveY;this.rootCanvas.style.transform="rotateX("+e+"deg) rotateZ("+t+"deg) translate3d("+r+"px, "+o+"px, 0px)"}}},{key:"_hide",value:function(){this.rootCanvas.style.display="none"}},{key:"_show",value:function(){this.rootCanvas.style.display="block"}}]),t}(v3.a.Evented);v3.a.supermap.HeatMapLayer=r4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var o4=function(){function e(t,n){tq(this,e),this.layerTypeID=t,this.data=[].concat(n.data),this.props=n.props?n.props:{},this.callback=n.callback?n.callback:{},this.id=n.layerId?n.layerId:hK.createUniqueID("graphicLayer_"+this.layerTypeID+"_"),this.visibility=!0}return rq(e,[{key:"onAdd",value:function(e){if(this.map=e,this.canvas)return this.mapContainer=this.map.getCanvasContainer(),this.mapContainer.appendChild(this.canvas),this;e.getCRS&&e.getCRS()!==v3.a.CRS.EPSG3857&&(this.coordinateSystem=3,this.isGeographicCoordinateSystem=!0),this._initContainer(),this._createLayerByLayerTypeID();var t=this._getState(),n={};for(var r in t)n[r]=t[r];return n.layers=[this.layer],n.canvas=this.canvas,this.deckGL=new window.DeckGL.experimental.DeckGLJS(n),this.map.on("render",this._moveEvent.bind(this)),this.map.on("resize",this._resizeEvent.bind(this)),this._draw(),this}},{key:"remove",value:function(){this.map.off("render",this._moveEvent.bind(this)),this.map.off("resize",this._resizeEvent.bind(this)),this.map.getCanvasContainer().removeChild(this.canvas)}},{key:"removeFromMap",value:function(){this.remove(),this.clear()}},{key:"moveTo",value:function(e,t){var n=document.getElementById(this.id);if(t=void 0===t||t){var r=document.getElementById(e);return void(n&&r&&r.parentNode.insertBefore(n,r))}var o=document.getElementById(e);if(n){if(o.nextSibling)return void o.parentNode.insertBefore(n,o.nextSibling);o.parentNode.appendChild(n)}}},{key:"setVisibility",value:function(e){this.canvas&&e!==this.visibility&&(this.visibility=e,this.canvas.style.display=e?"block":"none")}},{key:"setStyle",value:function(e){g3.extend(this.props,e),this.update()}},{key:"setData",value:function(e){this.data=this.data||[],this.data.length=0;var t=g3.isArray(e)?[].concat(e):[e];this.layer.props.data||(this.layer.props.data=[]),this.layer.props.data.length=0;for(var n=0;n<t.length;n++)this.layer.props.data.push(t[n]);this.data=this.layer.props.data,this.update()}},{key:"addData",value:function(e){this.data=this.data||[];var t=g3.isArray(e)?[].concat(e):[e];this.layer.props.data||(this.layer.props.data=[]);for(var n=0;n<t.length;n++)this.layer.props.data.push(t[n]);this.update()}},{key:"update",value:function(){var e={dataChanged:!0,propsChanged:!0,viewportChanged:!0,updateTriggersChanged:!0},t=this._getState();if("polygon-layer"===this.layerTypeID){for(var n=this.layer.getSubLayers(),r=0;r<n.length;r++)n[r].setChangeFlags(e),n[r].setState(t);return void this._draw()}this.layer.setChangeFlags(e),this.layer.setState(t)}},{key:"clear",value:function(){this.removeData(),this.deckGL.finalize()}},{key:"removeData",value:function(){this.data.length=0,this.layer.props.data&&(this.layer.props.data.length=0),this.update()}},{key:"_draw",value:function(){var e=this._getState();e.layers=[this.layer],e.canvas=this.canvas,this.deckGL.setProps(e)}},{key:"_getState",value:function(){var e=this.map,t=parseInt(this.canvas.style.width),n=parseInt(this.canvas.style.height),r=e.getCenter(),o=r.lng,i=r.lat,a=e.getZoom(),s=e.getMaxZoom(),l=e.getPitch(),u=e.getBearing(),c={width:t,height:n,longitude:o,latitude:i,zoom:a,maxZoom:s,pitch:l,bearing:u},f={};for(var p in c)f[p]=c[p];for(var h in this.props)f[h]=this.props[h];return e.getCRS&&e.getCRS()!==v3.a.CRS.EPSG3857&&(f.coordinateSystem=this.coordinateSystem,f.isGeographicCoordinateSystem=this.isGeographicCoordinateSystem),f.data=this.data,f}},{key:"_createLayerByLayerTypeID",value:function(){if(this.props.data=this.data,this.props.isGeographicCoordinateSystem=this.isGeographicCoordinateSystem,this.props.coordinateSystem=this.coordinateSystem,this.props.pickable=Boolean(this.props.onClick)||Boolean(this.props.onHover),"scatter-plot"===this.layerTypeID)this.props.id="scatter-plot",this._createScatterPlotLayer();else if("path-layer"===this.layerTypeID)this.props.id="path-layer",this._createPathLayer();else if("polygon-layer"===this.layerTypeID)this.props.id="polygon-layer",this._createPolygonLayer();else if("arc-layer"===this.layerTypeID)this.props.id="arc-layer",this._createArcLineLayer();else{if("hexagon-layer"!==this.layerTypeID)throw new Error(this.layerTypeID+" does not support");this.props.id="hexagon-layer",this._createHexagonLayer()}}},{key:"_createScatterPlotLayer",value:function(){var e=this;this.props.getPosition=this.callback.getPosition?this.callback.getPosition:function(e){if(!e)return[0,0,0];var t=e.getLngLat();return t&&[t.lng,t.lat,0]},this.callback.getColor&&(this.props.getColor=this.callback.getColor?this.callback.getColor:function(t){var n=t&&t.getStyle();return n&&n.color||e.props.color}),this.callback.getRadius&&(this.props.getRadius=this.callback.getRadius?this.callback.getRadius:function(t){var n=t&&t.getStyle();return n&&n.radius||e.props.radius}),(this.props.color||this.props.radius)&&(this.props.updateTriggers={},this.props.radius&&(this.props.updateTriggers.getRadius=[this.props.radius]),this.props.color&&(this.props.updateTriggers.getColor=[this.props.color])),this.layer=new window.DeckGL.ScatterplotLayer(this.props)}},{key:"_createPathLayer",value:function(){this.props.getPath=this.callback.getPath?this.callback.getPath:function(e){return e.geometry.coordinates},this.callback.getColor&&(this.props.getColor=this.callback.getColor),this.callback.getWidth&&(this.props.getWidth=this.callback.getWidth),this.callback.getDashArray&&(this.props.getDashArray=this.callback.getDashArray),this.layer=new window.DeckGL.PathLayer(this.props)}},{key:"_createPolygonLayer",value:function(){this.props.getPolygon=this.callback.getPolygon?this.callback.getPolygon:function(e){return e.geometry.coordinates},this.callback.getElevation&&(this.props.getElevation=this.callback.getElevation),this.callback.getFillColor&&(this.props.getFillColor=this.callback.getFillColor),this.callback.getLineColor&&(this.props.getLineColor=this.callback.getLineColor),this.callback.getLineWidth&&(this.props.getLineWidth=this.callback.getLineWidth),this.props.updateTriggers={},this.props.updateTriggers.getColor=this.props.color?this.props.color:[0,0,128,128],this.layer=new window.DeckGL.PolygonLayer(this.props)}},{key:"_createArcLineLayer",value:function(){this.props.getSourcePosition=this.callback.getSourcePosition?this.callback.getSourcePosition:function(e){return e?e.geometry.coordinates[0]:[0,0,0]},this.props.getTargetPosition=this.callback.getTargetPosition?this.callback.getTargetPosition:function(e){return e?e.geometry.coordinates[1]:[0,0,0]},this.callback.getStrokeWidth&&(this.props.getStrokeWidth=this.callback.getStrokeWidth),this.callback.getSourceColor&&(this.props.getSourceColor=this.callback.getSourceColor),this.callback.getTargetColor&&(this.props.getTargetColor=this.callback.getTargetColor),this.layer=new window.DeckGL.ArcLayer(this.props)}},{key:"_createHexagonLayer",value:function(){this.props.getPosition=this.callback.getPosition?this.callback.getPosition:function(e){return e?e.geometry.coordinates:[0,0,0]},this.callback.getColorValue&&(this.props.getColorValue=this.callback.getColorValue),this.callback.getElevationValue&&(this.props.getElevationValue=this.callback.getElevationValue),this.layer=new window.DeckGL.HexagonLayer(this.props)}},{key:"_initContainer",value:function(){this.canvas=this._createCanvas(),this.mapContainer=this.map.getCanvasContainer(),this.mapContainer.appendChild(this.canvas)}},{key:"_createCanvas",value:function(){var e=document.createElement("canvas");e.id=this.id,e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.cursor="";var t=this.map;return e.width=parseInt(t.getCanvas().style.width),e.height=parseInt(t.getCanvas().style.height),e.style.width=t.getCanvas().style.width,e.style.height=t.getCanvas().style.height,e}},{key:"_moveEvent",value:function(){this._draw()}},{key:"_resizeEvent",value:function(){var e=this.canvas,t=this.map;e.width=parseInt(t.getCanvas().style.width),e.height=parseInt(t.getCanvas().style.height),e.style.width=t.getCanvas().style.width,e.style.height=t.getCanvas().style.height,this._draw()}}]),e}();v3.a.supermap.DeckglLayer=o4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var i4={getPoint:function(e){if(e&&e instanceof Array)return new C3.DataSet([{geometry:{type:"Point",coordinates:e}}])},getPoints:function(e){if(e&&e instanceof Array){var t=[];return e.map(function(e){return t.push({geometry:{type:"Point",coordinates:e.geometry.coordinates}}),e}),new C3.DataSet(t)}},getCurveLines:function(e,t){if(e&&e instanceof Array&&t&&t instanceof Array){var n=[];return t.map(function(t){var r=t.geometry&&t.geometry.coordinates,o={lng:r[0],lat:r[1]},i={lng:e[0],lat:e[1]},a=C3.utilCurve.getPoints([i,o]);return n.push({geometry:{type:"LineString",coordinates:a}}),t}),new C3.DataSet(n)}},getCurveDynamicPoints:function(e,t){if(e&&e instanceof Array&&t&&t instanceof Array){var n=[];return t.map(function(t){for(var r=t.geometry&&t.geometry.coordinates,o={lng:r[0],lat:r[1]},i={lng:e[0],lat:e[1]},a=C3.utilCurve.getPoints([i,o]),s=0;s<a.length;s++)n.push({geometry:{type:"Point",coordinates:a[s]},time:s});return t}),new C3.DataSet(n)}}};v3.a.supermap.MapvDataSet=i4,/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
v3.a.supermap=v3.a.supermap||{},v3.a.supermap.map=v3.a.supermap.map||{};var a4=function(e,t){t=t||{};var n={};n.version=t.version||8,n.layers=t.layers||[],n.light=t.light||{anchor:"viewport",color:"#fcf6ef",intensity:.5,position:[1.15,201,20]};var r={version:n.version,sources:{"vector-tiles":{type:"vector",tiles:[e]}},layers:n.layers,light:n.light};return null!=t.sprite&&(r.sprite=t.sprite),null!=t.glyphs&&(r.glyphs=t.glyphs),r},s4=function(e,t){t&&e&&e.addLayer({id:"background",type:"background",paint:{"background-color":t}},"background")},l4=function(e,t,n,r,o,i){if(t&&e){"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]);for(var a=0;a<t.length;a++){var s=i?i[a]:null,l=oq(t[a],n,o,s,r);e.addLayer(l,t[a]),e.moveLayer(t[a])}}};v3.a.supermap.map.getDefaultVectorTileStyle=a4,v3.a.supermap.map.setBackground=s4,v3.a.supermap.map.setPaintProperty=l4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var u4=function(e){function t(e,n){var r;return aq(this,t),r=sq(this,lq(t).call(this)),r.options=n||{},r.url=e,r.fire("initialized",uq(r)),r}return cq(t,e),t}(v3.a.Evented);v3.a.supermap.ServiceBase=u4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c4=function(e){function t(e,n){return hq(this,t),vq(this,bq(t).call(this,e,n))}return gq(t,e),dq(t,[{key:"code",value:function(e,t){var n=this;new SZ(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).code(n.url+"/geocoding",e)}},{key:"decode",value:function(e,t){var n=this;new SZ(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).decode(n.url+"/geodecoding",e)}}]),t}(u4);v3.a.supermap.AddressMatchService=c4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var f4=function(e){function t(e,n){return Oq(this,t),Cq(this,Eq(t).call(this,e,n))}return kq(t,e),Pq(t,[{key:"queryChart",value:function(e,t,n){var r=this,o=r._processParams(e),i=r._processFormat(n);new QZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).processAsync(o)}},{key:"getChartFeatureInfo",value:function(e){var t=this,n=t.url.concat();n+="/chartFeatureInfoSpecs",new VZ(n,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{scope:t,processCompleted:e,processFailed:e}}).processAsync()}},{key:"_processParams",value:function(e){if(!e)return{};e.returnContent=null==e.returnContent||e.returnContent,e.filter&&(e.chartQueryFilterParameters=g3.isArray(e.filter)?e.filter:[e.filter]),e.bounds&&(e.bounds instanceof Array&&(e.bounds=new dK(e.bounds[0],e.bounds[1],e.bounds[2],e.bounds[3])),e.bounds instanceof v3.a.LngLatBounds&&(e.bounds=new dK(e.bounds.getSouthWest().lng,e.bounds.getSouthWest().lat,e.bounds.getNorthEast().lng,e.bounds.getNorthEast().lat)))}},{key:"_processFormat",value:function(e){return e||oX.GEOJSON}}]),t}(u4);v3.a.supermap.ChartService=f4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var p4=function(e){function t(e,n){var r;Aq(this,t),n=n||{},n.projection&&(n.prjCoordSys=n.projection),r=Nq(this,Mq(t).call(this,e,n)),r.dataFlow=new n$(e,n),r.dataFlow.events.on({broadcastSocketConnected:r._defaultEvent,broadcastSocketError:r._defaultEvent,broadcastFailed:r._defaultEvent,broadcastSucceeded:r._defaultEvent,subscribeSocketConnected:r._defaultEvent,subscribeSocketError:r._defaultEvent,messageSucceeded:r._defaultEvent,setFilterParamSucceeded:r._defaultEvent,scope:Iq(r)});var o=Iq(r);return o.on("subscribeSocketConnected",function(e){o.fire("subscribesucceeded",e)}),r}return Fq(t,e),Lq(t,[{key:"initBroadcast",value:function(){return this.dataFlow.initBroadcast(),this}},{key:"broadcast",value:function(e){this.dataFlow.broadcast(e)}},{key:"initSubscribe",value:function(){return this.dataFlow.initSubscribe(),this}},{key:"setExcludeField",value:function(e){return this.dataFlow.setExcludeField(e),this.options.excludeField=e,this}},{key:"setGeometry",value:function(e){return this.dataFlow.setGeometry(e),this.options.geometry=e,this}},{key:"unSubscribe",value:function(){this.dataFlow.unSubscribe()}},{key:"unBroadcast",value:function(){this.dataFlow.unBroadcast()}},{key:"_defaultEvent",value:function(e){this.fire(e.eventType||e.type,e)}}]),t}(u4);v3.a.supermap.DataFlowService=p4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var h4=function(e){function t(e,n){return Bq(this,t),Jq(this,Vq(t).call(this,e,n))}return Wq(t,e),Hq(t,[{key:"getFeaturesByIDs",value:function(e,t,n){var r=this;new l0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"getFeaturesByBounds",value:function(e,t,n){var r=this;new n0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"getFeaturesByBuffer",value:function(e,t,n){var r=this;new o0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"getFeaturesBySQL",value:function(e,t,n){var r=this;new c0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"getFeaturesByGeometry",value:function(e,t,n){var r=this;new a0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"editFeatures",value:function(e,t){if(e&&e.dataSourceName&&e.dataSetName){var n=this,r=n.url;r+="/datasources/"+e.dataSourceName+"/datasets/"+e.dataSetName;new y$(r,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t}}).processAsync(n._processParams(e))}}},{key:"_processParams",value:function(e){if(!e)return{};var t=this;if(e.returnContent=null==e.returnContent||e.returnContent,e.fromIndex=e.fromIndex?e.fromIndex:0,e.toIndex=0===e.toIndex?0:e.toIndex?e.toIndex:-1,e.bounds&&(e.bounds=g3.toSuperMapBounds(e.bounds)),e.editType&&(e.editType=e.editType.toLowerCase()),e.geometry&&(e.geometry instanceof v3.a.LngLatBounds?e.geometry=g3.toSuperMapPolygon(e.geometry):e.geometry=g3.toSuperMapGeometry(e.geometry)),e.features){var n=[];g3.isArray(e.features)?e.features.map(function(e){return n.push(t._createServerFeature(e)),n}):n.push(t._createServerFeature(e.features)),e.features=n}return e}},{key:"_createServerFeature",value:function(e){var t={},n=[],r=[],o=e.properties;for(var i in o)n.push(i),r.push(o[i]);return t.fieldNames=n,t.fieldValues=r,e.id&&(t.id=e.id),t.geometry=g3.toSuperMapGeometry(e),t}},{key:"_processFormat",value:function(e){return e||oX.GEOJSON}}]),t}(u4);v3.a.supermap.FeatureService=h4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var y4=function(e){function t(e,n){return Qq(this,t),Zq(this,eY(t).call(this,e,n))}return tY(t,e),Kq(t,[{key:"getFields",value:function(e,t){var n=this;new f0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t},datasource:e.datasource,dataset:e.dataset}).processAsync()}},{key:"getFieldStatisticsInfo",value:function(e,t){var n=this,r=e.fieldName,o=e.statisticMode;o&&!g3.isArray(o)&&(o=[o]),n.currentStatisticResult={fieldName:r},n._statisticsCallback=t;for(var i in o)n.currentStatisticResult[o[i]]=null,n._fieldStatisticRequest(e.datasource,e.dataset,r,o[i])}},{key:"_fieldStatisticRequest",value:function(e,t,n,r){var o=this;new A$(o.url,{eventListeners:{scope:o,processCompleted:o._processCompleted,processFailed:o._statisticsCallback},datasource:e,dataset:t,field:n,statisticMode:r,crossOrigin:o.options.crossOrigin,headers:o.options.headers}).processAsync()}},{key:"_processCompleted",value:function(e){var t=this,n=!0,r=e.result;this.currentStatisticResult&&null==t.currentStatisticResult[r.mode]&&(this.currentStatisticResult[r.mode]=r.result);for(var o in t.currentStatisticResult)if(null==t.currentStatisticResult[o]){n=!1;break}n&&t._statisticsCallback({result:t.currentStatisticResult})}}]),t}(u4);v3.a.supermap.FieldService=y4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var d4=function(e){function t(e,n){return oY(this,t),sY(this,uY(t).call(this,e,n))}return cY(t,e),aY(t,[{key:"getGridCellInfos",value:function(e,t){if(!e)return null;var n=this;new h0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}}]),t}(u4);v3.a.supermap.GridCellInfosService=d4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var v4=function(e){function t(e,n){return hY(this,t),vY(this,bY(t).call(this,e,n))}return gY(t,e),dY(t,[{key:"getLayersInfo",value:function(e){var t=this;new V0(t.url,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{processCompleted:e,processFailed:e}}).processAsync()}},{key:"setLayerInfo",value:function(e,t){if(e){var n=this,r=e.resourceID,o=e.tempLayerName,i=e.layerInfo;if(r&&o){var a=n.url.concat();a+="/tempLayersSet/"+r+"/"+o;new k1(a,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t}}).processAsync(i)}}}},{key:"setLayersInfo",value:function(e,t){if(e){var n=this,r=e.resourceID,o=!!e.isTempLayers&&e.isTempLayers,i=e.layersInfo;if((!o||r)&&i){new j1(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t},resourceID:r,isTempLayers:o}).processAsync(i)}}}},{key:"setLayerStatus",value:function(e,t){if(e){var n=this;new R1(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t}}).processAsync(e)}}}]),t}(u4);v3.a.supermap.LayerInfoService=v4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var m4=function(e){function t(e,n){return OY(this,t),CY(this,EY(t).call(this,e,n))}return kY(t,e),PY(t,[{key:"getMapInfo",value:function(e){var t=this;new i1(t.url,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{scope:t,processCompleted:e,processFailed:e},projection:t.options.projection}).processAsync()}},{key:"getTilesets",value:function(e){var t=this;new n2(t.url,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{scope:t,processCompleted:e,processFailed:e}}).processAsync()}}]),t}(u4);v3.a.supermap.MapService=m4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b4=function(e){function t(e,n){return AY(this,t),NY(this,IY(t).call(this,e,n))}return FY(t,e),LY(t,[{key:"measureDistance",value:function(e,t){this.measure(e,"DISTANCE",t)}},{key:"measureArea",value:function(e,t){this.measure(e,"AREA",t)}},{key:"measure",value:function(e,t,n){var r=this;new u1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,measureMode:t,eventListeners:{scope:r,processCompleted:n,processFailed:n}}).processAsync(r._processParam(e))}},{key:"_processParam",value:function(e){return!e||e.geometry instanceof vK||(e.geometry=g3.toSuperMapGeometry(e.geometry)),e}}]),t}(u4);v3.a.supermap.MeasureService=b4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var g4=function(e){function t(e,n){return BY(this,t),JY(this,VY(t).call(this,e,n))}return WY(t,e),HY(t,[{key:"burstPipelineAnalyst",value:function(e,t){var n=this;new zZ(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(n._processParams(e))}},{key:"computeWeightMatrix",value:function(e,t){var n=this;new t$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(n._processParams(e))}},{key:"findClosestFacilities",value:function(e,t,n){var r=this;new L$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"streamFacilityAnalyst",value:function(e,t,n){var r=this;new w$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"findLocation",value:function(e,t,n){var r=this;new M$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"findPath",value:function(e,t,n){var r=this;new G$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"findTSPPaths",value:function(e,t,n){var r=this;new J$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"findMTSPPaths",value:function(e,t,n){var r=this;new F$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"findServiceAreas",value:function(e,t,n){var r=this;new U$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"updateEdgeWeight",value:function(e,t){var n=this;new f2(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}},{key:"updateTurnNodeWeight",value:function(e,t){var n=this;new h2(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}},{key:"_processParams",value:function(e){if(!e)return{};var t=this;if(e.centers&&g3.isArray(e.centers)&&e.centers.map(function(n,r){return e.centers[r]=t._toPointObject(n),e.centers[r]}),e.nodes&&g3.isArray(e.nodes)&&e.nodes.map(function(n,r){return e.nodes[r]=t._toPointObject(n),e.nodes[r]}),e.event&&(e.event=t._toPointObject(e.event)),e.facilities&&g3.isArray(e.facilities)&&e.facilities.map(function(n,r){return e.facilities[r]=t._toPointObject(n),e.facilities[r]}),e.parameter&&e.parameter.barrierPoints){var n=e.parameter.barrierPoints;g3.isArray(n)?n.map(function(n,r){return e.parameter[r]=t._toPointObject(n),e.parameter.barrierPoints[r]}):e.parameter.barrierPoints=[n instanceof v3.a.LngLat?{x:n.lng,y:n.lat}:n]}return e}},{key:"_toPointObject",value:function(e){return g3.isArray(e)?{x:e[0],y:e[1]}:e instanceof v3.a.LngLat?{x:e.lng,y:e.lat}:e instanceof v3.a.Point?{x:e.x,y:e.y}:e}},{key:"_processFormat",value:function(e){return e||oX.GEOJSON}}]),t}(u4);v3.a.supermap.NetworkAnalystService=g4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var S4=function(e){function t(e,n){return QY(this,t),ZY(this,eQ(t).call(this,e,n))}return tQ(t,e),KY(t,[{key:"sinksFacilityAnalyst",value:function(e,t){var n=this;new m$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}},{key:"sourcesFacilityAnalyst",value:function(e,t){var n=this;new g$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}},{key:"traceUpFacilityAnalyst",value:function(e,t){var n=this;new C$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}},{key:"traceDownFacilityAnalyst",value:function(e,t){var n=this;new _$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}},{key:"upstreamFacilityAnalyst",value:function(e,t){var n=this;new E$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}}]),t}(u4);v3.a.supermap.NetworkAnalyst3DService=S4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var w4=function(e){function t(e,n){var r;return oQ(this,t),r=sQ(this,uQ(t).call(this,e,n)),r.kernelDensityJobs={},r.summaryMeshJobs={},r.queryJobs={},r.summaryRegionJobs={},r.vectorClipJobs={},r.overlayGeoJobs={},r.buffersJobs={},r.topologyValidatorJobs={},r.summaryAttributesJobs={},r}return cQ(t,e),aQ(t,[{key:"getKernelDensityJobs",value:function(e,t){var n=this,r=n._processFormat(t);new $0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getKernelDensityJobs()}},{key:"getKernelDensityJob",value:function(e,t,n){var r=this,o=r._processFormat(n);new $0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:o}).getKernelDensityJob(e)}},{key:"addKernelDensityJob",value:function(e,t,n,r){var o=this,i=o._processParams(e),a=o._processFormat(r);new $0(o.url,{proxy:o.options.proxy,withCredentials:o.options.withCredentials,crossOrigin:o.options.crossOrigin,headers:o.options.headers,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.kernelDensityJobs[e.id]=e.state}},format:a}).addKernelDensityJob(i,n)}},{key:"getKernelDensityJobState",value:function(e){return this.kernelDensityJobs[e]}},{key:"getSummaryMeshJobs",value:function(e,t){var n=this,r=n._processFormat(t);new B1(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getSummaryMeshJobs()}},{key:"getSummaryMeshJob",value:function(e,t,n){var r=this,o=r._processFormat(n);new B1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:o}).getSummaryMeshJob(e)}},{key:"addSummaryMeshJob",value:function(e,t,n,r){var o=this,i=o._processParams(e),a=o._processFormat(r);new B1(o.url,{proxy:o.options.proxy,withCredentials:o.options.withCredentials,crossOrigin:o.options.crossOrigin,headers:o.options.headers,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.summaryMeshJobs[e.id]=e.state}},format:a}).addSummaryMeshJob(i,n)}},{key:"getSummaryMeshJobState",value:function(e){return this.summaryMeshJobs[e]}},{key:"getQueryJobs",value:function(e,t){var n=this,r=n._processFormat(t);new N1(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,serverType:n.options.serverType,crossOrigin:n.options.crossOrigin,headers:n.options.headers,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getQueryJobs()}},{key:"getQueryJob",value:function(e,t,n){var r=this,o=r._processFormat(n);new N1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:o}).getQueryJob(e)}},{key:"addQueryJob",value:function(e,t,n,r){var o=this,i=o._processParams(e),a=o._processFormat(r);new N1(o.url,{proxy:o.options.proxy,withCredentials:o.options.withCredentials,crossOrigin:o.options.crossOrigin,headers:o.options.headers,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.queryJobs[e.id]=e.state}},format:a}).addQueryJob(i,n)}},{key:"getQueryJobState",value:function(e){return this.queryJobs[e]}},{key:"getSummaryRegionJobs",value:function(e,t){var n=this,r=n._processFormat(t);new H1(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getSummaryRegionJobs()}},{key:"getSummaryRegionJob",value:function(e,t,n){var r=this,o=r._processFormat(n);new H1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:o}).getSummaryRegionJob(e)}},{key:"addSummaryRegionJob",value:function(e,t,n,r){var o=this,i=o._processParams(e),a=o._processFormat(r);new H1(o.url,{proxy:o.options.proxy,withCredentials:o.options.withCredentials,crossOrigin:o.options.crossOrigin,headers:o.options.headers,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.summaryRegionJobs[e.id]=e.state}},format:a}).addSummaryRegionJob(i,n)}},{key:"getSummaryRegionJobState",value:function(e){return this.summaryRegionJobs[e]}},{key:"getVectorClipJobs",value:function(e,t){var n=this,r=n._processFormat(t);new d2(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getVectorClipJobs()}},{key:"getVectorClipJob",value:function(e,t,n){var r=this,o=r._processFormat(n);new d2(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,serverType:r.options.serverType,crossOrigin:r.options.crossOrigin,headers:r.options.headers,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:o}).getVectorClipJob(e)}},{key:"addVectorClipJob",value:function(e,t,n,r){var o=this,i=o._processParams(e),a=o._processFormat(r);new d2(o.url,{proxy:o.options.proxy,withCredentials:o.options.withCredentials,serverType:o.options.serverType,crossOrigin:o.options.crossOrigin,headers:o.options.headers,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.vectorClipJobs[e.id]=e.state}},format:a}).addVectorClipJob(i,n)}},{key:"getVectorClipJobState",value:function(e){return this.vectorClipJobs[e]}},{key:"getOverlayGeoJobs",value:function(e,t){var n=this,r=n._processFormat(t);new p1(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,serverType:n.options.serverType,crossOrigin:n.options.crossOrigin,headers:n.options.headers,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getOverlayGeoJobs()}},{key:"getOverlayGeoJob",value:function(e,t,n){var r=this,o=r._processFormat(n);new p1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,serverType:r.options.serverType,crossOrigin:r.options.crossOrigin,headers:r.options.headers,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:o}).getOverlayGeoJob(e)}},{key:"addOverlayGeoJob",value:function(e,t,n,r){var o=this,i=o._processParams(e),a=o._processFormat(r);new p1(o.url,{proxy:o.options.proxy,withCredentials:o.options.withCredentials,serverType:o.options.serverType,crossOrigin:o.options.crossOrigin,headers:o.options.headers,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.overlayGeoJobs[e.id]=e.state}},format:a}).addOverlayGeoJob(i,n)}},{key:"getoverlayGeoJobState",value:function(e){return this.overlayGeoJobs[e]}},{key:"getBuffersJobs",value:function(e,t){var n=this,r=n._processFormat(t);new UZ(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,serverType:n.options.serverType,crossOrigin:n.options.crossOrigin,headers:n.options.headers,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getBuffersJobs()}},{key:"getBuffersJob",value:function(e,t,n){var r=this,o=r._processFormat(n);new UZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,serverType:r.options.serverType,crossOrigin:r.options.crossOrigin,headers:r.options.headers,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:o}).getBuffersJob(e)}},{key:"addBuffersJob",value:function(e,t,n,r){var o=this,i=o._processParams(e),a=o._processFormat(r);new UZ(o.url,{proxy:o.options.proxy,withCredentials:o.options.withCredentials,serverType:o.options.serverType,crossOrigin:o.options.crossOrigin,headers:o.options.headers,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.buffersJobs[e.id]=e.state}},format:a}).addBuffersJob(i,n)}},{key:"getBuffersJobState",value:function(e){return this.buffersJobs[e]}},{key:"getTopologyValidatorJobs",value:function(e,t){var n=this,r=n._processFormat(t);new o2(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,serverType:n.options.serverType,crossOrigin:n.options.crossOrigin,headers:n.options.headers,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getTopologyValidatorJobs()}},{key:"getTopologyValidatorJob",value:function(e,t,n){var r=this,o=r._processFormat(n);new o2(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,serverType:r.options.serverType,crossOrigin:r.options.crossOrigin,headers:r.options.headers,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:o}).getTopologyValidatorJob(e)}},{key:"addTopologyValidatorJob",value:function(e,t,n,r){var o=this,i=o._processParams(e),a=o._processFormat(r);new o2(o.url,{proxy:o.options.proxy,withCredentials:o.options.withCredentials,serverType:o.options.serverType,crossOrigin:o.options.crossOrigin,headers:o.options.headers,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.topologyValidatorJobs[e.id]=e.state}},format:a}).addTopologyValidatorJob(i,n)}},{key:"getTopologyValidatorJobState",value:function(e){return this.topologyValidatorJobs[e]}},{key:"getSummaryAttributesJobs",value:function(e,t){var n=this,r=n._processFormat(t);new D1(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,serverType:n.options.serverType,crossOrigin:n.options.crossOrigin,headers:n.options.headers,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getSummaryAttributesJobs()}},{key:"getSummaryAttributesJob",value:function(e,t,n){var r=this,o=r._processFormat(n);new D1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,serverType:r.options.serverType,crossOrigin:r.options.crossOrigin,headers:r.options.headers,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:o}).getSummaryAttributesJob(e)}},{key:"addSummaryAttributesJob",value:function(e,t,n,r){var o=this,i=o._processParams(e),a=o._processFormat(r);new D1(o.url,{proxy:o.options.proxy,withCredentials:o.options.withCredentials,serverType:o.options.serverType,crossOrigin:o.options.crossOrigin,headers:o.options.headers,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.summaryAttributesJobs[e.id]=e.state}},format:a}).addSummaryAttributesJob(i,n)}},{key:"getSummaryAttributesJobState",value:function(e){return this.summaryAttributesJobs[e]}},{key:"_processFormat",value:function(e){return e||oX.GEOJSON}},{key:"_processParams",value:function(e){return e?(e.bounds&&(e.bounds=g3.toSuperMapBounds(e.bounds)),e.query&&(e.query=g3.toSuperMapBounds(e.query)),e.geometryQuery&&(e.geometryQuery=g3.toProcessingParam(e.geometryQuery)),e.geometryClip&&(e.geometryClip=g3.toProcessingParam(e.geometryClip)),e):{}}}]),t}(u4);v3.a.supermap.ProcessingService=w4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var O4=function(e){function t(e,n){return hQ(this,t),vQ(this,bQ(t).call(this,e,n))}return gQ(t,e),dQ(t,[{key:"queryByBounds",value:function(e,t,n){var r=this;new d1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"queryByDistance",value:function(e,t,n){var r=this;new m1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"queryBySQL",value:function(e,t,n){var r=this;new w1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"queryByGeometry",value:function(e,t,n){var r=this;new g1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"_processParams",value:function(e){return e?(e.returnContent=null==e.returnContent||e.returnContent,e.queryParams&&!g3.isArray(e.queryParams)&&(e.queryParams=[e.queryParams]),e.bounds&&(e.bounds instanceof Array&&(e.bounds=new dK(e.bounds[0],e.bounds[1],e.bounds[2],e.bounds[3])),e.bounds instanceof v3.a.LngLatBounds&&(e.bounds=new dK(e.bounds.getSouthWest().lng,e.bounds.getSouthWest().lat,e.bounds.getNorthEast().lng,e.bounds.getNorthEast().lat))),e.geometry&&(e.geometry instanceof v3.a.LngLat&&(e.geometry=new SK(e.geometry.lng,e.geometry.lat)),e.geometry instanceof v3.a.Point&&(e.geometry=new SK(e.geometry.x,e.geometry.y)),e.geometry instanceof v3.a.LngLatBounds&&(e.geometry=g3.toSuperMapPolygon(e.geometry)),e.geometry instanceof vK||(e.geometry=g3.toSuperMapGeometry(e.geometry))),e):{}}},{key:"_processFormat",value:function(e){return e||oX.GEOJSON}}]),t}(u4);v3.a.supermap.QueryService=O4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _4=function(e){function t(e,n){return OQ(this,t),CQ(this,EQ(t).call(this,e,n))}return kQ(t,e),PQ(t,[{key:"getAreaSolarRadiationResult",value:function(e,t,n){var r=this;new CZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(e)}},{key:"bufferAnalysis",value:function(e,t,n){var r=this;new IZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"densityAnalysis",value:function(e,t,n){var r=this;new p$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"generateSpatialData",value:function(e,t,n){var r=this;new V$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(e)}},{key:"geoRelationAnalysis",value:function(e,t,n){var r=this;new Z$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(e)}},{key:"interpolationAnalysis",value:function(e,t,n){var r=this;new K0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"mathExpressionAnalysis",value:function(e,t,n){var r=this;new s1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"overlayAnalysis",value:function(e,t,n){var r=this;new c1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"routeCalculateMeasure",value:function(e,t,n){var r=this;new _1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"routeLocate",value:function(e,t,n){var r=this;new C1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"surfaceAnalysis",value:function(e,t,n){var r=this;new z1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"terrainCurvatureCalculate",value:function(e,t,n){var r=this;new W1(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(e)}},{key:"thiessenAnalysis",value:function(e,t,n){var r=this;new e2(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))}},{key:"geometrybatchAnalysis",value:function(e,t,n){for(var r=this,o=new t2(r.url,{serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}),i=[],a=0;a<e.length;a++){var s=e[a];i.push({analystName:s.analystName,param:r._processParams(s.param)})}o.processAsync(i)}},{key:"_processParams",value:function(e){if(!e)return{};if(e.bounds&&(e.bounds=g3.toSuperMapBounds(e.bounds)),e.inputPoints)for(var t=0;t<e.inputPoints.length;t++){var n=e.inputPoints[t];g3.isArray(n)&&(e.inputPoints[t]={x:n[0],y:n[1],tag:n[2]})}if(e.points)for(var r=0;r<e.points.length;r++){var o=e.points[r];e.points[r]=g3.toSuperMapPoint(o)}if(e.point&&(e.point=g3.toSuperMapPoint(e.point)),e.extractRegion&&(e.extractRegion=g3.toSuperMapGeometry(e.extractRegion)),e.extractParameter&&e.extractParameter.clipRegion&&(e.extractParameter.clipRegion=g3.toSuperMapGeometry(e.extractParameter.clipRegion)),e.clipParam&&e.clipParam.clipRegion&&(e.clipParam.clipRegion=g3.toSuperMapGeometry(e.clipParam.clipRegion)),e.sourceRoute&&e.sourceRoute){var i={};i.type="LINEM",i.parts=[e.sourceRoute.geometry.coordinates.length],i.points=[];for(var a=0;a<e.sourceRoute.geometry.coordinates.length;a++){var s=e.sourceRoute.geometry.coordinates[a];i.points=i.points.concat({x:s[0],y:s[1],measure:s[2]})}e.sourceRoute=i}if(e.operateRegions&&g3.isArray(e.operateRegions)&&e.operateRegions.map(function(t,n){return e.operateRegions[n]=g3.toSuperMapGeometry(t),e.operateRegions[n]}),e.sourceGeometry){var l=null;e.sourceGeometrySRID&&(l=e.sourceGeometrySRID),e.sourceGeometry=g3.toSuperMapGeometry(e.sourceGeometry),l&&(e.sourceGeometry.SRID=l),delete e.sourceGeometry.sourceGeometrySRID}if(e.operateGeometry&&(e.operateGeometry=g3.toSuperMapGeometry(e.operateGeometry)),e.sourceGeometries){for(var u=[],c=0;c<e.sourceGeometries.length;c++)u.push(g3.toSuperMapGeometry(e.sourceGeometries[c]));e.sourceGeometries=u}if(e.operateGeometries){for(var f=[],p=0;p<e.operateGeometries.length;p++)f.push(g3.toSuperMapGeometry(e.operateGeometries[p]));e.operateGeometries=f}return e.sourceRoute&&e.sourceRoute.components&&g3.isArray(e.sourceRoute.components)&&e.sourceRoute.components.map(function(t,n){return e.sourceRoute.components[n]=g3.toSuperMapGeometry(t),e.sourceRoute.components[n]}),e}},{key:"_processFormat",value:function(e){return e||oX.GEOJSON}}]),t}(u4);v3.a.supermap.SpatialAnalystService=_4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P4=function(e){function t(e,n){return AQ(this,t),NQ(this,IQ(t).call(this,e,n))}return FQ(t,e),LQ(t,[{key:"getThemeInfo",value:function(e,t){var n=this;new $1(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}}]),t}(u4);v3.a.supermap.ThemeService=P4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var C4=function(e){function t(e,n){return BQ(this,t),JQ(this,VQ(t).call(this,e,n))}return WQ(t,e),HQ(t,[{key:"queryStop",value:function(e,t){var n=this;new I1(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}},{key:"analysisTransferPath",value:function(e,t){var n=this;new s2(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(n._processParams(e))}},{key:"analysisTransferSolution",value:function(e,t){var n=this;new u2(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(n._processParams(e))}},{key:"_processParams",value:function(e){return e?(e.transferLines&&!g3.isArray(e.transferLines)&&(e.transferLines=[e.transferLines]),e.points&&g3.isArray(e.points)&&e.points.map(function(t,n){return e.points[n]=t instanceof v3.a.LngLat?{x:t.lng,y:t.lat}:t,e.points[n]}),e):{}}}]),t}(u4);v3.a.supermap.TrafficTransferAnalystService=C4;/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var T4=n(6),E4=n.n(T4),k4=n(11),x4=n.n(k4);/* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
v3.a.supermap=v3.a.supermap||{};var j4=["559082264.0287178","279541132.0143589","139770566.0071794","69885283.00358972","34942641.50179486","17471320.75089743","8735660.375448715","4367830.1877224357","2183915.093862179","1091957.546931089","545978.7734655447","272989.7734655447","272989.3867327723","136494.6933663862","68247.34668319309","34123.67334159654","17061.83667079827","8530.918335399136","4265.459167699568","2132.729583849784"],A4=["5.590822640287176E8","2.795411320143588E8","1.397705660071794E8","6.98852830035897E7","3.494264150179485E7","1.7471320750897426E7","8735660.375448713","4367830.187724357","2183915.0938621783","1091957.5469310891","545978.7734655446","272989.3867327723","136494.69336638614","68247.34668319307","34123.673341596535","17061.836670798268","8530.918335399134"],R4=["GoogleCRS84Quad","GoogleMapsCompatible"],L4=function(e){function t(e,n){var r;return QQ(this,t),r=ZQ(this,eX(t).call(this)),r.mapId=e,n=n||{},r.server=n.server||"http://www.supermapol.com",r.credentialKey=n.credentialKey,r.credentialValue=n.credentialValue,r.withCredentials=n.withCredentials||!1,r.target=n.target||"map",r._createWebMap(),r}return tX(t,e),KQ(t,[{key:"resize",value:function(){this.map.resize()}},{key:"setMapId",value:function(e){this.mapId=e,this._createWebMap()}},{key:"setWebMapOptions",value:function(e){this.server=e.server,this._createWebMap()}},{key:"setMapOptions",value:function(e){var t=e.center,n=e.zoom,r=e.maxBounds,o=e.minZoom,i=e.maxZoom,a=e.isWorldCopy,s=e.bearing,l=e.pitch;t&&t.length&&this.map.setCenter(t),n&&this.map.setZoom(n),r&&this.map.setMaxBounds(r),o&&this.map.setMinZoom(o),i&&this.map.setMaxZoom(i),a&&this.map.setRenderWorldCopies(a),s&&this.map.setBearing(s),l&&this.map.setPitch(l)}},{key:"_createWebMap",value:function(){var e=this.server.split("");"/"!==e[e.length-1]&&(this.server+="/");var t=this.server+"web/maps/"+this.mapId+"/map";this.credentialValue&&this.credentialKey&&(t+="?"+this.credentialKey+"="+this.credentialValue);var n="getUrlResource.json?url=";if(this.excludePortalProxyUrl&&this.server.indexOf(n)>-1){var r=this.server.split(n);r.length>1&&(t=r[0]+n+this.server+"web/maps/"+this.mapId+"/map.json")}this._getMapInfo(t)}},{key:"_createMap",value:function(e){var t=[],n=e.layers;n&&n.length>0&&n.forEach(function(e){e.labelStyle&&t.push(e.labelStyle.fontFamily)},this),t.push("'supermapol-icons'");var r,o=t.join(","),i=e.center,a=e.level||0;a=0===a?0:a-1,r=i?this._unproject([i.x,i.y]):new v3.a.LngLat(0,0),this.map=new v3.a.Map({container:this.target,center:r,zoom:a,style:{version:8,sources:{},layers:[]},crs:this.baseProjection,localIdeographFontFamily:o||""}),this.fire("mapinitialized")}},{key:"_getMapInfo",value:function(e){var t=this,n=-1===e.indexOf(".json")?"".concat(e,".json"):e;KK.get(n,null,{withCredentials:this.withCredentials}).then(function(e){return e.json()}).then(function(e){t.baseProjection=e.projection,t.mapParams={title:e.title,description:e.description};var n={"EPSG:4490":"EPSG:4490","EPSG:4214":"EPSG:4214","EPSG:4610":"EPSG:4610","EPSG:3857":"EPSG:3857","EPSG:4326":"EPSG:4326"};if(!(t.baseProjection in n))throw Error(Q5.i18n("msg_crsunsupport"));t._createMap(e,t.mapSetting);var r=e.layers;t.map.on("load",function(){t._addBaseMap(e),r&&0!==r.length?t._addLayers(r):t._sendMapToUser(0,0)})}).catch(function(e){t.fire("getmapfailed",{error:e})})}},{key:"_addBaseMap",value:function(e){this._createBaseLayer(e)}},{key:"_createBaseLayer",value:function(e){var t=e.baseLayer||e,n=t.layerType;(n.indexOf("TIANDITU_VEC")>-1||n.indexOf("TIANDITU_IMG")>-1||n.indexOf("TIANDITU_TER")>-1)&&(n=n.substr(0,12));var r,o={CLOUD:"http://t2.supermapcloud.com/FileService/image?map=quanguo&type=web&x={x}&y={y}&z={z}",CLOUD_BLACK:"http://t3.supermapcloud.com/MapService/getGdp?x={x}&y={y}&z={z}",OSM:"http://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",GOOGLE:"http://www.google.cn/maps/vt/pb=!1m4!1m3!1i{z}!2i{x}!3i{y}!2m3!1e0!2sm!3i380072576!3m8!2szh-CN!3scn!5e1105!12m4!1e68!2m2!1sset!2sRoadmap!4e0!5m1!1e0",GOOGLE_CN:"https://mt{0-3}.google.cn/vt/lyrs=m&hl=zh-CN&gl=cn&x={x}&y={y}&z={z}",JAPAN_STD:"http://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png",JAPAN_PALE:"http://cyberjapandata.gsi.go.jp/xyz/pale/{z}/{x}/{y}.png",JAPAN_RELIEF:"http://cyberjapandata.gsi.go.jp/xyz/relief/{z}/{x}/{y}.png",JAPAN_ORT:"http://cyberjapandata.gsi.go.jp/xyz/ort/{z}/{x}/{y}.jpg"};switch(n){case"TIANDITU_VEC":case"TIANDITU_IMG":case"TIANDITU_TER":this._createTiandituLayer(e);break;case"BING":this._createBingLayer(t.name);break;case"WMS":this._createWMSLayer(t);break;case"WMTS":this._createWMTSLayer(t);break;case"TILE":case"SUPERMAP_REST":this._createDynamicTiledLayer(t);break;case"CLOUD":case"CLOUD_BLACK":case"OSM":case"JAPAN_ORT":case"JAPAN_RELIEF":case"JAPAN_PALE":case"JAPAN_STD":case"GOOGLE_CN":case"GOOGLE":r=o[n],this._createXYZLayer(t,r)}}},{key:"_createTiandituLayer",value:function(e){var t=this._getTiandituUrl(e),n=e.baseLayer.layerType,r=Boolean(e.baseLayer.labelLayerVisible),o=t.labelUrl,i=t.tiandituUrl;this._addBaselayer(i,"tianditu-layers-"+n),r&&this._addBaselayer(o,"tianditu-label-layers-"+n)}},{key:"_createWMTSLayer",value:function(e){var t=this,n=this._getWMTSUrl(e);this._filterWMTSIsMatched(e,function(r,o){r&&t._addBaselayer([n],"wmts-layers"+e.name,0,o)})}},{key:"_filterWMTSIsMatched",value:function(e,t){var n=this,r=!1,o=22,i=e.url,a={withCredentials:!1,withoutFormatSuffix:!0};KK.get(i,null,a).then(function(e){return e.text()}).then(function(i){for(var a=E4.a?E4.a:window.convert,s=JSON.parse(a.xml2json(i,{compact:!0,spaces:4})).Capabilities.Contents.TileMatrixSet,l=0;l<s.length;l++)if(s[l]["ows:Identifier"]&&s[l]["ows:Identifier"]._text===e.tileMatrixSet)if(R4.includes(s[l].WellKnownScaleSet._text))r=!0;else{if(!s[l].WellKnownScaleSet||"Custom"!==s[l].WellKnownScaleSet._text)throw Error(Q5.i18n("msg_tilematrixsetunsupport"));for(var u=[],c="EPSG:3857"===n.map.crs?j4:A4,f=0,p=c.length;f<p&&s[l].TileMatrix[f]&&c[f]===s[l].TileMatrix[f].ScaleDenominator._text;f++)u.push(c[f]);if(o=u.length-1,0===u.length)throw Error(Q5.i18n("msg_tilematrixsetunsupport"));r=!0}t(r,o)}).catch(function(e){n.fire("getwmtsfailed",{error:e,map:n.map})})}},{key:"_createBingLayer",value:function(e){this.addLayer(["http://dynamic.t0.tiles.ditu.live.com/comp/ch/{quadkey}?it=G,TW,L,LA&mkt=zh-cn&og=109&cstl=w4c&ur=CN&n=z"],"bing-layers-"+e)}},{key:"_createXYZLayer",value:function(e,t){var n=[];if("OSM"===e.layerType){for(var r=t.match(/\w\-\w/g)[0],o=r[0],i=r[2],a="",s=97;s<123;s++)a+=String.fromCharCode(s);for(var l=a.split(""),u=l.indexOf(o),c=l.indexOf(i),f=l.slice(u,c+1),p=0;p<f.length;p++){var h=t.replace(/{\w\-\w}/g,f[p]);n.push(h)}}else if("GOOGLE_CN"===e.layerType)for(var y=t.match(/\d\-\d/g)[0],d=y[0],v=y[2],m=d;m<=v;m++){var b=t.replace(/{\d\-\d}/g,m);n.push(b)}else n=[t];this._addBaselayer(n,"XYZ-layers-"+e.name)}},{key:"_createDynamicTiledLayer",value:function(e){var t=e.url+"/zxyTileImage.png?z={z}&x={x}&y={y}";this._addBaselayer([t],"tile-layers-"+e.name)}},{key:"_createWMSLayer",value:function(e){var t=this._getWMSUrl(e);this._addBaselayer([t],"WMS-layers-"+e.name)}},{key:"_createVectorLayer",value:function(e,t){var n=e.style,r=e.featureType,o=e.layerID,i=e.visible,a={};a.style=this._transformStyleToMapBoxGl(n,r),a.layout={visibility:i};var s={type:"geojson",data:{type:"FeatureCollection",features:t}};this._addOverlayToMap(r,s,o,a),"POLYGON"===r&&n.strokeColor&&this._addStrokeLineForPoly(n,s,o+"-strokeLine",i)}},{key:"_getTiandituUrl",value:function(e){var t=/t0/gi,n={},r=e.baseLayer.layerType.split("_")[1].toLowerCase(),o=Boolean(e.baseLayer.labelLayerVisible),i="http://t0.tianditu.gov.cn/{layer}_{proj}/wmts?",a=i,s={vec:"cva",ter:"cta",img:"cia"},l="EPSG:4326"===this.baseProjection?"c":"w",u={service:"WMTS",request:"GetTile",style:"default",version:"1.0.0",layer:r,tilematrixSet:l,format:"tiles",width:256,height:256};i+=this._getParamString(u,i)+"&tilematrix={z}&tilerow={y}&tilecol={x}";for(var c=i.replace("{layer}",r).replace("{proj}",l),f=[],p=0;p<8;p++)f.push(c.replace(t,"t".concat(p)));if(n.tiandituUrl=f,o){var h=s[r];u.layer=h,a+=this._getParamString(u,a)+"&tilematrix={z}&tilerow={y}&tilecol={x}",a=a.replace("{layer}",h).replace("{proj}",l);for(var y=[],d=0;d<8;d++)y.push(a.replace(t,"t".concat(d)));n.labelUrl=y}return n}},{key:"_getWMSUrl",value:function(e){var t=e.url;t=t.split("?")[0];var n=t.split("/"),r={service:"WMS",request:"GetMap",layers:n[n.length-1],styles:"",format:"image/png",transparent:"true",version:"1.1.1",width:256,height:256,srs:this.baseProjection},o="EPSG:4326"===this.baseProjection?"{bbox-epsg-4326}":"{bbox-epsg-3857}";return t+=this._getParamString(r,t)+"&bbox=".concat(o)}},{key:"_addLayers",value:function(e){var t=this;this.layers=e;var n,r=0,o=e.length;e.forEach(function(e,i){if(e.dataSource&&e.dataSource.serverId||"MARKER"===e.layerType){var a=e.dataSource?e.dataSource.serverId:e.serverId,s="".concat(t.server,"web/datas/").concat(a,"/content.json?pageSize=9999999&currentPage=1");a&&KK.get(s,null,{withCredentials:t.withCredentials}).then(function(e){return e.json()}).then(function(a){if(!1===a.succeed)return r++,t._sendMapToUser(r,o),void t.fire("getlayersfailed",{error:a.error,map:t.map});a.type&&("JSON"===a.type||"GEOJSON"===a.type?(a.content=JSON.parse(a.content.trim()),n=t._formatGeoJSON(a.content,e)):"EXCEL"!==a.type&&"CSV"!==a.type||(n=t._excelData2Feature(a.content,e)),t._addLayer(e,n,i),r++,t._sendMapToUser(r,o))}).catch(function(e){r++,t._sendMapToUser(r,o),t.fire("getlayersfailed",{error:e,map:t.map})})}else if("SUPERMAP_REST"===e.layerType||"TILE"===e.layerType||"WMS"===e.layerType||"WMTS"===e.layerType)t._createBaseLayer(e),r++,t._sendMapToUser(r,o);else if(e.dataSource&&"REST_DATA"===e.dataSource.type){var l=e.dataSource;t._getFeatureBySQL(l.url,[l.dataSourseName||e.name],function(a){n=t._parseGeoJsonData2Feature({allDatas:{features:a.result.features.features},fileCode:e.projection,featureProjection:t.baseProjection}),t._addLayer(e,n,i),r++,t._sendMapToUser(r,o)},function(e){r++,t._sendMapToUser(r,o),t.fire("getfeaturesfailed",{error:e})})}else e.dataSource&&"REST_MAP"===e.dataSource.type&&e.dataSource.url&&t._queryFeatureBySQL(e.dataSource.url,e.dataSource.layerName,"smid=1",null,null,function(n){var a=n&&n.result.recordsets,s=a&&a[0],l=s.fields;if(s&&l){var u=[];for(var c in l){var f=l[c];0===f.indexOf("Sm")&&"SmID"!==f||u.push(f)}t._getFeatures(u,e,function(n){t._addLayer(e,n,i),r++,t._sendMapToUser(r,o)},function(e){r++,t.fire("getfeaturesfailed",{error:e,map:t.map})})}},function(e){t.fire("getlayersfailed",{error:e,map:t.map})})},this)}},{key:"_getFeatures",value:function(e,t,n,r){var o=this,i=t.dataSource,a=t.projection;this._queryFeatureBySQL(i.url,i.layerName,null,e,null,function(e){var t=e.result.recordsets[0],r=t.features.features,i=o._parseGeoJsonData2Feature({allDatas:{features:r},fileCode:a,featureProjection:o.baseProjection},"JSON");n(i)},function(e){r(e)})}},{key:"_addLayer",value:function(e,t,n){var r=e.layerType;e.layerID=r+"-"+e.name+"-"+n,e.visible=e.visible?"visible":"none",t[0]&&"Polygon"===t[0].geometry.type&&(t=this._handleMultyPolygon(t)),e.style&&e.filterCondition&&"RANGE"!==r&&"UNIQUE"!==r&&(t=this._getFiterFeatures(e.filterCondition,t)),"VECTOR"===r?"POINT"===e.featureType?"SYMBOL_POINT"===e.style.type?this._createSymbolLayer(e,t):this._createGraphicLayer(e,t):this._createVectorLayer(e,t):"UNIQUE"===r?this._createUniqueLayer(e,t):"RANGE"===r?this._createRangeLayer(e,t):"HEAT"===r?this._createHeatLayer(e,t):"MARKER"===r&&this._createMarkerLayer(e,t),e.labelStyle&&e.labelStyle.labelField&&this._addLabelLayer(e,t)}},{key:"_addLabelLayer",value:function(e,t){var n=e.labelStyle;this.map.addLayer({id:e.layerID+"label",type:"symbol",source:{type:"geojson",data:{type:"FeatureCollection",features:t}},paint:{"text-color":n.fill},layout:{"text-field":"{".concat(n.labelField,"}"),"text-size":parseFloat(n.fontSize)||12,"text-offset":n.offsetX?[n.offsetX/10||0,n.offsetY/10||0]:[0,-1.5],"text-font":["DIN Offc Pro Italic","Arial Unicode MS Regular"],visibility:e.visible}})}},{key:"_createSymbolLayer",value:function(e,t){document.getElementById("".concat(this.target)).classList.add("supermapol-icons-map");var n=e.style,r=e.style.unicode,o=String.fromCharCode(parseInt(r.replace(/^&#x/,""),16)),i=e.layerID;this.map.addSource(i+"-source",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.addLayer({id:i,type:"symbol",source:i+"-source",paint:{"text-color":n.fillColor},layout:{"text-field":o,"text-font":["DIN Offc Pro Italic","Arial Unicode MS Regular"],visibility:e.visible}}),this.map.getSource(i+"-source").setData({type:"FeatureCollection",features:t})}},{key:"_createGraphicLayer",value:function(e,t){var n=this,r=e.style,o={},i=e.layerID,a={type:"geojson",data:{type:"FeatureCollection",features:t}};if("IMAGE_POINT"===r.type){var s=r.imageInfo,l=s.img;l&&l.src||(s.url=this.server+s.url),this.map.loadImage(s.url||l.src,function(t,o){t&&console.log(t);var s=2*Number.parseFloat((r.radius/o.height).toFixed(2));n.map.addImage("imageIcon",o),n.map.addLayer({id:i,type:"symbol",source:a,layout:{"icon-image":"imageIcon","icon-size":s,visibility:e.visible}})})}else if("SVG_POINT"===r.type){var u=r.url;this.svgDiv||(this.svgDiv=document.createElement("div"),document.body.appendChild(this.svgDiv)),this._getCanvasFromSVG(u,this.svgDiv,function(t){var o=t.toDataURL("img/png");o&&n.map.loadImage(o,function(o,s){o&&console.log(o);var l=Number.parseFloat((r.radius/t.width).toFixed(2));n.map.addImage("imageIcon",s),n.map.addLayer({id:i,type:"symbol",source:a,layout:{"icon-image":"imageIcon","icon-size":l,visibility:e.visible}})},n)})}else o.style=this._transformStyleToMapBoxGl(r,e.featureType),o.layout={visibility:e.visible},this._addOverlayToMap("POINT",a,i,o)}},{key:"_createUniqueLayer",value:function(e,t){var n=this._getUniqueStyleGroup(e,t);t=this._getFiterFeatures(e.filterCondition,t);var r=e.style,o={},i=e.themeSetting.themeField,a=e.featureType,s=["match",["get","index"]],l=e.layerID;t.forEach(function(e){n.forEach(function(t){t.value===e.properties[i]&&s.push(e.properties.index,t.color)})}),s.push("#ffffff"),o.style=this._transformStyleToMapBoxGl(r,a,s);var u=e.visible;o.layout={visibility:u};var c={type:"geojson",data:{type:"FeatureCollection",features:t}};this._addOverlayToMap(a,c,l,o),"POLYGON"===a&&r.strokeColor&&this._addStrokeLineForPoly(r,c,l+"-strokeLine",u)}},{key:"_getUniqueStyleGroup",value:function(e,t){var n=e.featureType,r=e.style,o=e.themeSetting,i=o.themeField,a=o.colors,s=[],l=o.customSettings;for(var u in t){var c=t[u].properties,f=c[i],p=!1;for(var h in s)if(s[h]===f){p=!0;break}p||s.push(f)}var y=a||this.defaultParameters.colors;y=I2.getGradientColors(y,s.length);var d=[];return s.forEach(function(e,t){var o=y[t];e in l&&(o=l[e]),"LINE"===n?r.strokeColor=o:r.fillColor=o,d.push({color:o,value:e})},this),d}},{key:"_getWMTSUrl",value:function(e){var t={service:"WMTS",request:"GetTile",version:"1.0.0",style:"default",layer:e.layer,tilematrixSet:e.tileMatrixSet,format:"image/png"},n=e.url;return n+=this._getParamString(t,n)+"&tilematrix={z}&tilerow={y}&tilecol={x}"}},{key:"_createMarkerLayer",value:function(e,t){var n=this;t&&t.forEach(function(t){var r=t.geometry.type.toUpperCase(),o=t.dv_v5_markerStyle;"POINT"===r&&o.text&&(r="TEXT");var i=n.setFeatureInfo(t);t.properties.useStyle=o,t.properties.featureInfo=i,"POINT"===r&&o.src&&-1===o.src.indexOf("http://")&&-1===o.src.indexOf("https://")&&(o.src=n.server+o.src);var a={type:"geojson",data:t},s=t.properties.index,l=r+"-"+s;if("POINT"===r&&o.src&&o.src.indexOf("svg")<=-1&&n.map.loadImage(o.src,function(t,r){t&&console.log(t),n.map.addImage(s+"",r),n.map.addLayer({id:l,type:"symbol",source:a,layout:{"icon-image":s+"","icon-size":o.scale,visibility:e.visible}})},n),"POINT"===r&&o.src&&o.src.indexOf("svg")>-1&&(n.svgDiv||(n.svgDiv=document.createElement("div"),document.body.appendChild(n.svgDiv)),n._getCanvasFromSVG(o.src,n.svgDiv,function(t){var r=t.toDataURL("img/png");r&&n.map.loadImage(r,function(t,r){t&&console.log(t),n.map.addImage(s+"",r),n.map.addLayer({id:l,type:"symbol",source:a,layout:{"icon-image":s+"","icon-size":o.scale,visibility:e.visible}})},n)})),!o.src){var u={layout:{}};"LINESTRING"===r&&o.lineCap&&(r="LINE",u.layout={"line-cap":o.lineCap});var c=e.visible;u.layout.visibility=c,u.style=n._transformStyleToMapBoxGl(o,r),n._addOverlayToMap(r,a,l,u),"POLYGON"===r&&o.strokeColor&&n._addStrokeLineForPoly(o,a,l+"-strokeLine",c)}},this)}},{key:"setFeatureInfo",value:function(e){var t,n=e.dv_v5_markerInfo;if(!n||!n.dataViz_title)return n;t=n;var r=e.properties;for(var o in t)r[o]&&(t[o]=r[o],delete r[o]);return t}},{key:"_createHeatLayer",value:function(e,t){var n=e.themeSetting,r={};r.gradient=n.colors.slice(),r.radius=parseInt(n.radius);var o=n.customSettings;for(var i in o)r.gradient[i]=o[i];n.weight&&this._changeWeight(t,n.weight);var a=["interpolate",["linear"],["heatmap-density"]],s=r.gradient.length,l=(1/s).toFixed(2);r.gradient.forEach(function(e,t){a.push(t*l),0===t&&(e=g3.hexToRgba(e,0)),a.push(e)});var u={"heatmap-color":a,"heatmap-radius":n.radius+15,"heatmap-intensity":{base:1,stops:[[0,.8],[22,1]]}};if(t[0].weight&&t.length>=4){var c=[];t.forEach(function(e){c.push(e.weight)});var f=F2.getMax(c),p=F2.getMin(c);u["heatmap-weight"]=["interpolate",["linear"],["get","weight"],p,0,f,1]}this.map.addLayer({id:e.layerID,type:"heatmap",source:{type:"geojson",data:{type:"FeatureCollection",features:t}},paint:u})}},{key:"_changeWeight",value:function(e,t){this.fieldMaxValue={},this._getMaxValue(e,t);var n=this.fieldMaxValue[t];e.forEach(function(e){var r=e.properties,o=r[t];e.weight=o/n})}},{key:"_getMaxValue",value:function(e,t){var n,r=[],o=t;this.fieldMaxValue[o]||(e.forEach(function(e){(n=e.properties)&&parseFloat(n[o])&&r.push(parseFloat(n[o]))}),this.fieldMaxValue[o]=F2.getArrayStatistic(r,"Maximum"))}},{key:"_createRangeLayer",value:function(e,t){var n=e.themeSetting.themeField,r=e.style,o=e.featureType,i=this._getRangeStyleGroup(e,t);t=this._getFiterFeatures(e.filterCondition,t);var a={type:"geojson",data:{type:"FeatureCollection",features:t}},s=["match",["get","index"]];t.forEach(function(e){for(var t=parseFloat(e.properties[n]),r=0;r<i.length;r++)i[r].start<=t&&t<i[r].end&&s.push(e.properties.index,i[r].color);!t&&s.push(e.properties.index,"rgba(0, 0, 0, 0)")},this),s.push("rgba(0, 0, 0, 0)");var l={layout:{}};"LINE"===o&&r.lineCap&&(l.layout={"line-cap":r.lineCap});var u=e.visible;l.layout.visibility=u,l.style=this._transformStyleToMapBoxGl(r,o,s);var c=e.layerID;this._addOverlayToMap(o,a,c,l),"POLYGON"===o&&r.strokeColor&&this._addStrokeLineForPoly(r,a,c+"-strokeline",u)}},{key:"_getFiterFeatures",value:function(e,t){if(!e)return t;for(var n=this._replaceFilterCharacter(e),r="select * from json where ("+n+")",o=[],i=0;i<t.length;i++){var a=t[i],s=!1;try{s=window.jsonsql.query(r,{properties:a.properties})}catch(e){continue}s&&s.length>0&&o.push(a)}return o}},{key:"_replaceFilterCharacter",value:function(e){return e=e.replace(/=/g,"==").replace(/AND|and/g,"&&").replace(/or|OR/g,"||").replace(/<==/g,"<=").replace(/>==/g,">=")}},{key:"_getRangeStyleGroup",value:function(e,t){var n,r=e.featureType,o=e.style,i=[],a=e.themeSetting,s=a.customSettings,l=a.themeField,u=a.segmentCount;t.forEach(function(e){n=e.properties||e.get("Properties"),n?n[l]&&g3.isNumber(n[l])&&i.push(parseFloat(n[l])):e.get(l)&&g3.isNumber(e.get(l))&&e.get(l)&&i.push(parseFloat(e.get(l)))},this);var c=F2.getArraySegments(i,a.segmentMethod,u);if(c){var f=u;n&&c[0]===c[n.length-1]&&(f=1,c.length=2);for(var p in c){var h=c[p];h=0==p?Math.floor(100*h)/100:Math.ceil(100*h)/100+.1,c[p]=Number(h.toFixed(2))}for(var y=a.colors,d=0;d<f;d++)d in s&&(s[d].segment.start&&(c[d]=s[d].segment.start),s[d].segment.end&&(c[d+1]=s[d].segment.end));for(var v=[],m=0;m<f;m++){var b=y[m];m in s&&s[m].color&&(b=s[m].color),"LINE"===r?o.strokeColor=b:o.fillColor=b;var g=c[m],S=c[m+1],w=JSON.parse(JSON.stringify(o));v.push({style:w,color:b,start:g,end:S})}return v}}},{key:"_formatGeoJSON",value:function(e){var t=e.features;return t.forEach(function(e,t){e.properties.index=t}),t}},{key:"_excelData2Feature",value:function(e){for(var t=e.colTitles,n=-1,r=-1,o=0,i=t.length;o<i;o++)this._isXField(t[o])&&(n=o),this._isYField(t[o])&&(r=o);for(var a=[],s=0,l=e.rows.length;s<l;s++){var u=e.rows[s],c=Number(u[n]),f=Number(u[r]),p={};for(var h in e.colTitles){p[e.colTitles[h]]=e.rows[s][h]}p.index=s+"";var y={type:"Feature",geometry:{type:"Point",coordinates:[c,f]},properties:p};a.push(y)}return a}},{key:"_sendMapToUser",value:function(e,t){e===t&&this.fire("addlayerssucceeded",{map:this.map,mapparams:this.mapParams,layers:this.layers})}},{key:"_unproject",value:function(e){for(var t,n=180/Math.PI,r=6378137,o=Math.exp(-e[1]/r),i=Math.PI/2-2*Math.atan(o),a=0,s=.1;a<15&&Math.abs(s)>1e-7;a++)t=1,s=Math.PI/2-2*Math.atan(o*t)-i,i+=s;return new v3.a.LngLat(e[0]*n/r,i*n)}},{key:"_getParamString",value:function(e,t,n){var r=[];for(var o in e)r.push((n?o.toUpperCase():o)+"="+e[o]);return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}},{key:"_isXField",value:function(e){var t=e.toLowerCase();return"x"===t||"smx"===t||"jd"===t||"经度"===t||"东经"===t||"longitude"===t||"lot"===t||"lon"===t||"lng"===t}},{key:"_isYField",value:function(e){var t=e.toLowerCase();return"y"===t||"smy"===t||"wd"===t||"纬度"===t||"北纬"===t||"latitude"===t||"lat"===t}},{key:"_transformStyleToMapBoxGl",value:function(e,t,n){var r={};"POINT"!==e.type&&"BASIC_POINT"!==e.type&&"POINT"!==t||"LINE"===t?"LINE"===t?r={strokeWidth:"line-width",strokeColor:"line-color",strokeOpacity:"line-opacity"}:"POLYGON"===t&&(r={fillColor:"fill-color",fillOpacity:"fill-opacity",strokeColor:"fill-outline-color"}):r={fillColor:"circle-color",strokeWidth:"circle-stroke-width",fillOpacity:"circle-opacity",radius:"circle-radius",strokeColor:"circle-stroke-color",strokeOpacity:"circle-stroke-opacity"};var o={};for(var i in e)r[i]&&(o[r[i]]=e[i]);return n&&(o["circle-color"]?o["circle-color"]=n:o["line-color"]?o["line-color"]=n:o["fill-color"]=n),e.lineDash&&"solid"!==e.lineDash&&"LINE"===t&&(o["line-dasharray"]=this._dashStyle(e)),o}},{key:"_dashStyle",value:function(e){if(!e)return[];var t=e.strokeDashstyle||e.lineDash;switch(t){case"solid":return[];case"dot":return[1,4];case"dash":return[4,4];case"dashdot":return[4,4,1,4];case"longdash":return[8,4];case"longdashdot":return[8,4,1,4];default:return t?hK.isArray(t)?t:(t=cK.trim(t).replace(/\s+/g,","),t.replace(/\[|\]/gi,"").split(",")):[]}}},{key:"_getCanvasFromSVG",value:function(e,t,n){var r=document.createElement("canvas");r.id="dataviz-canvas-"+g3.newGuid(8),r.style.display="none",t.appendChild(r),(window.canvg?window.canvg:x4.a)(r.id,e,{ignoreMouse:!0,ignoreAnimation:!0,renderCallback:function(){r.width>300||r.height>300||n(r)},forceRedraw:function(){return!1}})}},{key:"_addOverlayToMap",value:function(e,t,n,r){"circle"!==(e={POINT:"circle",LINE:"line",POLYGON:"fill"}[e])&&"line"!==e&&"fill"!==e||this.map.addLayer({id:n,type:e,source:t,paint:r.style,layout:r.layout||{}})}},{key:"_addBaselayer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:22;this.map.addLayer({id:t,type:"raster",source:{type:"raster",tiles:e,tileSize:256},minzoom:n,maxzoom:r})}},{key:"_addStrokeLineForPoly",value:function(e,t,n,r){var o={};o.style=this._transformStyleToMapBoxGl(e,"LINE"),o.layout={visibility:r},this._addOverlayToMap("LINE",t,n,o)}},{key:"_parseGeoJsonData2Feature",value:function(e){for(var t=e.allDatas.features,n=[],r=0,o=t.length;r<o;r++){var i=t[r],a=i.geometry.coordinates;"Point"===t[r].geometry.type&&t[r].properties&&(t[r].properties.lon=a[0],t[r].properties.lat=a[1]),n.properties.index=r+"",n.push(i)}return n}},{key:"_getFeatureBySQL",value:function(e,t,n,r){var o,i,a;o=new LZ({name:t.join().replace(":","@"),attributeFilter:"SMID > 0"}),a=new u0({queryParameter:o,datasetNames:t,fromIndex:0,toIndex:1e5,returnContent:!0}),i=new c0(e,{eventListeners:{processCompleted:function(e){n&&n(e)},processFailed:function(e){r&&r(e)}}}),i.processAsync(a)}},{key:"_queryFeatureBySQL",value:function(e,t,n,r,o,i,a,s,l,u){var c,f,p;c=new LZ({name:t,attributeFilter:n}),r&&(c.fields=r);var h={queryParams:[c]};u&&(h.queryOption=sX.ATTRIBUTE),s&&(h.startRecord=s),l&&(h.expectCount=l),o&&(h.prjCoordSys={epsgCode:o}),f=new S1(h),p=new v3.a.supermap.QueryService(e),p.queryBySQL(f,function(e){"processCompleted"===e.type?i(e):a(e)})}},{key:"_handleMultyPolygon",value:function(e){return e.forEach(function(e){if("Polygon"===e.geometry.type){var t=e.geometry.coordinates;if(t.length>1){var n=[];t.forEach(function(e){n.push([e])}),e.geometry.coordinates=n,e.geometry.type="MultiPolygon"}}}),e}}]),t}(v3.a.Evented);v3.a.supermap.WebMap=L4,n.d(t,"SuperMap",function(){return rX}),n.d(t,"DataFormat",function(){return oX}),n.d(t,"ServerType",function(){return iX}),n.d(t,"GeometryType",function(){return aX}),n.d(t,"QueryOption",function(){return sX}),n.d(t,"JoinType",function(){return lX}),n.d(t,"EngineType",function(){return yX}),n.d(t,"MeasureMode",function(){return fX}),n.d(t,"SpatialRelationType",function(){return cX}),n.d(t,"DataReturnMode",function(){return IX}),n.d(t,"Unit",function(){return pX}),n.d(t,"BufferRadiusUnit",function(){return hX}),n.d(t,"SpatialQueryMode",function(){return uX}),n.d(t,"ThemeGraphTextFormat",function(){return dX}),n.d(t,"ThemeGraphType",function(){return vX}),n.d(t,"GraphAxesTextDisplayMode",function(){return mX}),n.d(t,"GraduatedMode",function(){return bX}),n.d(t,"RangeMode",function(){return gX}),n.d(t,"ThemeType",function(){return SX}),n.d(t,"ColorGradientType",function(){return wX}),n.d(t,"TextAlignment",function(){return OX}),n.d(t,"FillGradientMode",function(){return _X}),n.d(t,"SideType",function(){return kX}),n.d(t,"AlongLineDirection",function(){return PX}),n.d(t,"LabelBackShape",function(){return CX}),n.d(t,"LabelOverLengthMode",function(){return TX}),n.d(t,"DirectionType",function(){return EX}),n.d(t,"OverlayOperationType",function(){return RX}),n.d(t,"SupplyCenterType",function(){return xX}),n.d(t,"TurnType",function(){return jX}),n.d(t,"BufferEndType",function(){return AX}),n.d(t,"SmoothMethod",function(){return NX}),n.d(t,"SurfaceAnalystMethod",function(){return MX}),n.d(t,"ColorSpaceType",function(){return UX}),n.d(t,"ChartType",function(){return KX}),n.d(t,"EditType",function(){return FX}),n.d(t,"TransferTactic",function(){return DX}),n.d(t,"TransferPreference",function(){return GX}),n.d(t,"GridType",function(){return BX}),n.d(t,"ClientType",function(){return XX}),n.d(t,"LayerType",function(){return HX}),n.d(t,"UGCLayerType",function(){return JX}),n.d(t,"StatisticMode",function(){return zX}),n.d(t,"PixelFormat",function(){return VX}),n.d(t,"SearchMode",function(){return WX}),n.d(t,"SummaryType",function(){return nK}),n.d(t,"InterpolationAlgorithmType",function(){return qX}),n.d(t,"VariogramMode",function(){return YX}),n.d(t,"Exponent",function(){return QX}),n.d(t,"ClipAnalystMode",function(){return ZX}),n.d(t,"AnalystAreaUnit",function(){return $X}),n.d(t,"AnalystSizeUnit",function(){return eK}),n.d(t,"StatisticAnalystMode",function(){return tK}),n.d(t,"TopologyValidatorRule",function(){return rK}),n.d(t,"OutputType",function(){return LX}),n.d(t,"AggregationQueryBuilderType",function(){return iK}),n.d(t,"AggregationType",function(){return oK}),n.d(t,"GetFeatureMode",function(){return aK}),n.d(t,"TimeFlowControl",function(){return JK}),n.d(t,"IManager",function(){return tZ}),n.d(t,"IManagerServiceBase",function(){return $K}),n.d(t,"IManagerCreateNodeParam",function(){return eZ}),n.d(t,"IPortal",function(){return vZ}),n.d(t,"IPortalQueryParam",function(){return hZ}),n.d(t,"IPortalResource",function(){return dZ}),n.d(t,"IPortalQueryResult",function(){return yZ}),n.d(t,"IPortalMap",function(){return lZ}),n.d(t,"IPortalMapsQueryParam",function(){return rZ}),n.d(t,"IPortalInsight",function(){return uZ}),n.d(t,"IPortalInsightsQueryParam",function(){return oZ}),n.d(t,"IPortalScene",function(){return cZ}),n.d(t,"IPortalScenesQueryParam",function(){return iZ}),n.d(t,"IPortalService",function(){return sZ}),n.d(t,"IPortalServiceBase",function(){return aZ}),n.d(t,"IPortalServicesQueryParam",function(){return nZ}),n.d(t,"IPortalMapdashboard",function(){return fZ}),n.d(t,"IPortalMapdashboardsQueryParam",function(){return pZ}),n.d(t,"Online",function(){return C2}),n.d(t,"OnlineData",function(){return P2}),n.d(t,"OnlineQueryDatasParameter",function(){return T2}),n.d(t,"ServiceStatus",function(){return g2}),n.d(t,"DataItemType",function(){return S2}),n.d(t,"DataItemOrderBy",function(){return w2}),n.d(t,"FilterField",function(){return O2}),n.d(t,"OnlineServiceBase",function(){return _2}),n.d(t,"KeyServiceParameter",function(){return E2}),n.d(t,"SecurityManager",function(){return ZK}),n.d(t,"ServerInfo",function(){return k2}),n.d(t,"TokenServiceParameter",function(){return x2}),n.d(t,"ElasticSearch",function(){return R2}),n.d(t,"FetchRequest",function(){return KK}),n.d(t,"ColorsPickerUtil",function(){return I2}),n.d(t,"ArrayStatistic",function(){return F2}),n.d(t,"AreaSolarRadiationParameters",function(){return _Z}),n.d(t,"AggregationParameter",function(){return OZ}),n.d(t,"AggQueryBuilderParameter",function(){return wZ}),n.d(t,"BufferAnalystParameters",function(){return kZ}),n.d(t,"BufferDistance",function(){return TZ}),n.d(t,"BuffersAnalystJobsParameter",function(){return GZ}),n.d(t,"BufferSetting",function(){return EZ}),n.d(t,"BurstPipelineAnalystParameters",function(){return HZ}),n.d(t,"ChartQueryFilterParameter",function(){return WZ}),n.d(t,"ChartQueryParameters",function(){return qZ}),n.d(t,"ClipParameter",function(){return XZ}),n.d(t,"ColorDictionary",function(){return KZ}),n.d(t,"ComputeWeightMatrixParameters",function(){return e$}),n.d(t,"DataReturnOption",function(){return xZ}),n.d(t,"DatasetBufferAnalystParameters",function(){return NZ}),n.d(t,"DatasetInfo",function(){return r$}),n.d(t,"DatasetOverlayAnalystParameters",function(){return i$}),n.d(t,"DatasetSurfaceAnalystParameters",function(){return l$}),n.d(t,"DatasetThiessenAnalystParameters",function(){return c$}),n.d(t,"DatasourceConnectionInfo",function(){return AZ}),n.d(t,"DensityKernelAnalystParameters",function(){return f$}),n.d(t,"EditFeaturesParameters",function(){return h$}),n.d(t,"FacilityAnalyst3DParameters",function(){return d$}),n.d(t,"FacilityAnalystSinks3DParameters",function(){return v$}),n.d(t,"FacilityAnalystSources3DParameters",function(){return b$}),n.d(t,"FacilityAnalystStreamParameters",function(){return S$}),n.d(t,"FacilityAnalystTracedown3DParameters",function(){return O$}),n.d(t,"FacilityAnalystTraceup3DParameters",function(){return P$}),n.d(t,"FacilityAnalystUpstream3DParameters",function(){return T$}),n.d(t,"FieldParameters",function(){return x$}),n.d(t,"FieldStatisticsParameters",function(){return j$}),n.d(t,"FilterParameter",function(){return LZ}),n.d(t,"FilterAggParameter",function(){return k$}),n.d(t,"FindClosestFacilitiesParameters",function(){return R$}),n.d(t,"FindLocationParameters",function(){return N$}),n.d(t,"FindMTSPPathsParameters",function(){return I$}),n.d(t,"FindPathParameters",function(){return D$}),n.d(t,"FindServiceAreasParameters",function(){return B$}),n.d(t,"FindTSPPathsParameters",function(){return H$}),n.d(t,"GenerateSpatialDataParameters",function(){return z$}),n.d(t,"GeoBoundingBoxQueryBuilderParameter",function(){return W$}),n.d(t,"GeoCodingParameter",function(){return bZ}),n.d(t,"GeoDecodingParameter",function(){return gZ}),n.d(t,"GeoHashGridAggParameter",function(){return q$}),n.d(t,"GeometryBufferAnalystParameters",function(){return MZ}),n.d(t,"GeometryOverlayAnalystParameters",function(){return Y$}),n.d(t,"GeometrySurfaceAnalystParameters",function(){return Q$}),n.d(t,"GeometryThiessenAnalystParameters",function(){return X$}),n.d(t,"GeoRelationAnalystParameters",function(){return K$}),
n.d(t,"GetFeaturesByBoundsParameters",function(){return e0}),n.d(t,"GetFeaturesByBufferParameters",function(){return r0}),n.d(t,"GetFeaturesByGeometryParameters",function(){return i0}),n.d(t,"GetFeaturesByIDsParameters",function(){return s0}),n.d(t,"GetFeaturesBySQLParameters",function(){return u0}),n.d(t,"GetGridCellInfosParameters",function(){return p0}),n.d(t,"Grid",function(){return H0}),n.d(t,"Image",function(){return Q2}),n.d(t,"InterpolationAnalystParameters",function(){return W0}),n.d(t,"InterpolationIDWAnalystParameters",function(){return Q0}),n.d(t,"InterpolationKrigingAnalystParameters",function(){return X0}),n.d(t,"InterpolationRBFAnalystParameters",function(){return q0}),n.d(t,"JoinItem",function(){return jZ}),n.d(t,"KernelDensityJobParameter",function(){return Z0}),n.d(t,"LabelImageCell",function(){return t1}),n.d(t,"LabelMatrixCell",function(){return e1}),n.d(t,"LabelMixedTextStyle",function(){return w0}),n.d(t,"LabelSymbolCell",function(){return n1}),n.d(t,"LabelThemeCell",function(){return r1}),n.d(t,"LayerStatus",function(){return o1}),n.d(t,"LinkItem",function(){return RZ}),n.d(t,"MathExpressionAnalysisParameters",function(){return a1}),n.d(t,"MeasureParameters",function(){return l1}),n.d(t,"OutputSetting",function(){return FZ}),n.d(t,"MappingParameters",function(){return DZ}),n.d(t,"OverlapDisplayedOptions",function(){return D0}),n.d(t,"OverlayAnalystParameters",function(){return o$}),n.d(t,"OverlayGeoJobParameter",function(){return f1}),n.d(t,"PointWithMeasure",function(){return FK}),n.d(t,"QueryByBoundsParameters",function(){return h1}),n.d(t,"QueryByDistanceParameters",function(){return v1}),n.d(t,"QueryByGeometryParameters",function(){return b1}),n.d(t,"QueryBySQLParameters",function(){return S1}),n.d(t,"QueryParameters",function(){return YZ}),n.d(t,"Route",function(){return DK}),n.d(t,"RouteCalculateMeasureParameters",function(){return O1}),n.d(t,"RouteLocatorParameters",function(){return P1}),n.d(t,"ServerColor",function(){return MK}),n.d(t,"ServerFeature",function(){return T1}),n.d(t,"ServerGeometry",function(){return GK}),n.d(t,"ServerStyle",function(){return IK}),n.d(t,"ServerTextStyle",function(){return v0}),n.d(t,"ServerTheme",function(){return U0}),n.d(t,"SetLayerInfoParameters",function(){return E1}),n.d(t,"SetLayersInfoParameters",function(){return x1}),n.d(t,"SetLayerStatusParameters",function(){return A1}),n.d(t,"SingleObjectQueryJobsParameter",function(){return L1}),n.d(t,"StopQueryParameters",function(){return M1}),n.d(t,"SummaryAttributesJobsParameter",function(){return F1}),n.d(t,"SummaryMeshJobParameter",function(){return G1}),n.d(t,"SummaryRegionJobParameter",function(){return U1}),n.d(t,"SupplyCenter",function(){return J1}),n.d(t,"SurfaceAnalystParameters",function(){return s$}),n.d(t,"SurfaceAnalystParametersSetting",function(){return a$}),n.d(t,"TerrainCurvatureCalculationParameters",function(){return V1}),n.d(t,"Theme",function(){return d0}),n.d(t,"ThemeDotDensity",function(){return R0});n.d(t,"ThemeFlow",function(){return g0}),n.d(t,"ThemeGraduatedSymbol",function(){return N0}),n.d(t,"ThemeGraduatedSymbolStyle",function(){return L0}),n.d(t,"ThemeGraph",function(){return A0}),n.d(t,"ThemeGraphAxes",function(){return E0}),n.d(t,"ThemeGraphItem",function(){return j0}),n.d(t,"ThemeGraphSize",function(){return k0}),n.d(t,"ThemeGraphText",function(){return x0}),n.d(t,"ThemeGridRange",function(){return Y1}),n.d(t,"ThemeGridRangeItem",function(){return q1}),n.d(t,"ThemeGridUnique",function(){return X1}),n.d(t,"ThemeGridUniqueItem",function(){return Q1}),n.d(t,"ThemeLabel",function(){return C0}),n.d(t,"ThemeLabelAlongLine",function(){return _0}),n.d(t,"ThemeLabelBackground",function(){return P0}),n.d(t,"ThemeLabelItem",function(){return m0}),n.d(t,"ThemeLabelText",function(){return O0}),n.d(t,"ThemeLabelUniqueItem",function(){return K1}),n.d(t,"ThemeMemoryData",function(){return y0}),n.d(t,"ThemeOffset",function(){return S0}),n.d(t,"ThemeParameters",function(){return Z1}),n.d(t,"ThemeRange",function(){return I0}),n.d(t,"ThemeRangeItem",function(){return M0}),n.d(t,"ThemeUnique",function(){return T0}),n.d(t,"ThemeUniqueItem",function(){return b0}),n.d(t,"ThiessenAnalystParameters",function(){return u$}),n.d(t,"TopologyValidatorJobsParameter",function(){return r2}),n.d(t,"TransferLine",function(){return i2}),n.d(t,"TransferPathParameters",function(){return a2}),n.d(t,"TransferSolutionParameters",function(){return l2}),n.d(t,"TransportationAnalystParameter",function(){return $Z}),n.d(t,"TransportationAnalystResultSetting",function(){return ZZ}),n.d(t,"UGCLayer",function(){return F0}),n.d(t,"UGCMapLayer",function(){return G0}),n.d(t,"UGCSubLayer",function(){return B0}),n.d(t,"UpdateEdgeWeightParameters",function(){return c2}),n.d(t,"UpdateTurnNodeWeightParameters",function(){return p2}),n.d(t,"Vector",function(){return z0}),n.d(t,"VectorClipJobsParameter",function(){return y2}),n.d(t,"FileTypes",function(){return J5}),n.d(t,"FileConfig",function(){return z5}),n.d(t,"FileModel",function(){return V5}),n.d(t,"MessageBox",function(){return W5}),n.d(t,"CommonContainer",function(){return r3}),n.d(t,"DropDownBox",function(){return i3}),n.d(t,"Select",function(){return o3}),n.d(t,"AttributesPopContainer",function(){return s3}),n.d(t,"PopContainer",function(){return a3}),n.d(t,"IndexTabsPageContainer",function(){return l3}),n.d(t,"CityTabsPage",function(){return u3}),n.d(t,"NavTabsPage",function(){return c3}),n.d(t,"PaginationContainer",function(){return f3}),n.d(t,"ComponentsUtil",function(){return p3}),n.d(t,"FileReaderUtil",function(){return Z5}),n.d(t,"ChartView",function(){return t3}),n.d(t,"ChartViewModel",function(){return e3}),n.d(t,"Logo",function(){return b3}),n.d(t,"Util",function(){return g3}),n.d(t,"MapExtend",function(){return m3}),n.d(t,"Graph",function(){return O3}),n.d(t,"Label",function(){return P3}),n.d(t,"MapvLayer",function(){return k3}),n.d(t,"RangeTheme3DLayer",function(){return j3}),n.d(t,"Range",function(){return A3}),n.d(t,"RankSymbol",function(){return R3}),n.d(t,"UniqueTheme3DLayer",function(){return L3}),n.d(t,"Unique",function(){return N3}),n.d(t,"GraphicLayer",function(){return F3}),n.d(t,"ThreeLayer",function(){return n4}),n.d(t,"HeatMapLayer",function(){return r4}),n.d(t,"DeckglLayer",function(){return o4}),n.d(t,"Graphic",function(){return M3}),n.d(t,"MapvDataSet",function(){return i4}),n.d(t,"MapvRenderer",function(){return E3}),n.d(t,"GeoFeature",function(){return _3}),n.d(t,"Theme3DLayer",function(){return x3}),n.d(t,"ThemeFeature",function(){return S3}),n.d(t,"ThemeLayer",function(){return w3}),n.d(t,"ThreeLayerRenderer",function(){return X3}),n.d(t,"Transform",function(){return B3}),n.d(t,"getDefaultVectorTileStyle",function(){return a4}),n.d(t,"setBackground",function(){return s4}),n.d(t,"setPaintProperty",function(){return l4}),n.d(t,"AddressMatchService",function(){return c4}),n.d(t,"ChartService",function(){return f4}),n.d(t,"DataFlowService",function(){return p4}),n.d(t,"FeatureService",function(){return h4}),n.d(t,"FieldService",function(){return y4}),n.d(t,"GridCellInfosService",function(){return d4}),n.d(t,"LayerInfoService",function(){return v4}),n.d(t,"MapService",function(){return m4}),n.d(t,"MeasureService",function(){return b4}),n.d(t,"NetworkAnalystService",function(){return g4}),n.d(t,"NetworkAnalyst3DService",function(){return S4}),n.d(t,"ProcessingService",function(){return w4}),n.d(t,"QueryService",function(){return O4}),n.d(t,"ServiceBase",function(){return u4}),n.d(t,"SpatialAnalystService",function(){return _4}),n.d(t,"ThemeService",function(){return P4}),n.d(t,"TrafficTransferAnalystService",function(){return C4}),n.d(t,"WebMap",function(){return L4})},function(e,t){},,,,,,function(e,t){}]);